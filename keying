#! /software/nuke/8.0v6/linux.centos5.x86_64/libnuke-8.0.v6.so -nx
version 8.0 v6
define_window_layout_xml {<?xml version="1.0" encoding="UTF-8"?>
<layout version="1.0">
    <window x="0" y="0" w="1920" h="1175" screen="0">
        <splitter orientation="1">
            <split size="1214"/>
            <splitter orientation="1">
                <split size="46"/>
                <dock id="" hideTitles="1" activePageId="Toolbar.1">
                    <page id="Toolbar.1"/>
                </dock>
                <split size="1164"/>
                <splitter orientation="2">
                    <split size="658"/>
                    <dock id="" activePageId="Viewer.1">
                        <page id="Viewer.1"/>
                    </dock>
                    <split size="463"/>
                    <dock id="" activePageId="DAG.1">
                        <page id="DAG.1"/>
                        <page id="Curve Editor.1"/>
                        <page id="DopeSheet.1"/>
                    </dock>
                </splitter>
            </splitter>
            <split size="702"/>
            <dock id="" activePageId="Properties.1">
                <page id="Properties.1"/>
                <page id="NukeElementBrowser"/>
            </dock>
        </splitter>
    </window>
</layout>
}
Root {
 inputs 0
 name /usr/people/rafal-k/Nuke/KeyingSelector_v01.nk
 luts {linear {}
   sRGB {}
   rec709 {}
   Cineon {}
   Gamma1.8 {}
   Gamma2.2 {}
   Panalog {}
   REDLog {}
   ViperLog {}
   AlexaV3LogC {}
   PLogLin {}
   SLog {}
   SLog1 {}
   REDSpace {}
   MPC_Cineon {(pow(10,(x*1023-665)*(0.002/.6))*1.0061085)-0.006109}
   AlexaLogC800_ZeroBlack {"((x > 0.149658) ? (pow(10, (x - 0.385537) / 0.24719) - 0.052272) / 5.555556 : (x - 0.092809) / 5.367655) + 0.01729042"}}
}
BackdropNode {
 inputs 0
 name BackdropNode14
 tile_color 0x8e8e3800
 label "IBK KEYER"
 note_font_size 42
 xpos -15184
 ypos 12945
 bdwidth 1416
 bdheight 377
}
BackdropNode {
 inputs 0
 name BackdropNode9
 tile_color 0x4f4f4fff
 label "Luma Slice"
 note_font_size 42
 xpos -15202
 ypos 13938
 bdwidth 1666
 bdheight 1004
}
BackdropNode {
 inputs 0
 name BackdropNode16
 tile_color 0x555555ff
 label "  Colour Difference  "
 note_font_size 42
 xpos -15206
 ypos 17739
 bdwidth 2133
 bdheight 856
}
BackdropNode {
 inputs 0
 name BackdropNode17
 tile_color 0x5a5a5aff
 label Primatte
 note_font_size 42
 xpos -15198
 ypos 15967
 bdwidth 1147
 bdheight 428
}
BackdropNode {
 inputs 0
 name BackdropNode18
 tile_color 0x7171c600
 label "Clean plate, clenscreen & despill (green)"
 note_font_size 42
 xpos -17064
 ypos 12069
 bdwidth 1188
 bdheight 751
}
BackdropNode {
 inputs 0
 name BackdropNode15
 tile_color 0x666666ff
 label <align='left>Keylight
 note_font_size 42
 xpos -15171
 ypos 16765
 bdwidth 1544
 bdheight 542
}
BackdropNode {
 inputs 0
 name BackdropNode21
 tile_color 0x434343ff
 note_font_size 42
 xpos -15326
 ypos 21409
 bdwidth 1232
 bdheight 940
}
BackdropNode {
 inputs 0
 name BackdropNode22
 tile_color 0x353535ff
 label "BG mix keyer"
 note_font_size 42
 xpos -15385
 ypos 22540
 bdwidth 1827
 bdheight 974
}
BackdropNode {
 inputs 0
 name BackdropNode20
 tile_color 0x4f4f4fff
 label "Additive Keyer"
 note_font_size 42
 xpos -15283
 ypos 19033
 bdwidth 1160
 bdheight 501
}
BackdropNode {
 inputs 0
 name BackdropNode24
 tile_color 0x8e8e3800
 label "IBK KEYER"
 note_font_size 42
 xpos -9821
 ypos 12959
 bdwidth 1416
 bdheight 377
}
BackdropNode {
 inputs 0
 name BackdropNode25
 tile_color 0x4f4f4fff
 label "Luma Slice"
 note_font_size 42
 xpos -9839
 ypos 13952
 bdwidth 1666
 bdheight 1004
}
BackdropNode {
 inputs 0
 name BackdropNode26
 tile_color 0x555555ff
 label "  Colour Difference  "
 note_font_size 42
 xpos -9843
 ypos 17753
 bdwidth 2133
 bdheight 856
}
BackdropNode {
 inputs 0
 name BackdropNode27
 tile_color 0x5a5a5aff
 label Primatte
 note_font_size 42
 xpos -9835
 ypos 15981
 bdwidth 1147
 bdheight 428
}
BackdropNode {
 inputs 0
 name BackdropNode28
 tile_color 0x7171c600
 label "Clean plate, clenscreen & despill (blue)"
 note_font_size 42
 xpos -11701
 ypos 12083
 bdwidth 1188
 bdheight 751
}
BackdropNode {
 inputs 0
 name BackdropNode30
 tile_color 0x666666ff
 label <align='left>Keylight
 note_font_size 42
 xpos -9808
 ypos 16779
 bdwidth 1544
 bdheight 542
}
BackdropNode {
 inputs 0
 name BackdropNode32
 tile_color 0x434343ff
 note_font_size 42
 xpos -9963
 ypos 21423
 bdwidth 1232
 bdheight 940
}
BackdropNode {
 inputs 0
 name BackdropNode33
 tile_color 0x353535ff
 label "BG mix keyer"
 note_font_size 42
 xpos -10022
 ypos 22554
 bdwidth 1827
 bdheight 974
}
BackdropNode {
 inputs 0
 name BackdropNode34
 tile_color 0x4f4f4fff
 label "Additive Keyer"
 note_font_size 42
 xpos -9920
 ypos 19047
 bdwidth 1160
 bdheight 501
}
BackdropNode {
 inputs 0
 name BackdropNode31
 tile_color 0x434343ff
 label "Despill Difference / Dilate keyer "
 note_font_size 42
 xpos -10173
 ypos 19966
 bdwidth 1784
 bdheight 1127
}
BackdropNode {
 inputs 0
 name BackdropNode23
 tile_color 0x434343ff
 label "Despill Difference / Dilate keyer "
 note_font_size 42
 xpos -15533
 ypos 19952
 bdwidth 1784
 bdheight 1127
}
BackdropNode {
 inputs 0
 name BackdropNode29
 tile_color 0x494949ff
 label Addmix
 note_font_size 42
 xpos -9801
 ypos 15232
 bdwidth 728
 bdheight 500
}
BackdropNode {
 inputs 0
 name BackdropNode19
 tile_color 0x494949ff
 label addmix
 note_font_size 42
 xpos -15163
 ypos 15223
 bdwidth 728
 bdheight 500
}
CheckerBoard2 {
 inputs 0
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 color0 0.05
 color1 1
 color2 0.1
 color3 0.5
 name CheckerBoard3
 xpos -16501
 ypos 11722
}
Dot {
 name Dot252
 xpos -16470
 ypos 11920
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_dks_tbr_2235_sequence/elements/I_tbr2235_fg01_v1/2048x1556/I_tbr2235_fg01_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1001
 last 1074
 origfirst 1001
 origlast 1074
 origset true
 timecode 04:13:29:03
 edge_code "02 19 04 0304 4259 47"
 name Read7
 xpos -16116
 ypos 11186
}
Denoise2 {
 useGPUIfAvailable false
 amount 0.7
 "Noise Analysis" 1
 analysisRegion {1257 910.5 1357 1010.5}
 analysisFrame 1230
 "Tune Frequencies" 1
 highAmount 1.25
 mediumAmount 5.6
 lowAmount 2.3
 veryLowAmount 3
 needsAnalyzing false
 profileCurve {profile {curve x0.1000000015 0 x0.1333521456 0 x0.1778279394 0 x0.2371373773 0 x0.3162277639 0 x0.4216965139 0 x0.5623413324 0 x0.7498942018 0 x1 0}}
 serializeKnob "0.941365 0.839208 0.842301
0.0126919 0.0245009 0.00989852
0.0126919 0.0245009 0.00989852
0.0109677 0.0238986 0.0106895
0 0 0
0.00440226 0.00835075 0.00338708
0.00440226 0.00835075 0.00338708
0.00296335 0.0065157 0.00263884
0 0 0
0.00166557 0.00379075 0.00153187
0.00166557 0.00379075 0.00153187
0.000924395 0.00268809 0.000946137
0 0 0
0.000475777 0.00175014 0.000676374
0.000475777 0.00175014 0.000676374
0.00032923 0.00141865 0.000407976
0 0 0 0 0 0 0 0 0 
12727546559935635189"
 name Denoise2
 xpos -16114
 ypos 11326
}
FrameHold {
 first_frame 1230
 name FrameHold34
 xpos -16114
 ypos 11400
}
add_layer {bg bg.red bg.green bg.blue}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 bg
 name ShuffleCopy3
 xpos -16114
 ypos 11919
}
Dot {
 name Dot239
 xpos -16083
 ypos 12149
}
set N7540130 [stack 0]
Dot {
 name Dot242
 xpos -16555
 ypos 12149
}
set N75443e0 [stack 0]
Dot {
 name Dot244
 xpos -16674
 ypos 12149
}
set N7548700 [stack 0]
Dot {
 name Dot243
 xpos -16810
 ypos 12149
}
set N754c850 [stack 0]
Dot {
 name Dot425
 xpos -17023
 ypos 12149
}
Dot {
 name Dot424
 xpos -17023
 ypos 12544
}
set N75554e0 [stack 0]
Constant {
 inputs 0
 channels rgb
 color {0.06345786154 0.2411635071 0.09219495207 0}
 name REF_COLOUR2
 xpos -16840
 ypos 12395
}
Dot {
 name Dot421
 xpos -16809
 ypos 12483
}
push $N7548700
IBKColourV3 {
 name IBKColourV3_5
 xpos -16705
 ypos 12198
 screen_type green
 Size 69
 off_panelDropped true
 mult {1 1 0.76}
 multi 3.16
}
set N7565840 [stack 0]
push $N754c850
IBKGizmoV3 {
 inputs 2
 name IBKGizmoV3_6
 selected false
 xpos -16841
 ypos 12198
 st pick
 colour {0.03041994013 0.2792362273 0.02088806592}
 red_weight 0.8
 blue_green_weight 0.695
 lm_enable true
 level 0.79
 autolevels true
 ss false
 ublu true
}
Dot {
 name Dot248
 xpos -16808
 ypos 12276
}
push $N7565840
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy1
 xpos -16711
 ypos 12269
}
Grade {
 channels alpha
 blackpoint 0.28
 white_clamp true
 name Grade13
 xpos -16711
 ypos 12307
}
push $N75443e0
Group {
 inputs 2
 name ColorDilatePF24
 knobChanged "\ntn = nuke.thisNode()\ntk = nuke.thisKnob()\n\nfullList =  tn\['fullList'].value().strip(\"\[']\").split(\"', '\")\nnodeList = fullList\[0], fullList\[1], fullList\[2], fullList\[3], fullList\[4], fullList\[5], fullList\[6]\npreviousLoopNum = tn\['previousLoopNum'].getValue()\n\ngrowTexture = tn\['growTexture'].getValue()\nqualityVal = int( tn\['quality'].getValue() )\n\n\n##### DEFINE VALUE CHANGES ##################\n\ndef valChange():\n    qualityBias = tn\['qualityBias'].getValue()\n    blurCenter = tn\['blurCenter'].getValue()\n    bcDistribution = tn\['bcDistribution'].getValue()\n    for i in range (0, qualityVal):\n        blurVal = nuke.toNode(fullList\[i*len(nodeList)])\n        erodeVal = nuke.toNode(fullList\[i*len(nodeList)+3])\n        blurCenterVal = nuke.toNode(fullList\[i*len(nodeList)+5])\n        if isinstance(growTexture, float) == True:\n            blurValSize = (growTexture/qualityVal*(i+1)*(1-qualityBias)) + (growTexture/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2)))\n            blurVal\['size'].setValue( blurValSize )\n            erodeVal\['size'].setValue(blurVal\['size'].getValue()/2)\n            blurCenterVal\['size'].setValue( ( blurValSize*(1-bcDistribution) +  (blurValSize*(bcDistribution*(pow(i+1, 2)/pow(qualityVal, 2)))) ) * blurCenter )\n        else:\n            blurVal\['size'].setValue(\[ (growTexture\[0]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[0]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) , (growTexture\[1]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[1]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) ])\n            erodeVal\['size'].setValue(\[blurVal\['size'].getValue()\[0]/2,blurVal\['size'].getValue()\[1]/2])\n            blurCenterVal\['size'].setValue(\[ (growTexture\[0]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[0]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) , (growTexture\[1]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[1]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) ])\n\ndef filterChange():\n    filters = int( tn\['filter'].getValue() )\n    filterQuality = int( tn\['filterQuality'].getValue() )\n    crop = int( tn\['crop'].getValue() )\n    for i in range (0, qualityVal):\n        blurVal = nuke.toNode(fullList\[i*len(nodeList)])\n        blurVal\['filter'].setValue( filters )\n        blurVal\['quality'].setValue( filterQuality )\n        blurVal\['crop'].setValue( crop )\n        blurCenterVal = nuke.toNode(fullList\[i*len(nodeList)])\n        blurCenterVal\['filter'].setValue( filters )\n        blurCenterVal\['quality'].setValue( filterQuality )\n        blurCenterVal\['crop'].setValue( crop )\n\n\n##### CREATE THE NODES ###################\n\nif tk.name()=='quality':\n    if qualityVal < 1:\n        qualityVal = 1\n    elif qualityVal >100:\n        qualityVal = 100\n    tn\['quality'].setValue( qualityVal )\n    \n\n    if qualityVal != previousLoopNum:\n\n\n        inputDep = nuke.dependencies(\[nuke.toNode('Unpremult1')], nuke.INPUTS)\n        resultOver = nuke.toNode( inputDep\[0].name() )\n\n        difference = qualityVal-previousLoopNum\n        if difference > 0:\n            for i in range (1, int(difference+1)):\n                \n                blur = nuke.nodes.Blur ()\n                blur\['channels'].setValue('rgba')\n                blur\['maskChannelInput'].setValue('none')\n                blur.setInput (0, nuke.toNode('Switch2'))\n                \n                unpremult = nuke.nodes.Unpremult ()\n                unpremult\['channels'].setValue('rgb')\n                unpremult\['alpha'].setValue('rgba.alpha')\n                unpremult\['invert'].setValue(0)\n                unpremult.setInput (0, blur)\n                \n                expression = nuke.nodes.Expression(expr3 = 'a==0?0:1')\n                expression.setInput (0, unpremult)\n                \n                erode = nuke.nodes.FilterErode ()\n                erode\['channels'].setValue( 'rgba.alpha' )\n                erode\['filter'].setValue( 'gaussian' )\n                erode.setInput (0, expression)\n                \n                premult = nuke.nodes.Premult ()\n                premult\['channels'].setValue( 'rgb' )\n                premult\['alpha'].setValue( 'rgba.alpha' )\n                premult.setInput (0, erode)\n\n                blurCenter = nuke.nodes.Blur ()\n                blurCenter\['channels'].setValue('rgba')\n                blurCenter\['maskChannelInput'].setValue('none')\n                blurCenter.setInput (0, premult)\n\n                mergeOver = nuke.nodes.Merge2 ()\n                mergeOver\['operation'].setValue( 'over' )\n                mergeOver\['sRGB'].setValue( 0 )\n                mergeOver\['screen_alpha'].setValue( 0 )\n                mergeOver\['bbox'].setValue( 'union' )\n                mergeOver\['Achannels'].setValue( 'rgba' )\n                mergeOver\['Bchannels'].setValue( 'rgba' )\n                mergeOver\['output'].setValue( 'rgba' )\n                mergeOver\['also_merge'].setValue( 'none' )\n                mergeOver.setInput (0, blurCenter)\n                mergeOver.setInput (1, resultOver)\n                \n                \n                resultOver = mergeOver\n                \n                \n                nodeList = blur.name(), unpremult.name(), expression.name(), erode.name(), premult.name(), blurCenter.name(), resultOver.name()\n                fullList.extend(nodeList)\n\n\n##### DELETE THE NODES ##################################\n\n        else:\n            fullList.reverse()\n            for i in range (int(qualityVal), int(previousLoopNum)):\n                for i in range (0, len(nodeList)):\n                    nuke.delete(nuke.toNode(fullList\[0]))\n                    del fullList\[0]\n                resultOver = nuke.toNode(fullList\[0])\n                resultExpression = nuke.toNode(fullList\[3])\n            fullList.reverse()\n\n        nuke.toNode('Unpremult1').setInput(0, resultOver)\n        valChange()\n        filterChange()\n                \n        previousLoopNum = qualityVal\n        \n        tn\['previousLoopNum'].setValue( int(previousLoopNum) )\n        tn\['fullList'].setValue( str(fullList) )\n\n\n\n##### CHANGE EXISTING VALUES #####################\n\nif tk.name()=='growTexture':\n    valChange()\n    \nif tk.name()=='qualityBias':\n    valChange()\n\nif tk.name()=='blurCenter':\n    valChange()\n\nif tk.name()=='bcDistribution':\n    valChange()\n    \nif tk.name()=='filter':\n    filterChange()\n    \nif tk.name()=='filterQuality':\n    filterChange()\n    \nif tk.name()=='crop':\n    filterChange()\n\n\n"
 note_font "Bitstream Vera Sans"
 xpos -16586
 ypos 12313
 addUserKnob {20 User l fColourDilate}
 addUserKnob {14 growTexture l "Grow Texture" R 0 100}
 growTexture 100
 addUserKnob {14 erodeMatte l "Erode Matte" t "Dilate or erode the matte to adjust the grow start paint" R -100 100}
 erodeMatte -21
 addUserKnob {7 expandMatte l "Expand Matte" t "Expand or compress the matte to adjust the grow start point" R -0.99999 0.99999}
 expandMatte -0.73
 addUserKnob {7 quality l Iterations t "The number of iterations Colour Dilate will go through.  More is slower.  Max steps is 100" R 1 20}
 quality 10
 addUserKnob {7 qualityBias l Distribution t "0 is a linear distribution.  1 is exponential distribution.\nExponential is smoother with low quality.\nLinear is better with high quality."}
 qualityBias 1
 addUserKnob {26 ""}
 addUserKnob {7 blurCenter l "Blur Center" t "Soften central area where opposite dilates meet creating a hard line.  Is a multiple of Grow Texture." R 0 5}
 blurCenter 1
 addUserKnob {7 bcDistribution l "BC Distribution" t "0 blurs a direct multiple of Grow Texture. 1 blurs exponentially more towards the center."}
 addUserKnob {26 ""}
 addUserKnob {4 filter l Filter t "filter\n" M {box triangle quadratic gaussian ""}}
 filter gaussian
 addUserKnob {3 filterQuality l " " -STARTLINE}
 filterQuality 15
 addUserKnob {6 crop l "crop to format" -STARTLINE}
 crop true
 addUserKnob {4 matteOutput l "Matte Output" M {rgb.alpha matte "dilated matte" "dilated area" "grain matte" ""}}
 matteOutput "dilated matte"
 addUserKnob {26 blank l "" -STARTLINE T "      "}
 addUserKnob {6 invertMatte l "invert Matte" -STARTLINE}
 addUserKnob {26 blank2 l "" -STARTLINE T "      "}
 addUserKnob {6 rgbIsPremult l "RGB is Premult?" -STARTLINE}
 addUserKnob {1 colorDilate l INVISIBLE t "Keep me hidden" +INVISIBLE}
 addUserKnob {3 previousLoopNum l INVISIBLE +INVISIBLE}
 previousLoopNum 10
 addUserKnob {1 fullList l INVISIBLE +INVISIBLE}
 fullList "\['Blur1', 'Unpremult2', 'Expression1', 'FilterErode2', 'Premult1', 'BlurCenter', 'Merge2', 'Blur2', 'Unpremult3', 'Expression2', 'FilterErode3', 'Premult2', 'Blur3', 'Merge5', 'Blur4', 'Unpremult4', 'Expression3', 'FilterErode4', 'Premult3', 'Blur5', 'Merge6', 'Blur6', 'Unpremult5', 'Expression4', 'FilterErode5', 'Premult4', 'Blur7', 'Merge7', 'Blur8', 'Unpremult6', 'Expression5', 'FilterErode6', 'Premult5', 'Blur9', 'Merge8', 'Blur10', 'Unpremult7', 'Expression6', 'FilterErode7', 'Premult6', 'Blur11', 'Merge9', 'Blur12', 'Unpremult8', 'Expression7', 'FilterErode8', 'Premult7', 'Blur13', 'Merge10', 'Blur14', 'Unpremult9', 'Expression9', 'FilterErode9', 'Premult8', 'Blur15', 'Merge11', 'Blur16', 'Unpremult10', 'Expression10', 'FilterErode10', 'Premult9', 'Blur17', 'Merge12', 'Blur18', 'Unpremult11', 'Expression11', 'FilterErode11', 'Premult10', 'Blur19', 'Merge13']"
}
 Input {
  inputs 0
  name InputMask
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -665
  number 1
 }
set N770ebb0 [stack 0]
 AddChannels {
  channels alpha
  name AddChannels2
  note_font "Bitstream Vera Sans"
  xpos 365
  ypos 1125
 }
 Dot {
  name Dot3
  note_font "Bitstream Vera Sans"
  xpos 399
  ypos 1183
 }
 Input {
  inputs 0
  name InputRGB
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -531
 }
set N771f0c0 [stack 0]
 AddChannels {
  channels alpha
  name AddChannels1
  note_font "Bitstream Vera Sans"
  xpos 348
  ypos 949
 }
 Dot {
  name Dot2
  note_font "Bitstream Vera Sans"
  xpos 382
  ypos 1078
 }
push $N770ebb0
 FilterErode {
  channels alpha
  size {{invertMatte==0?erodeMatte.w:-erodeMatte.w i} {invertMatte==0?erodeMatte.h:-erodeMatte.h i}}
  name FilterErode1
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -621
 }
 Invert {
  channels alpha
  mix {{invertMatte i}}
  name Invert2
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -563
 }
 Grade {
  channels alpha
  blackpoint {{"clamp(expandMatte, 0, 1)" i}}
  whitepoint {{"clamp(1+expandMatte, 0, 1)" i}}
  white_clamp true
  name Grade1
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -505
 }
 Grade {
  channels alpha
  whitepoint 0.5
  black_clamp false
  white_clamp true
  name Grade6
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -345
 }
 Dot {
  name Dot1
  note_font "Bitstream Vera Sans"
  xpos 837
  ypos -287
 }
set N7761f40 [stack 0]
push $N771f0c0
 AddChannels {
  channels alpha
  name AddChannels3
  note_font "Bitstream Vera Sans"
  xpos 1120
  ypos -444
 }
push $N771f0c0
 Shuffle {
  alpha white
  name Shuffle1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -458
 }
 Crop {
  box {{InputRGB.bbox.x i x1001 542} {InputRGB.bbox.y i} {InputRGB.bbox.r i} {InputRGB.bbox.t i}}
  name Crop3
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -414
 }
 Switch {
  inputs 2
  which {{rgbIsPremult i}}
  name Switch1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -370
 }
 Dot {
  name Dot5
  note_font "Bitstream Vera Sans"
  xpos 1047
  ypos -326
 }
set N778aa50 [stack 0]
 Merge2 {
  inputs 2
  operation stencil
  bbox intersection
  name Merge1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -292
 }
push $N7761f40
 Dot {
  name Dot4
  note_font "Bitstream Vera Sans"
  xpos 837
  ypos -253
 }
push $N778aa50
 Dot {
  name Dot6
  note_font "Bitstream Vera Sans"
  xpos 946
  ypos -326
 }
 Merge2 {
  inputs 2
  operation stencil
  bbox B
  name Merge3
  note_font "Bitstream Vera Sans"
  xpos 912
  ypos -258
 }
 Dot {
  name Dot7
  note_font "Bitstream Vera Sans"
  xpos 946
  ypos -192
 }
 Switch {
  inputs 2
  which {{invertMatte i}}
  name Switch2
  note_font "Bitstream Vera Sans"
  xpos 1002
  ypos -196
 }
set N77b8bb0 [stack 0]
push $N77b8bb0
 Blur {
  channels rgba
  size 0.1
  name Blur1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos -26
 }
 Unpremult {
  name Unpremult2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 18
 }
 Expression {
  expr3 a==0?0:1
  name Expression1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 62
 }
 FilterErode {
  channels alpha
  size 0.05
  filter gaussian
  name FilterErode2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 106
 }
 Premult {
  name Premult1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 164
 }
 Blur {
  channels rgba
  size 0.1
  name BlurCenter
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 222
 }
 Merge2 {
  inputs 2
  name Merge2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 280
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 0.8
  name Blur2
 }
 Unpremult {
  name Unpremult3
 }
 Expression {
  expr3 a==0?0:1
  name Expression2
 }
 FilterErode {
  channels alpha
  size 0.4
  filter gaussian
  name FilterErode3
 }
 Premult {
  name Premult2
 }
 Blur {
  channels rgba
  size 0.8
  name Blur3
 }
 Merge2 {
  inputs 2
  name Merge5
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 2.7
  name Blur4
 }
 Unpremult {
  name Unpremult4
 }
 Expression {
  expr3 a==0?0:1
  name Expression3
 }
 FilterErode {
  channels alpha
  size 1.35
  filter gaussian
  name FilterErode4
 }
 Premult {
  name Premult3
 }
 Blur {
  channels rgba
  size 2.7
  name Blur5
 }
 Merge2 {
  inputs 2
  name Merge6
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 6.4
  name Blur6
 }
 Unpremult {
  name Unpremult5
 }
 Expression {
  expr3 a==0?0:1
  name Expression4
 }
 FilterErode {
  channels alpha
  size 3.2
  filter gaussian
  name FilterErode5
 }
 Premult {
  name Premult4
 }
 Blur {
  channels rgba
  size 6.4
  name Blur7
 }
 Merge2 {
  inputs 2
  name Merge7
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 12.5
  name Blur8
 }
 Unpremult {
  name Unpremult6
 }
 Expression {
  expr3 a==0?0:1
  name Expression5
 }
 FilterErode {
  channels alpha
  size 6.25
  filter gaussian
  name FilterErode6
 }
 Premult {
  name Premult5
 }
 Blur {
  channels rgba
  size 12.5
  name Blur9
 }
 Merge2 {
  inputs 2
  name Merge8
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 21.6
  name Blur10
 }
 Unpremult {
  name Unpremult7
 }
 Expression {
  expr3 a==0?0:1
  name Expression6
 }
 FilterErode {
  channels alpha
  size 10.8
  filter gaussian
  name FilterErode7
 }
 Premult {
  name Premult6
 }
 Blur {
  channels rgba
  size 21.6
  name Blur11
 }
 Merge2 {
  inputs 2
  name Merge9
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 34.3
  name Blur12
 }
 Unpremult {
  name Unpremult8
 }
 Expression {
  expr3 a==0?0:1
  name Expression7
 }
 FilterErode {
  channels alpha
  size 17.15
  filter gaussian
  name FilterErode8
 }
 Premult {
  name Premult7
 }
 Blur {
  channels rgba
  size 34.3
  name Blur13
 }
 Merge2 {
  inputs 2
  name Merge10
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 51.2
  name Blur14
 }
 Unpremult {
  name Unpremult9
 }
 Expression {
  expr3 a==0?0:1
  name Expression9
 }
 FilterErode {
  channels alpha
  size 25.6
  filter gaussian
  name FilterErode9
 }
 Premult {
  name Premult8
 }
 Blur {
  channels rgba
  size 51.2
  name Blur15
 }
 Merge2 {
  inputs 2
  name Merge11
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 72.9
  name Blur16
 }
 Unpremult {
  name Unpremult10
 }
 Expression {
  expr3 a==0?0:1
  name Expression10
 }
 FilterErode {
  channels alpha
  size 36.45
  filter gaussian
  name FilterErode10
 }
 Premult {
  name Premult9
 }
 Blur {
  channels rgba
  size 72.9
  name Blur17
 }
 Merge2 {
  inputs 2
  name Merge12
 }
push $N77b8bb0
 Blur {
  channels rgba
  size 100
  name Blur18
 }
 Unpremult {
  name Unpremult11
 }
 Expression {
  expr3 a==0?0:1
  name Expression11
 }
 FilterErode {
  channels alpha
  size 50
  filter gaussian
  name FilterErode11
 }
 Premult {
  name Premult10
 }
 Blur {
  channels rgba
  size 100
  name Blur19
 }
 Merge2 {
  inputs 2
  name Merge13
 }
 Unpremult {
  name Unpremult1
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 966
 }
 Dot {
  name Dot11
  xpos 258
  ypos 1020
 }
set N7a975d0 [stack 0]
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==0?1:0 i}}
  name Copy2
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1068
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==1?1:0}}
  name Copy1
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1173
 }
 Dot {
  name Dot8
  xpos 258
  ypos 1227
 }
set N7a8ec40 [stack 0]
 Dot {
  name Dot9
  xpos 453
  ypos 1227
 }
 Expression {
  expr3 a<=0.000001?0:1
  name Expression12
  note_font "Bitstream Vera Sans"
  xpos 419
  ypos 1261
 }
 Dot {
  name Dot10
  xpos 453
  ypos 1303
 }
push $N7a975d0
 Dot {
  name Dot13
  xpos 521
  ypos 1020
 }
 Dot {
  name Dot12
  xpos 521
  ypos 1205
 }
push $N771f0c0
 Merge2 {
  inputs 2
  operation difference
  bbox B
  name Merge14
  xpos 563
  ypos 1201
 }
 Keyer {
  operation "luminance key"
  range {0 1e-05 1 1}
  name Keyer1
  xpos 563
  ypos 1243
 }
 Merge2 {
  inputs 2
  operation mask
  bbox B
  name Merge15
  xpos 563
  ypos 1299
 }
 Dot {
  name Dot14
  xpos 597
  ypos 1341
 }
push $N7a8ec40
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==4?1:0 i}}
  name Copy3
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1331
 }
set N7acda70 [stack 0]
 Expression {
  expr3 a<=0.000001?0:1
  mix {{matteOutput==3?1:0}}
  name Expression8
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1418
 }
push $N771f0c0
 Merge2 {
  inputs 2
  operation copy
  bbox B
  name Merge4
  xpos 932
  ypos 1418
 }
 Output {
  name Output1
  note_font "Bitstream Vera Sans"
  xpos 932
  ypos 1579
 }
push $N771f0c0
push $N7acda70
 Viewer {
  inputs 2
  input_process false
  name Viewer1
  xpos 336
  ypos 1225
 }
end_group
Blur {
 channels rgba
 size 9.2
 name Blur2
 xpos -16586
 ypos 12353
}
Dot {
 name Dot245
 xpos -16560
 ypos 12394
}
set N7b4de20 [stack 0]
Dot {
 name Dot423
 xpos -16702
 ypos 12394
}
Merge2 {
 inputs 2
 operation divide
 bbox B
 name Merge6
 xpos -16733
 ypos 12482
}
Merge2 {
 inputs 2
 operation multiply
 name Multiply
 xpos -16733
 ypos 12543
}
Dot {
 name Dot422
 xpos -16702
 ypos 12657
}
Dot {
 name Dot429
 label "simple\ncleanscreen"
 xpos -16643
 ypos 12657
}
StickyNote {
 inputs 0
 name StickyNote81
 label "green difference"
 xpos -14891
 ypos 18022
}
StickyNote {
 inputs 0
 name StickyNote80
 label "blue difference"
 xpos -14629
 ypos 18020
}
push $N75554e0
Group {
 name L_Despill_v13
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -17054
 ypos 12790
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set N7b95700 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set N7b9de70 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set N7baa790 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set N7baea50 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set N7bb70c0 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $N7baa790
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $N7b95700
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set N7c06a00 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set N7c15ea0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $N7c15ea0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $N7c15ea0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $N7c15ea0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $N7c15ea0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set N7c5ee40 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set N7c63240 [stack 0]
push $N7c06a00
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set N7c74900 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $N7c74900
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $N7c74900
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $N7c74900
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $N7c74900
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set N7cbdc20 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set N7cc1f20 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $N7c63240
push $N7cc1f20
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set N7cfb850 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set N7cffac0 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $N7cffac0
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set N7d18770 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $N7d18770
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $N7d18770
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $N7d18770
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $N7cffac0
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set N7d874f0 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $N7d874f0
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $N7d874f0
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $N7d874f0
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set N7df6220 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set N7dfdb70 [stack 0]
push $N7dfdb70
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $N7cffac0
push $N7df6220
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set N7e2d560 [stack 0]
push $N7cfb850
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $N7cffac0
push $N7e2d560
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set N7e8af60 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set N7e98430 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set N7e9c6f0 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $N7e9c6f0
push $N7baea50
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $N7e98430
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set N7ecb0a0 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set N7edc6a0 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set N7ee0d60 [stack 0]
push $N7ee0d60
push $N7e8af60
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set N7ee09d0 [stack 0]
push $N7ee09d0
push $N7c5ee40
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $N7cbdc20
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black 0.0005
  white 0.98
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $N7ecb0a0
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set N7f89ac0 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $N7edc6a0
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $N7bb70c0
push $N7f89ac0
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $N7b9de70
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $N7bb70c0
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
push $N7b4de20
Dot {
 name Dot249
 xpos -16560
 ypos 12526
}
set N800a680 [stack 0]
push $N800a680
push $N7540130
add_layer {cleanplate cleanplate.red cleanplate.green cleanplate.blue}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 cleanplate
 name ShuffleCopy1
 xpos -16108
 ypos 12525
}
Dot {
 name Dot188
 xpos -16077
 ypos 12603
}
set N800e2b0 [stack 0]
Group {
 inputs 2
 name PxF_ScreenClean1
 xpos -16591
 ypos 12602
 addUserKnob {20 User}
 addUserKnob {4 screen_type l ScreenType t "Select the color of\nthe screen you wish\nto clean." M {Red Green Blue "" ""}}
 screen_type Green
 addUserKnob {18 screen_color l ScreenColor}
 screen_color {0.02971651219 0.2766803801 0.02091316506}
 addUserKnob {6 screen_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 screen_color_panelDropped true
 addUserKnob {26 ""}
 addUserKnob {26 t l "" t "PxF_ScreenClean.\nInput 1 = Plate.\nInput 2 = Clean Plate.\nUse ScreenClean to erase\nimperfections in a green/blue/red\nscreen using a clean plate." -STARTLINE T "PxF_ScreenClean 2.0.2 - (c) 2012 - Xavier Bourque - www.pixelfudger.com"}
}
 Input {
  inputs 0
  name mask
  xpos 419
  ypos 274
  number 2
 }
 Input {
  inputs 0
  name plate
  xpos 203
  ypos -448
 }
 Dot {
  name Dot1
  xpos 209
  ypos -347
 }
set N8030090 [stack 0]
 Dot {
  name Dot2
  xpos -64
  ypos -202
 }
 Dot {
  name Dot3
  xpos -57
  ypos 214
 }
set N8038680 [stack 0]
push $N8038680
push $N8030090
 Shuffle {
  red blue
  green blue
  alpha black
  name Blue
  xpos 203
  ypos -187
 }
set N803ca00 [stack 0]
push $N8030090
 Shuffle {
  red green
  blue green
  alpha black
  name Green
  xpos 112
  ypos -179
 }
set N8049f20 [stack 0]
push $N8030090
 Shuffle {
  green red
  blue red
  alpha black
  name Red
  xpos 17
  ypos -180
 }
set N8057430 [stack 0]
 Switch {
  inputs 3
  which {{screen_type i x1 0}}
  name High
  xpos 17
  ypos -101
 }
push $N8049f20
push $N8057430
 Switch {
  inputs 2
  which {{"screen_type == 0 ? 1 : screen_type == 1 ? 0 : 0" i x1 0}}
  name LowA
  xpos 148
  ypos -110
 }
push $N803ca00
push $N8049f20
push 0
 Switch {
  inputs 3
  which {{"screen_type == 0 ? 2 : screen_type == 1 ? 2 : 1" i x1 1}}
  name LowB
  xpos 261
  ypos -106
 }
 Merge2 {
  inputs 2
  operation max
  name Merge1
  xpos 218
  ypos -57
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge2
  selected true
  xpos 118
  ypos -20
 }
 Input {
  inputs 0
  name clean_plate
  xpos 462
  ypos -437
  number 1
 }
 Dot {
  name Dot4
  xpos 530
  ypos -235
 }
set N8097470 [stack 0]
 Shuffle {
  red blue
  green blue
  alpha black
  name Blue1
  xpos 570
  ypos -194
 }
set N809b730 [stack 0]
push $N8097470
 Shuffle {
  red green
  blue green
  alpha black
  name Green1
  xpos 481
  ypos -195
 }
set N80a8c60 [stack 0]
push $N8097470
 Shuffle {
  green red
  blue red
  alpha black
  name Red1
  xpos 382
  ypos -194
 }
set N80b6170 [stack 0]
 Switch {
  inputs 3
  which {{screen_type i x1 0}}
  name High1
  xpos 400
  ypos -131
 }
push $N80a8c60
push $N80b6170
 Switch {
  inputs 2
  which {{"screen_type == 0 ? 1 : screen_type == 1 ? 0 : 0" i}}
  name LowA1
  xpos 498
  ypos -131
 }
push $N809b730
push $N80a8c60
push 0
 Switch {
  inputs 3
  which {{"screen_type == 0 ? 2 : screen_type == 1 ? 2 : 1" i}}
  name LowB1
  xpos 592
  ypos -128
 }
 Merge2 {
  inputs 2
  operation max
  name Merge3
  xpos 532
  ypos -73
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge4
  xpos 417
  ypos -16
 }
 Merge2 {
  inputs 2
  operation divide
  name Merge5
  xpos 309
  ypos 91
 }
 Clamp {
  name Clamp1
  xpos 309
  ypos 114
 }
push $N8097470
 Dot {
  name Dot5
  xpos 720
  ypos -198
 }
push $N8030090
 Dot {
  name Dot7
  xpos 845
  ypos -231
 }
 ColorCorrect {
  gain 0
  offset {{screen_color.r i} {screen_color.g i} {screen_color.b i} {1 i}}
  name ColorCorrect1
  xpos 811
  ypos -159
  postage_stamp true
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge6
  xpos 686
  ypos -25
 }
 Dot {
  name Dot6
  xpos 688
  ypos 165
 }
 Merge2 {
  inputs 2
  operation multiply
  name Merge7
  xpos 309
  ypos 168
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge8
  xpos 309
  ypos 210
 }
 Keymix {
  inputs 3
  invertMask true
  bbox B
  name Keymix1
  xpos 309
  ypos 299
  disable {{"\[exists parent.input2] ? 0 : 1" i x1 0}}
 }
 Output {
  name Output1
  xpos 309
  ypos 348
 }
end_group
Dot {
 name Dot189
 xpos -16560
 ypos 12657
}
push $N800e2b0
add_layer {cleanscreen cleanscreen.red cleanscreen.green cleanscreen.blue}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 cleanscreen
 name ShuffleCopy2
 xpos -16108
 ypos 12656
}
add_layer {despill despill.red despill.green despill.blue}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 despill
 name ShuffleCopy4
 xpos -16109
 ypos 12790
}
Dot {
 name Dot238
 xpos -16078
 ypos 12791
}
set N8184a90 [stack 0]
Dot {
 name Dot512
 xpos -16056
 ypos 13839
}
set N8188d40 [stack 0]
Dot {
 name Dot413
 xpos -16056
 ypos 15246
}
set N818d060 [stack 0]
Dot {
 name Dot513
 xpos -16056
 ypos 16047
}
set N8191380 [stack 0]
Dot {
 name Dot514
 xpos -16056
 ypos 16845
}
set N81956a0 [stack 0]
Dot {
 name Dot515
 xpos -16056
 ypos 17819
}
set N8176fc0 [stack 0]
Dot {
 name Dot491
 xpos -16056
 ypos 19113
}
set N75550c0 [stack 0]
Dot {
 name Dot445
 xpos -16056
 ypos 20032
}
set N819d8e0 [stack 0]
Dot {
 name Dot518
 xpos -16056
 ypos 21489
}
set N81a6780 [stack 0]
Dot {
 name Dot479
 xpos -15156
 ypos 21489
}
Dot {
 name Dot469
 xpos -15156
 ypos 21701
}
set N81a6330 [stack 0]
Shuffle {
 in cleanscreen
 name Shuffle12
 label "\[value in]"
 xpos -15187
 ypos 21737
}
Dot {
 name Dot441
 xpos -15156
 ypos 21786
}
set N81c0710 [stack 0]
Dot {
 name Dot444
 xpos -15285
 ypos 21786
}
Shuffle {
 in despill
 name Shuffle44
 label "\[value in]"
 xpos -15316
 ypos 22061
}
Dot {
 name Dot442
 xpos -15285
 ypos 22123
}
push $N81c0710
Dot {
 name Dot508
 xpos -15165
 ypos 21876
}
set N81c02c0 [stack 0]
Dot {
 name Dot509
 xpos -15194
 ypos 21905
}
push $N81c02c0
Dot {
 name Dot510
 xpos -15141
 ypos 21904
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.blue}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max4
 xpos -15196
 ypos 21942
}
push $N81c0710
Dot {
 name Dot507
 xpos -15055
 ypos 21786
}
ChannelMerge {
 inputs 2
 operation from
 B rgba.green
 name ChannelMerge3
 xpos -15086
 ypos 21936
}
Invert {
 name Invert11
 xpos -15086
 ypos 21986
}
Shuffle {
 red black
 green black
 blue black
 name Shuffle11
 label "\[value in]"
 xpos -15086
 ypos 22024
}
Group {
 inputs 2
 name InverseOKeyer
 label "\n"
 xpos -15086
 ypos 22122
 addUserKnob {20 InverseOverKeyer l "Inverse Over Keyer"}
 addUserKnob {26 textArea l "1) select screen  "}
 addUserKnob {41 cropScreen l "crop screen" T MASTER.cropScreen}
 addUserKnob {41 frameHold l "frame hold" T MASTER.frameHold}
 addUserKnob {22 pySetFrame l " set this frame " -STARTLINE T "f=nuke.frame()\ng=nuke.thisNode()\ng.knob('frameHold').setValue(f)"}
 addUserKnob {26 text02 l "2) match bars setup   "}
 addUserKnob {41 setupMode l "setup mode" T MASTER.setupMode}
 addUserKnob {41 KeyDensity l "key density" T MASTER.KeyDensity}
 addUserKnob {26 ""}
 addUserKnob {26 test02 l fixMatteBlacks: T " "}
 addUserKnob {41 fixMatteBlacks l "" -STARTLINE T MASTER.fixMatteBlacks}
 addUserKnob {26 ""}
 addUserKnob {41 maskChannel l mask T Keymix2.maskChannel}
 addUserKnob {41 invertMask l invert -STARTLINE T Keymix2.invertMask}
 addUserKnob {41 mix T MASTER.mix}
 addUserKnob {20 Info}
 addUserKnob {26 title l +++ T " OPEN NUKE GITHUB TOOLSET +++"}
 addUserKnob {22 documentation l " Documentation / Feedback " T "import webbrowser\nwebbrowser.open(\"http://opennuke.github.io/inverse0ver_nk/\")" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {26 version l version: T "0.1 Stable"}
 addUserKnob {26 created l created: T "24/06/14 by <a href=\\'http://movingimagearts.com'> Rafal Kaniewski</a>"}
 addUserKnob {26 modified l "modified: " T " "}
 addUserKnob {26 source l source: T "<a href='https://github.com/vfxwiki/Inverse0ver.nk'> github.com/vfxwiki/Inverse0ver.nk</a>"}
 addUserKnob {26 licence l licence: T "<a href=\"https://github.com/openNuke/toolset/blob/master/LICENCE\">READ ME</a>"}
}
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x71c67100
  label key
  note_font_size 42
  xpos -508
  ypos -804
  bdwidth 2948
  bdheight 2860
 }
 Input {
  inputs 0
  name key
  xpos 675
  ypos -928
 }
 Clamp {
  channels rgba
  minimum {{MASTER.fixInfNans}}
  name Clamp5
  xpos 675
  ypos -667
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle10
  xpos 675
  ypos -641
 }
 Grade {
  channels rgba
  blackpoint {0.08146618307 0.08146618307 0.08146618307 0.08146618307}
  whitepoint {0.9875434637 0.9875434637 0.9875434637 0.9875434637}
  gamma 1.02
  white_clamp true
  name Grade1
  xpos 654
  ypos -537
  disable true
 }
 Dot {
  name Dot22
  xpos 703
  ypos -433
 }
 Dot {
  name Dot44
  xpos 703
  ypos -238
 }
set N825a230 [stack 0]
 Dot {
  name Dot16
  xpos 703
  ypos -26
 }
 Dot {
  name Dot4
  xpos 676
  ypos -26
 }
set N8262870 [stack 0]
 Dot {
  name Dot3
  xpos 566
  ypos -26
 }
set N8266bc0 [stack 0]
 FrameHold {
  first_frame {{MASTER.frameHold}}
  name FrameHold3
  xpos 532
  ypos 52
 }
 Crop {
  box {{parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen}}
  name Crop7
  xpos 532
  ypos 113
 }
 Blur {
  channels rgba
  size 100
  filter box
  quality 25
  name Blur4
  xpos 563
  ypos 167
 }
 Crop {
  box {{parent.Crop7.box.x+((parent.Crop7.box.r-parent.Crop7.box.x)*0.5) x1012 -27} {int(parent.Crop7.box.y+((parent.Crop7.box.t-parent.Crop7.box.y)*0.5))} {int(parent.Crop7.box.x+((parent.Crop7.box.r-parent.Crop7.box.x)*0.5)+1)} {int(int(parent.Crop7.box.y+((parent.Crop7.box.t-parent.Crop7.box.y)*0.5)+1))}}
  reformat true
  crop false
  name Crop8
  xpos 532
  ypos 218
 }
 Input {
  inputs 0
  name despill
  xpos 1340
  ypos -938
  number 1
 }
 Shuffle {
  alpha black
  name Shuffle2
  label "\[value in]-->\[value out]"
  xpos 1340
  ypos -684
 }
 Dot {
  name Dot31
  xpos 1364
  ypos -498
 }
 Dot {
  name Dot1
  xpos 1364
  ypos -100
 }
set N82a4200 [stack 0]
 Dot {
  name Dot10
  xpos 1252
  ypos -100
 }
set N82a8570 [stack 0]
 Dot {
  name Dot14
  xpos 1129
  ypos -100
 }
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle7
  label "\[value in]-->\[value out]"
  xpos 1095
  ypos 273
 }
set N82b0bb0 [stack 0]
 Merge2 {
  inputs 2
  bbox B
  name Merge10
  xpos 532
  ypos 279
 }
set N82be100 [stack 0]
push $N82be100
push $N8262870
 Merge2 {
  inputs 2
  operation min
  name Min2
  xpos 642
  ypos 325
 }
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 532
  ypos 407
 }
push $N8266bc0
 Dot {
  name Dot2
  xpos 464
  ypos -26
 }
 Merge2 {
  inputs 2
  operation multiply
  name Merge9
  xpos 430
  ypos 452
  disable {{!MASTER.fixMatteBlacks x1029 1}}
 }
 Grade {
  channels rgba
  black {{-MASTER.minimum}}
  black_clamp false
  name Grade3
  xpos 430
  ypos 548
 }
set N82f7380 [stack 0]
 Grade {
  channels alpha
  gamma {{parent.MASTER.KeyDensity x1002 1.26 x1027 0.99}}
  black_clamp false
  name GradeDensity
  xpos 427
  ypos 625
 }
set N8306870 [stack 0]
 Grade {
  channels rgba
  black {{-MASTER.minimum}}
  black_clamp false
  name Grade2
  xpos 430
  ypos 699
  disable true
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle9
  xpos 430
  ypos 725
 }
 Clamp {
  name Clamp3
  xpos 428
  ypos 748
  disable true
 }
set N83327f0 [stack 0]
 Dot {
  name Dot9
  xpos 952
  ypos 755
 }
 Dot {
  name Dot12
  xpos 1090
  ypos 755
 }
push $N82a8570
 FrameHold {
  first_frame {{FrameHold.first_frame}}
  name FrameHold2
  xpos 1218
  ypos 452
 }
 Crop {
  box {{parent.Crop1.box} {parent.Crop1.box} {parent.Crop1.box} {parent.Crop1.box}}
  reformat true
  crop false
  name Crop2
  xpos 1218
  ypos 500
 }
 Blur {
  channels rgba
  size 100
  filter box
  name Blur1
  xpos 1218
  ypos 568
 }
 Crop {
  box {{int(width/2)} {int(height/2)} {int(width/2)+1} {int(height/2)+1}}
  reformat true
  crop false
  name Crop6
  xpos 1218
  ypos 622
 }
push $N82a4200
 Dot {
  name Dot20
  xpos 1364
  ypos 417
 }
set N836b180 [stack 0]
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle6
  label "\[value in]-->\[value out]"
  xpos 1328
  ypos 537
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge3
  xpos 1328
  ypos 622
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  from1 -rgba.alpha
  to1 -rgba.blue
  name Copy1
  xpos 1328
  ypos 746
 }
set N838a040 [stack 0]
 Dot {
  name Dot21
  xpos 1544
  ypos 755
 }
 Input {
  inputs 0
  name mask
  xpos -154
  ypos -747
  number 2
 }
 Clamp {
  name Clamp7
  xpos -154
  ypos -721
 }
 Invert {
  name Invert3
  xpos -154
  ypos -683
 }
 Dot {
  name Dot15
  xpos -120
  ypos 1892
 }
push $N825a230
 Dot {
  name Dot6
  xpos 330
  ypos -238
 }
 Dot {
  name Dot13
  xpos 330
  ypos 1296
 }
set N83bcc30 [stack 0]
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle12
  xpos 74
  ypos 1600
 }
 Grid {
  number {6 0}
  size {{width/2/number}}
  color {0.5 0.5 0.5 1}
  name Grid1
  xpos 74
  ypos 1659
 }
push $N82f7380
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle15
  label "\[value in]-->\[value out]"
  xpos 184
  ypos 1530
 }
 Add {
  value 0.5
  name Add1
  xpos 184
  ypos 1587
 }
 Clamp {
  minimum 0.5
  MinClampTo {1 0 0 0}
  MinClampTo_enable true
  name Clamp2
  xpos 214
  ypos 1661
 }
 Merge2 {
  inputs 2
  name Merge11
  label "blacks match"
  xpos 194
  ypos 1760
 }
 Shuffle {
  alpha black
  name Shuffle16
  xpos 328
  ypos 1745
 }
push $N83bcc30
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle1
  xpos 296
  ypos 1546
 }
 Grid {
  number {6 0}
  size {{width/2/number}}
  color {0.5 {color.r} {color.r} 1}
  name Grid2
  xpos 296
  ypos 1611
 }
 Grade {
  channels rgba
  black {{MASTER.minimum}}
  black_clamp false
  name Grade4
  xpos 440
  ypos 1588
  disable true
 }
 Add {
  value -0.5
  name Add3
  xpos 641
  ypos 1644
  disable true
 }
push $N8306870
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle14
  xpos 574
  ypos 644
 }
 Dot {
  name Dot11
  xpos 858
  ypos 652
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle13
  label "\[value in]-->\[value out]"
  xpos 850
  ypos 1465
 }
 Add {
  value {{parent.Add3.value}}
  name Add2
  xpos 850
  ypos 1524
  disable true
 }
 Merge2 {
  inputs 2
  name Merge1
  label "Density match"
  xpos 850
  ypos 1622
 }
 Shuffle {
  green red
  blue red
  alpha black
  name Shuffle3
  xpos 990
  ypos 1598
 }
push $N836b180
 Dot {
  name Dot19
  xpos 1495
  ypos 417
 }
 Dot {
  name Dot18
  xpos 1495
  ypos 1206
 }
push $N83327f0
 FrameHold {
  first_frame {{MASTER.frameHold}}
  name FrameHold
  xpos 428
  ypos 804
 }
 Crop {
  box {{parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen}}
  name Crop1
  xpos 428
  ypos 855
 }
 Blur {
  channels rgba
  size 100
  filter box
  quality 25
  name Blur3
  xpos 428
  ypos 897
 }
 Crop {
  box {{parent.Crop1.box.x+((parent.Crop1.box.r-parent.Crop1.box.x)*0.5) x1012 -27} {int(parent.Crop1.box.y+((parent.Crop1.box.t-parent.Crop1.box.y)*0.5))} {int(parent.Crop1.box.x+((parent.Crop1.box.r-parent.Crop1.box.x)*0.5)+1)} {int(int(parent.Crop1.box.y+((parent.Crop1.box.t-parent.Crop1.box.y)*0.5)+1))}}
  reformat true
  crop false
  name Crop3
  xpos 428
  ypos 938
 }
 Dot {
  name Dot17
  xpos 462
  ypos 1087
 }
push $N82b0bb0
 Merge2 {
  inputs 2
  bbox B
  name Merge4
  xpos 1095
  ypos 1094
 }
push $N838a040
add_layer {inverseOver inverseOver.red inverseOver.green inverseOver.blue inverseOver.alpha}
 Shuffle {
  out inverseOver
  name Shuffle5
  label "\[value in]-->\[value out]"
  xpos 1328
  ypos 1040
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 inverseOver.alpha
  name Copy3
  xpos 1328
  ypos 1088
 }
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy2
  xpos 1328
  ypos 1185
 }
 Multiply {
  channels {-inverseOver.red -inverseOver.green -inverseOver.blue inverseOver.alpha}
  value {{MASTER.mix}}
  name Multiply1
  xpos 1333
  ypos 1443
 }
 Multiply {
  channels alpha
  value {{MASTER.mix}}
  name Multiply2
  xpos 1333
  ypos 1479
 }
 Switch {
  inputs 3
  which {{MASTER.setupMode x1021 0}}
  name Switch1
  xpos 1328
  ypos 1598
 }
set N85091d0 [stack 0]
 Shuffle {
  in inverseOver
  name Shuffle11
  label "\[value in]-->\[value out]"
  xpos 1194
  ypos 1771
 }
 Dot {
  name Dot7
  xpos 1242
  ypos 1847
 }
push $N85091d0
 Keymix {
  inputs 3
  channels rgba
  maskChannel -rgba.alpha
  name Keymix2
  xpos 1328
  ypos 1891
  disable {{maskChannel?none:1 x1013 1}}
 }
set N85216f0 [stack 0]
 Output {
  name Output2
  xpos 1328
  ypos 2156
 }
 NoOp {
  inputs 0
  name MASTER
  xpos 1752
  ypos 1608
  addUserKnob {20 User}
  addUserKnob {26 ""}
  addUserKnob {15 cropScreen l "crop screen"}
  cropScreen {1199.5 1035.5 1384.5 1164.5}
  addUserKnob {3 frameHold l "frame hold"}
  frameHold 1230
  addUserKnob {26 ""}
  addUserKnob {4 setupMode l "setup mode" M {off "key density" minimum "" ""}}
  addUserKnob {7 KeyDensity l "key density" R 0.01 4}
  KeyDensity 0.4
  addUserKnob {7 minimum R 0 2}
  addUserKnob {26 ""}
  addUserKnob {26 test02 l fixMatteBlacks: T " "}
  addUserKnob {6 fixMatteBlacks l "" -STARTLINE}
  addUserKnob {7 fixInfNans R 0 0.01}
  addUserKnob {26 ""}
  addUserKnob {7 mix}
  mix 1
 }
push $N85216f0
 Viewer {
  frame 1109
  viewerProcess rec709
  input_process false
  name Viewer1
  selected true
  xpos 27
  ypos 1051
 }
end_group
set N821ad10 [stack 0]
Premult {
 name Premult8
 xpos -15086
 ypos 22180
}
push $N821ad10
push $N81a6330
Shuffle {
 in bg
 name Shuffle10
 label "\[value in]"
 xpos -14926
 ypos 21694
}
Group {
 inputs 2
 name InverseOver
 xpos -14926
 ypos 22122
 addUserKnob {20 inverseOver l "Inverse Over"}
 addUserKnob {41 in l "invOver input channel" T Shuffle1.in}
 addUserKnob {20 Info}
 addUserKnob {26 credit l "" +STARTLINE +INVISIBLE T "The idea of using this for keying and the name goes to Thomas Dyn (credit retained in node please)\n\nAlthough since discovering this technique someone else have also shown me this same technique from thier toolbox used in shake(pre-nuke) - they called it the 'holy matte' trick."}
 addUserKnob {26 title l +++ T " OPEN NUKE GITHUB TOOLSET +++"}
 addUserKnob {22 documentation l " Documentation / Feedback " T "import webbrowser\nwebbrowser.open(\"http://opennuke.github.io/inverse0ver_nk/\")" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {26 version l version: T "0.1 Stable"}
 addUserKnob {26 created l created: T "24/06/14 by <a href=\\'http://movingimagearts.com'> Rafal Kaniewski</a>"}
 addUserKnob {26 modified l "modified: " T " "}
 addUserKnob {26 source l source: T "<a href='https://github.com/vfxwiki/Inverse0ver.nk'> github.com/vfxwiki/Inverse0ver.nk</a>"}
 addUserKnob {26 licence l licence: T "<a href=\"https://github.com/openNuke/toolset/blob/master/LICENCE\">READ ME</a>"}
}
 Input {
  inputs 0
  name InvOver
  xpos 262
  ypos -144
  number 1
 }
 Shuffle {
  in inverseOver
  name Shuffle1
  label "\[value in]-->\[value out]"
  xpos 262
  ypos -11
 }
 Premult {
  name Premult1
  xpos 262
  ypos 68
 }
set N857fc70 [stack 0]
 Invert {
  name Invert1
  xpos 262
  ypos 99
 }
set N8586850 [stack 0]
 Shuffle {
  red white
  green white
  blue white
  alpha white
  name Shuffle2
  label "\[value in]-->\[value out]"
  xpos 152
  ypos 99
 }
 Dot {
  name Dot1
  selected true
  xpos 186
  ypos 199
 }
push $N8586850
 Merge2 {
  inputs 2
  operation divide
  name Merge1
  xpos 255
  ypos 196
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle3
  label "\[value in]-->\[value out]"
  xpos 255
  ypos 323
 }
 Input {
  inputs 0
  name bg
  xpos 386
  ypos -131
 }
set N85bc850 [stack 0]
 Dot {
  name Dot3
  xpos 420
  ypos 186
 }
push $N857fc70
 Dot {
  name Dot2
  xpos 521
  ypos 71
 }
 Merge2 {
  inputs 2
  operation minus
  bbox A
  name Merge2
  xpos 487
  ypos 183
 }
 Dot {
  name Dot5
  xpos 521
  ypos 276
 }
 Dot {
  name Dot6
  xpos 118
  ypos 276
 }
 Dot {
  name Dot7
  xpos 121
  ypos 433
 }
 Merge2 {
  inputs 2
  operation multiply
  bbox B
  name Merge3
  xpos 255
  ypos 430
 }
 Remove {
  channels inverseOver
  name Remove1
  xpos 255
  ypos 487
 }
push $N85bc850
 Dot {
  name Dot4
  xpos 692
  ypos -72
 }
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  channels all
  bbox B
  name Copy1
  xpos 649
  ypos 459
 }
 Output {
  name Output2
  xpos 649
  ypos 752
 }
end_group
Merge2 {
 inputs 2
 name Merge25
 xpos -14926
 ypos 22180
}
Viewer {
 center_fstop 0
 input_process false
 name Viewer2
 xpos -15139
 ypos 22319
}
push $N8176fc0
Dot {
 name Dot410
 xpos -14998
 ypos 17819
}
Dot {
 name Dot411
 xpos -14998
 ypos 17982
}
Dot {
 name Dot416
 xpos -14859
 ypos 17982
}
set N863efb0 [stack 0]
Dot {
 name Dot436
 xpos -14600
 ypos 17982
}
set N86438e0 [stack 0]
Add {
 value {0 0 0.2 0}
 value_panelDropped true
 name Add2
 xpos -14631
 ypos 18078
}
Dot {
 name Dot420
 xpos -14600
 ypos 18128
}
set N8651e20 [stack 0]
Dot {
 name Dot433
 xpos -14710
 ypos 18128
}
set N86560e0 [stack 0]
Dot {
 name Dot434
 xpos -14739
 ypos 18157
}
push $N86560e0
Dot {
 name Dot435
 xpos -14686
 ypos 18156
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.green}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max1
 xpos -14741
 ypos 18194
}
push $N8651e20
ChannelMerge {
 inputs 2
 operation minus
 B rgba.blue
 name ChannelMerge2
 xpos -14631
 ypos 18188
}
Grade {
 channels alpha
 white_clamp true
 name Grade11
 xpos -14631
 ypos 18297
}
StickyNote {
 inputs 0
 name StickyNote28
 label "    PLATE IN   "
 note_font_size 41
 xpos -16199
 ypos 11550
}
StickyNote {
 inputs 0
 name StickyNote62
 label "   BG IN    "
 note_font_size 41
 xpos -16560
 ypos 11817
}
push $N8191380
Dot {
 name Dot405
 xpos -15157
 ypos 16047
}
set N86920e0 [stack 0]
Primatte3 {
 data { 5
    12088 36269 9850
    65552
    0 5
    30234 30234 30234 0
    498.194 2728.62 1 1 1162.98 1 1516.64 1 1 1280.72 278.999 73.0614 1 3981.93 3861.08 1455.65 1079.97 619.19 6460.05 1502.7 1 1 498.958 1 7152.79 1 936.605 1 1 1 1 1 369.816 3353.78 517.198 3446.44 1 5540.61 1 1237.97 1 702.724 1 1 342.752 1 1 1 1 1 1 9128.68 16397.6 1493.91 962.213 1218.13 816.544 1432.56 5359.15 696.959 27.5646 909.631 299.535 723.071 2311.16 4565.09
    75592.8 130560 130560 130560 23401.5 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 4737.89 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 19937.7 19424.2 130560 28650.7 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 20346 5400.46
    75592.8 130560 130560 130560 25328.4 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 4737.89 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 19937.7 25040.2 130560 31714.2 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 22395.5 5400.46
    -7.97705e+08 -2.09542e+12 -2.51045e+12 8.85039e+09 2.1955e+12 2.60784e+12
    -2.22075e+09 -1.30234e+12 -2.0114e+12 6.99314e+10 1.24503e+12 2.31837e+12
    -136192 -2.22551e+14 -2.22551e+14 4.24609e+09 -5.57554e+13 -5.57554e+13
    -1.76538e+06 -2.22551e+14 -2.22551e+14 5.48759e+10 -6.24429e+13 -6.24429e+13
    -1.01174e+08 -1.99608e+12 -2.16043e+12 1.21059e+09 2.68427e+12 2.69772e+12
    -2.81661e+08 -1.24059e+12 -1.73097e+12 9.11472e+09 1.55447e+12 2.35846e+12
    -9.73827e+08 -2.22551e+14 -2.22551e+14 5.50248e+10 -6.12048e+13 -6.12048e+13
    -1.26082e+10 -2.22551e+14 -2.22551e+14 7.00838e+09 -6.78922e+13 -6.78922e+13
    -137088 -4.06321e+14 -4.06321e+14 -7.38183e+09 9.87962e+13 9.87962e+13
    -216832 -4.06321e+14 -4.06321e+14 -4.91338e+09 8.16998e+13 8.16998e+13
    -0.182373 -4.06321e+14 -4.06321e+14 -1651.37 -2.81136e+13 -2.81136e+13
    -1.42619e+08 -4.06322e+14 -4.06322e+14 5.10385e+09 -8.89105e+13 -8.89105e+13
    -33984 -5.69008e+13 -5.69008e+13 -3.10896e+09 7.02245e+13 7.02245e+13
    -1.66438e+09 -9.31391e+10 -9.31391e+10 -1.64877e+11 1.11689e+12 1.11689e+12
    -0.182343 -4.06321e+14 -4.06321e+14 -1928.19 -3.30348e+13 -3.30348e+13
    -348672 -3.26172e+14 -3.26172e+14 2.12444e+10 -9.34997e+13 -9.34997e+13
    -381952 -4.06321e+14 -4.06321e+14 -2.31564e+10 9.38317e+13 9.38317e+13
    -3.50814e+08 -4.56959e+11 -4.56959e+11 -4.64951e+10 5.87992e+12 5.87992e+12
    -0.182404 -4.06321e+14 -4.06321e+14 -1359.16 -2.3149e+13 -2.3149e+13
    -0.182007 -4.06321e+14 -4.06321e+14 -2349.69 -4.02454e+13 -4.02454e+13
    -5448 -4.06321e+14 -4.06321e+14 -1.27525e+08 8.89105e+13 8.89105e+13
    -81536 -1.5684e+13 -1.5684e+13 -4.38948e+09 1.28763e+13 1.28763e+13
    -233.25 -4.06322e+14 -4.06322e+14 1.2221e+07 -8.16998e+13 -8.16998e+13
    -3.79843e+09 -3.80188e+14 -3.80188e+14 -2.78682e+10 -9.72714e+13 -9.72714e+13
    -1.71941e+07 -5.24559e+14 -5.24559e+14 -1.27918e+10 1.10146e+14 1.10146e+14
    -5.16673e+07 -1.06454e+14 -1.06454e+14 -9.08783e+09 6.46224e+13 6.46224e+13
    -17.2816 -5.24559e+14 -5.24559e+14 -1.50792e+06 1.45046e+13 1.45046e+13
    -22656 -5.24559e+14 -5.24559e+14 -3.94203e+08 -5.4179e+13 -5.4179e+13
    -1957 -4.11024e+14 -4.11024e+14 -1.41505e+08 5.77156e+13 5.77156e+13
    -3.09804e+09 -1.19543e+12 -1.19543e+12 1.58422e+11 7.9069e+12 7.9069e+12
    -0.236938 -5.24559e+14 -5.24559e+14 -2430.17 -4.14628e+13 -4.14628e+13
    -1.27994e+10 -1.00506e+14 -1.00506e+14 -2.25777e+11 1.06599e+14 1.06599e+14
    -1.30815e+09 -3.78385e+13 -3.78385e+13 2.13924e+10 4.33888e+13 4.33888e+13
    -1.7937e+09 -1.67636e+13 -1.8556e+13 -1.92111e+10 1.58897e+13 1.37796e+13
    -0.182739 -4.06321e+14 -4.06321e+14 -4451.08 -7.60308e+13 -7.60308e+13
    -1.78995e+06 -4.06322e+14 -4.06322e+14 4.31358e+10 -1.14034e+14 -1.14034e+14
    -7.22628e+07 -7.93171e+12 -7.93171e+12 1.45625e+09 9.14563e+12 9.14563e+12
    -5.61498e+09 -3.41858e+11 -4.8509e+11 2.68662e+10 -1.98377e+12 -3.27777e+12
    -91 -4.06321e+14 -4.06321e+14 3.09729e+06 -8.32773e+13 -8.32773e+13
    -2.74252e+10 -4.06322e+14 -4.06322e+14 1.48371e+11 -1.21281e+14 -1.21281e+14
    -0.100098 -2.22551e+14 -2.22551e+14 1965.43 3.33624e+13 3.33624e+13
    -0.100098 -2.22551e+14 -2.22551e+14 1382.11 2.34791e+13 2.34791e+13
    -0.100098 -2.22551e+14 -2.22551e+14 590.112 1.01013e+13 1.01013e+13
    -7.01172e+07 -3.61677e+13 -3.61677e+13 6.43384e+09 3.11068e+13 3.11068e+13
    -0.100098 -1.41504e+14 -1.41504e+14 -194.194 6.90268e+13 6.90268e+13
    -8.64143e+07 -4.98505e+12 -4.98505e+12 2.51625e+09 1.79583e+13 1.79583e+13
    -0.100159 -2.22551e+14 -2.22551e+14 454.897 7.84779e+12 7.84779e+12
    -37 -1.55527e+14 -1.55527e+14 754025 -4.07051e+13 -4.07051e+13
    -19136 -4.06321e+14 -4.06321e+14 -1.16408e+09 6.53149e+13 6.53149e+13
    -4.59057e+07 -2.3145e+13 -2.3145e+13 3.52266e+08 2.01521e+13 2.01521e+13
    -13.4062 -4.06321e+14 -4.06321e+14 -364674 3.12395e+13 3.12395e+13
    -51.0625 -4.06321e+14 -4.06321e+14 173693 -1.17286e+13 -1.17286e+13
    -5 -4.06321e+14 -4.06321e+14 -374710 3.4522e+13 3.4522e+13
    -1.94401e+08 -1.56442e+13 -1.56442e+13 -6.56386e+09 1.9242e+13 1.9242e+13
    -0.183228 -4.06321e+14 -4.06321e+14 -1446.94 -2.4672e+13 -2.4672e+13
    -2.22574e+10 -2.45695e+13 -2.45695e+13 2.1482e+11 3.19123e+13 3.19123e+13
    -2.63409e+09 -2.0407e+14 -2.0407e+14 3.51724e+09 1.72941e+14 1.72941e+14
    -1.0667e+09 -7.26284e+11 -7.26284e+11 9.09506e+09 2.34618e+11 2.34618e+11
    -0.234802 -5.24559e+14 -5.24559e+14 -3282.91 -5.57106e+13 -5.57106e+13
    -0.235474 -5.24559e+14 -5.24559e+14 -5337.82 -9.09941e+13 -9.09941e+13
    -6.38285e+06 -1.7427e+14 -1.7427e+14 -9.20203e+09 8.84175e+13 8.84175e+13
    -2.43892e+08 -4.96264e+12 -5.46252e+12 -2.1888e+09 3.61368e+12 2.95366e+12
    -301.192 -5.24559e+14 -5.24559e+14 8.90194e+06 -1.15085e+14 -1.15085e+14
    -5.351e+10 -4.9082e+14 -4.9082e+14 -5.02325e+11 -1.36162e+14 -1.36162e+14
    -7.89134e+09 -3.4688e+13 -3.8397e+13 3.77917e+09 4.41224e+13 4.59068e+13
    -2.95947e+09 -4.12427e+11 -5.31671e+11 6.62495e+10 -3.37276e+12 -4.72167e+12
    -91 -4.06321e+14 -4.06321e+14 6.2182e+06 -7.33915e+13 -7.33915e+13
    -0.182739 -4.06321e+14 -4.06321e+14 -5167.84 -8.81627e+13 -8.81627e+13
    -2.22039e+08 -3.2313e+13 -3.2313e+13 5.19257e+09 3.93816e+13 3.93816e+13
    -1.83603e+08 -3.72056e+12 -4.09533e+12 1.04276e+10 3.27979e+12 4.15556e+12
    -1.67211e+06 -4.06322e+14 -4.06322e+14 4.9503e+10 -1.09149e+14 -1.09149e+14
    -2.93318e+10 -4.06322e+14 -4.06322e+14 -1.12721e+10 -1.2392e+14 -1.2392e+14
    -9312 -4.06321e+14 -4.06321e+14 -5.00742e+08 6.76401e+13 6.76401e+13
    -41600 -4.06321e+14 -4.06321e+14 -9.46635e+08 2.4672e+13 2.4672e+13
    -13.4062 -4.06321e+14 -4.06321e+14 -458357 2.89142e+13 2.89142e+13
    -1.63526e+07 -1.14049e+14 -1.14049e+14 -6.14086e+08 4.10355e+13 4.10355e+13
    -54.75 -3.18378e+14 -3.18378e+14 -4.63252e+06 6.90318e+13 6.90318e+13
    -1.11306e+10 -1.08615e+12 -1.08615e+12 -9.16575e+10 1.46293e+13 1.46293e+13
    -0.183228 -4.06321e+14 -4.06321e+14 -102.508 -1.87865e+12 -1.87865e+12
    -4.01644e+08 -5.81455e+13 -5.81455e+13 4.29429e+10 1.67896e+12 1.67896e+12
    -0.10022 -2.22551e+14 -2.22551e+14 1778.03 3.01666e+13 3.01666e+13
    -2.41328e+07 -5.52315e+12 -5.52315e+12 -1.13341e+09 2.54745e+13 2.54745e+13
    -0.100159 -2.22551e+14 -2.22551e+14 777.514 1.32971e+13 1.32971e+13
    -0.100098 -2.22551e+14 -2.22551e+14 194.194 3.41384e+12 3.41384e+12
    -0.10022 -2.22551e+14 -2.22551e+14 1642.82 2.79131e+13 2.79131e+13
    -36.9688 -9.88882e+13 -9.88882e+13 1.19315e+06 3.27897e+13 3.27897e+13
    -0.10022 -2.22551e+14 -2.22551e+14 -1382.11 -2.34791e+13 -2.34791e+13
    -2.51074e+08 -3.2644e+13 -3.2644e+13 4.2141e+10 -4.8903e+12 -4.8903e+12
    -9.50775e+08 -2.0407e+14 -2.0407e+14 -4.8417e+09 1.60809e+14 1.60809e+14
    -3.4127e+08 -9.862e+13 -9.862e+13 -1.13626e+09 7.88977e+13 7.88977e+13
    -0.234985 -5.24559e+14 -5.24559e+14 -3482.27 -5.91179e+13 -5.91179e+13
    -122496 -5.24559e+14 -5.24559e+14 -2.14011e+09 -1.24394e+14 -1.24394e+14
    -3.97647e+07 -3.83824e+13 -3.83824e+13 -2.86381e+09 4.01649e+13 4.01649e+13
    -9.60177e+09 -1.22704e+11 -1.35064e+11 1.40474e+11 -3.51356e+11 -4.15397e+11
    -0.234924 -5.24559e+14 -5.24559e+14 -4794.92 -8.16852e+13 -8.16852e+13
    -7.39479e+09 -4.21086e+14 -4.21086e+14 2.53765e+10 -1.04062e+14 -1.04062e+14
    -6.00274e+09 -7.42685e+12 -8.22095e+12 1.008e+11 8.19836e+12 8.85901e+12
    -3.79846e+09 -2.23071e+12 -3.18314e+12 -4.21052e+10 2.19137e+12 2.58405e+12
    -81.25 -3.63425e+14 -3.63425e+14 1.05213e+06 -8.21729e+13 -8.21729e+13
    -1056 -3.63425e+14 -3.63425e+14 2.73031e+07 -9.93993e+13 -9.93993e+13
    -1.29225e+08 -6.04164e+12 -6.04164e+12 2.42671e+09 7.66255e+12 7.66255e+12
    -9.14049e+08 -1.76136e+12 -2.49933e+12 5.1e+10 1.63824e+12 1.80151e+12
    -583680 -3.63425e+14 -3.63425e+14 1.534e+10 -9.62099e+13 -9.62099e+13
    -1.2373e+11 -3.63425e+14 -3.63425e+14 -5.56065e+11 -1.13436e+14 -1.13436e+14
    -113.625 -3.63425e+14 -3.63425e+14 -6.11485e+06 6.54586e+13 6.54586e+13
    -133.375 -3.63425e+14 -3.63425e+14 -3.01686e+06 4.37918e+13 4.37918e+13
    -0.16394 -3.63425e+14 -3.63425e+14 555.709 9.33206e+12 9.33206e+12
    -7.87763e+07 -1.02008e+14 -1.02008e+14 -5.5963e+09 1.54259e+14 1.54259e+14
    -48.625 -1.81062e+14 -1.81062e+14 -4.48876e+06 3.40922e+13 3.40922e+13
    -1.29307e+09 -5.81573e+11 -5.81573e+11 8.21939e+10 5.44549e+12 5.44549e+12
    -0.163971 -3.63425e+14 -3.63425e+14 -3.96518 -2.64509e+11 -2.64509e+11
    -90496 -2.03876e+14 -2.03876e+14 -6.9113e+08 -1.97887e+13 -1.97887e+13
    -233.25 -3.63425e+14 -3.63425e+14 -1.42377e+07 6.10181e+13 6.10181e+13
    -7.61143e+07 -3.16131e+12 -3.16131e+12 -4.71233e+08 2.74603e+12 2.74603e+12
    -0.163788 -3.63425e+14 -3.63425e+14 817.795 1.37725e+13 1.37725e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -452.762 -7.89426e+12 -7.89426e+12
    -4.5 -3.63425e+14 -3.63425e+14 -95339.1 5.14216e+13 5.14216e+13
    -43872 -3.48771e+13 -3.48771e+13 2.15475e+09 4.37146e+13 4.37146e+13
    -0.163696 -3.63425e+14 -3.63425e+14 -2573.07 -4.37918e+13 -4.37918e+13
    -7.51274e+09 -8.61482e+13 -8.61482e+13 1.58705e+10 1.14531e+14 1.14531e+14
    -1.45629e+09 -2.35639e+14 -2.35639e+14 -9.86213e+09 2.15115e+14 2.15115e+14
    -2.60483e+08 -2.31101e+13 -2.31101e+13 1.93282e+09 2.06022e+13 2.06022e+13
    -0.271606 -6.05708e+14 -6.05708e+14 -2405.46 -4.07142e+13 -4.07142e+13
    -93.25 -6.05708e+14 -6.05708e+14 -1.64744e+06 -1.09398e+14 -1.09398e+14
    -2.0441e+06 -1.57676e+14 -1.57676e+14 2.68156e+08 1.70982e+14 1.70982e+14
    -2.07631e+09 -8.4327e+11 -9.28211e+11 -4.00123e+10 -3.65936e+12 -4.36223e+12
    -0.271362 -6.05708e+14 -6.05708e+14 -5672.36 -9.66816e+13 -9.66816e+13
    -6.08618e+10 -4.54955e+14 -4.54955e+14 3.11989e+11 -1.12901e+14 -1.12901e+14
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.071014 0.071014
    0.05 0.0648314 0.0648314
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
  }

 primEdgedata { 5
    12088 36269 9850
    65552
    0 5
    30234 30234 30234 0
    498.194 2728.62 1 1 1162.98 1 1516.64 1 1 1280.72 278.999 73.0614 1 3981.93 3861.08 1455.65 1079.97 619.19 6460.05 1502.7 1 1 498.958 1 7152.79 1 936.605 1 1 1 1 1 369.816 3353.78 517.198 3446.44 1 5540.61 1 1237.97 1 702.724 1 1 342.752 1 1 1 1 1 1 9128.68 16397.6 1493.91 962.213 1218.13 816.544 1432.56 5359.15 696.959 27.5646 909.631 299.535 723.071 2311.16 4565.09
    75592.8 130560 130560 130560 23401.5 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 17603.4 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 21650.7 19424.2 130560 28650.7 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 20346 20171.8
    75592.8 130560 130560 130560 25328.4 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 25563.5 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 32053.3 25040.2 130560 31714.2 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 22395.5 23235.1
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.171799 0.231799
    0.05 0.142562 0.262697
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
  }

 primBodydata { 5
    12088 36269 9850
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    75592.8 130560 130560 130560 23401.5 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 4737.89 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 19937.7 19424.2 130560 28650.7 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 20346 5400.46
    75592.8 130560 130560 130560 25328.4 130560 130560 130560 130560 130560 130560 130560 130560 33304.7 4737.89 130560 130560 36698.4 130560 130560 130560 130560 130560 130560 130560 130560 36646.3 130560 130560 130560 130560 130560 91240 33076 19937.7 25040.2 130560 31714.2 130560 31252.9 83013.5 27292.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 122163 130560 104806 26495.8 24546 130560 130560 50791.9 130560 130560 43374.9 102302 28198.3 22395.5 5400.46
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.071014 0.071014
    0.05 0.0648314 0.0648314
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
    0.05 0.316135 0.316135
  }

 crop {0 0 2048 1556}
 "Adjust Lighting" 0
 "Hybrid Matte" 0
 "Fine Tuning" 0
 name Primatte28
 xpos -15188
 ypos 16323
}
StickyNote {
 inputs 0
 name StickyNote9
 label "<align='left>Primatte (3d Colourspace Keyer)\n\nVery good for either producing a \n1) quick high contrast matte with no fine detail (lots of operation picks)\nor a\n2)  very fine matte of a small selection area (one pick only)\n\n."
 note_font_size 15
 xpos -14728
 ypos 16057
}
StickyNote {
 inputs 0
 name StickyNote18
 label " <align='left>IBKGizmo (Hue Difference Keyer)\n\nOne of the best keyers in nuke for fine detail, it handles a wide range of values well.\n\n1) It often works better with the screen type selected as a colour rather than picked.\n\n2) Use the weights to add fine detail.\n\n3) Use the Luminace match  and auto levels to scale the matte\n\nSometimes this produces too good a matte that harders too far out of the edge, \nso you need to back off on the weighting. Another issue it that it starts to key \nthe grain, using the auto-levels tick-box or degraing are option.\n\n\n\n\n\n\n\n"
 note_font_size 15
 xpos -14587
 ypos 13018
}
StickyNote {
 inputs 0
 name StickyNote73
 label "<<< clean screen here"
 xpos -16005
 ypos 12520
}
StickyNote {
 inputs 0
 name StickyNote82
 label "<<< clean plate here"
 xpos -16001
 ypos 12657
}
StickyNote {
 inputs 0
 name StickyNote83
 label "<<< despill here"
 xpos -15996
 ypos 12789
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_v1_sequence/elements/E_comp_keying_v1_mid_BS_v1/2048x1556/E_comp_keying_v1_mid_BS_v1.####.dpx
 format "2048 1556 0 0 2048 1556 2 "
 proxy /jobs/training/comp/comp_keying_v1_sequence/elements/E_comp_keying_v1_mid_BS_v1/2048x1556/E_comp_keying_v1_mid_BS_v1.####.dpx
 proxy_format "2048 1556 0 0 2048 1556 2 "
 first 1400
 last 1541
 origfirst 1400
 origlast 1541
 origset true
 timecode 00:00:00:00
 edge_code "02 96 16 4505 6697 08"
 name E_comp_keying_v1_mid_BS_v1_1
 label N/A
 xpos -16356
 ypos 11189
 addUserKnob {20 Hub}
 addUserKnob {6 approvedVersionsOnly l "Show Approved Only" -STARTLINE}
 addUserKnob {6 sortLayersByDate l "Sort Layers by Date" +STARTLINE}
 addUserKnob {4 user_filter l "Filter by user:" M {"Show all" sam-ba}}
 addUserKnob {26 ""}
 addUserKnob {4 scene M {MPC_for_starters Nuke3dCom Nuke_at_MPC build comp compositing_film_grain_01 compositing_stereo_01 compositing_stereo_02 compositing_training lighting_core3 roto}}
 scene comp
 addUserKnob {4 shot M {comp_advanced_grading_v1_sequence comp_keying_v1_sequence comp_stereo_v1_sequence}}
 shot comp_keying_v1_sequence
 addUserKnob {4 layer M {E_comp_keying_v1_mid_BG E_comp_keying_v1_mid_BS E_comp_keying_v1_simple_BG E_comp_keying_v1_simple_FG_Degrain E_comp_keying_v1_simple_GS}}
 layer E_comp_keying_v1_mid_BS
 addUserKnob {4 layerVersion l version M {1}}
 addUserKnob {4 pass M {N/A}}
 addUserKnob {6 lockPass l "Lock Pass" -STARTLINE}
 addUserKnob {26 views l "views " T (mono)}
 addUserKnob {26 ""}
 addUserKnob {32 updt l " Check for Updates " -STARTLINE T "python -exec \"import mpc.nuke.hubNuke.hubNukeReadNode as hubNukeReadNode; hubNukeReadNode.refreshNode(nuke.thisNode())\""}
 addUserKnob {4 elementClip l Resolution M {}}
 addUserKnob {4 layerFilter M {}}
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_multi_layer_e2_300_cg_030_sequence/elements/E_e2_300_cg_030_smoke_v1/2048x1556/E_e2_300_cg_030_smoke_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1092
 origfirst 1017
 origlast 1092
 origset true
 colorspace AlexaV3LogC
 timecode ff:ff:ff:ff
 name Read35
 xpos -16241
 ypos 11182
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_et2_282a_rr_146_sequence/elements/E_compositing_keying_et2_282a_rr_146_denoise_v1/2048x1556/E_compositing_keying_et2_282a_rr_146_denoise_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1162
 origfirst 1017
 origlast 1162
 origset true
 colorspace AlexaV3LogC
 timecode 19:11:28:01
 edge_code "02 19 42 9418 4426 05"
 name Read4
 xpos -16747
 ypos 11181
}
FrameHold {
 first_frame 2162
 name FrameHold28
 xpos -16747
 ypos 11293
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_138_er_170/elements/E_138_er_170_fg_01_case_study_vcaligned_v1/2184x1092/left/E_138_er_170_fg_01_case_study_vcaligned_v1_left.####.dpx
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 proxy /jobs/training/compositing/compositing_keying_jon-s_uap_138_er_170/elements/E_138_er_170_fg_01_case_study_vcaligned_v1/2184x1092/left/E_138_er_170_fg_01_case_study_vcaligned_v1_left.####.dpx
 proxy_format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1009
 last 1229
 origfirst 1009
 origlast 1229
 origset true
 timecode 14:41:25:18
 name E_138_er_170_fg_01_case_study_vcaligned_v1_1
 label N/A
 xpos -16505
 ypos 11190
 addUserKnob {20 Hub}
 addUserKnob {6 approvedVersionsOnly l "Show Approved Only" -STARTLINE}
 addUserKnob {6 sortLayersByDate l "Sort Layers by Date" +STARTLINE}
 addUserKnob {4 user_filter l "Filter by user:" M {"Show all"}}
 addUserKnob {26 ""}
 addUserKnob {4 scene M {Library_elements MPC_for_starters Nuke3dCom Nuke_at_MPC animation bangComms build comp compositing compositing_film_grain_01 compositing_stereo_01 compositing_stereo_02 compositing_training fx lighting lighting_core3 lookdev prep prodTech_01 rnd roto rotoAnim}}
 scene compositing
 addUserKnob {4 shot M {comp_stereo_v4_sequence compositing_MPC_for_starters compositing_advanced_grading_v1_sequence compositing_grain_v1_sequence compositing_keying_jon-s_uap_138_er_170 compositing_keying_uap_112_af_095_sequence compositing_keying_v1_sequence compositing_nuke3d_v1_sequence compositing_stereo_v4_sequence}}
 shot compositing_keying_jon-s_uap_138_er_170
 addUserKnob {4 layer M {E_138_er_170_fg_01_case_study_vcaligned O_138_er_170}}
 addUserKnob {4 layerVersion l version M {1}}
 addUserKnob {4 pass M {N/A}}
 addUserKnob {6 lockPass l "Lock Pass" -STARTLINE}
 addUserKnob {26 views l "views " T "right, left"}
 addUserKnob {26 ""}
 addUserKnob {32 updt l " Check for Updates " -STARTLINE T "python -exec \"import mpc.nuke.hubNuke.hubNukeReadNode as hubNukeReadNode; hubNukeReadNode.refreshNode(nuke.thisNode())\""}
 addUserKnob {4 elementClip l Resolution M {}}
 addUserKnob {4 layerFilter M {}}
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_043_fe_060/elements/E_043_fe_060_bg_training_precomp_v1/2184x1092/right/E_043_fe_060_bg_training_precomp_v1_right.####.exr
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1001
 last 1091
 origfirst 1001
 origlast 1091
 origset true
 name Read8
 xpos -16634
 ypos 11718
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_et2_282a_rr_146_sequence/elements/E_compositing_keying_et2_282a_rr_146_BG_v1/2048x1556/E_compositing_keying_et2_282a_rr_146_BG_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1162
 origfirst 1017
 origlast 1162
 origset true
 colorspace AlexaV3LogC
 timecode 00:00:00:00
 name Read5
 xpos -16916
 ypos 11705
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_dks_tbr_2235_sequence/elements/I_tbr2235_bg01_v1/2048x1556/I_tbr2235_bg01_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1001
 last 1074
 origfirst 1001
 origlast 1074
 origset true
 timecode 06:07:42:03
 edge_code "02 19 04 0190 7673 13"
 name Read9
 xpos -16767
 ypos 11725
}
StickyNote {
 inputs 0
 name StickyNote53
 label "<align='left>LUMA SLICE (Luma keyer)\n\nThis method is good for dark motion blur\n or for adding detail to specular in hair\n\n1) luma key the fg that is darker and then brighter than the screen.\n\n2) now use your keyer of choice to key only the rquired  mid-range slice.\n\nA subtle sharpen on the highlights can sometimes help pop the top end through.\n\nSometimes this produces too good a matte that harders too far out of the edge, \nso we need to mult down before overing..\n\n.\n\n"
 note_font_size 15
 xpos -14183
 ypos 14452
}
StickyNote {
 inputs 0
 name StickyNote10
 label "<align='left>KEYLIGHT (Colour Difference Keyer)\n\nOne of nukes best keyers.\n\n1) Pick the Screen Colour and then Alpha Bias to adjust the despill.  Pick \nskin-tone for the Alpha or Despil Bias this will often give good results.\n2) Alpha Bias can also reduce unwanted transparency but may create jaggies with a seperate Despill Bias colour.\n3) Tuning (mid tones at 0.18) and increacing shadow gain can help edge despill and matte contrast\n\nKeylight does not deal with wide ranges very well, if there are bight highlights pull the matte seperatly in log.\n\nIf you are need superfine detail / thin matte, set the screen colour so one one channel is at 1.0 \nand the others are at 0.0\n\nKeylight can do a good despil but sometimes a little heavy handed producing artifacts or colour casts.\n\tTweaking the screen balance and despil bias can help, otherwise do the despil seperatly from the matte,\n\n\n,\n\n\n\n\n"
 note_font_size 20
 xpos -14715
 ypos 16823
}
push $N86920e0
Dot {
 name Dot251
 xpos -15008
 ypos 16047
}
set N875cc00 [stack 0]
Primatte3 {
 data { 5
    12095 36222 9862
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    73889.6 130560 130560 130560 23523 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 17582.4 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 21743.9 19444.6 130560 29656 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 20772.4 20468.8
    73889.6 130560 130560 130560 25210.3 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 25343 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 31697.2 24845.2 130560 31749.5 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 22434.5 23656.8
    -0.100067 -2.18669e+12 -2.50898e+12 3979.08 2.21153e+12 2.57517e+12
    -0.100067 -1.35645e+12 -1.98865e+12 3590.41 1.23332e+12 2.27768e+12
    -0.100067 -2.22551e+14 -2.22551e+14 -3273.5 -5.567e+13 -5.567e+13
    -0.100067 -2.22551e+14 -2.22551e+14 -3662.17 -6.23614e+13 -6.23614e+13
    -0.100128 -2.01396e+12 -2.15842e+12 3662.17 2.68551e+12 2.69684e+12
    -0.100128 -1.2493e+12 -1.71079e+12 3273.5 1.53829e+12 2.34106e+12
    -0.100128 -2.22551e+14 -2.22551e+14 -3590.41 -6.1126e+13 -6.1126e+13
    -0.100128 -2.22551e+14 -2.22551e+14 -3979.08 -6.78174e+13 -6.78174e+13
    -0.182343 -4.06321e+14 -4.06321e+14 5779.99 9.87423e+13 9.87423e+13
    -0.182373 -4.06321e+14 -4.06321e+14 4789.71 8.16499e+13 8.16499e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -1644.63 -2.79984e+13 -2.79984e+13
    -0.182343 -4.06321e+14 -4.06321e+14 -5210.27 -8.88445e+13 -8.88445e+13
    -0.182129 -5.6798e+13 -5.6798e+13 2343.35 6.96582e+13 6.96582e+13
    -0.182159 -1.42872e+12 -3.46954e+12 1353.07 1.8241e+12 2.44672e+12
    -0.182648 -4.06321e+14 -4.06321e+14 -1922.79 -3.29427e+13 -3.29427e+13
    -0.182373 -3.25745e+14 -3.25745e+14 -5488.43 -9.34742e+13 -9.34742e+13
    -0.182373 -4.06321e+14 -4.06321e+14 5488.43 9.37888e+13 9.37888e+13
    -0.182098 -1.84265e+12 -3.87171e+12 1922.79 2.1089e+12 4.28674e+12
    -0.182587 -4.06321e+14 -4.06321e+14 -1353.07 -2.30449e+13 -2.30449e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -2343.35 -4.01373e+13 -4.01373e+13
    -0.182404 -4.06321e+14 -4.06321e+14 5210.27 8.88445e+13 8.88445e+13
    -0.182129 -1.51246e+13 -1.51246e+13 1644.63 1.17199e+13 1.17199e+13
    -0.182373 -4.06321e+14 -4.06321e+14 -4789.71 -8.16499e+13 -8.16499e+13
    -0.182404 -3.79466e+14 -3.79466e+14 -5779.99 -9.7185e+13 -9.7185e+13
    -0.23645 -5.24559e+14 -5.24559e+14 6477.44 1.10138e+14 1.10138e+14
    -0.236938 -1.06065e+14 -1.06065e+14 2427.38 6.43751e+13 6.43751e+13
    -0.236694 -5.24559e+14 -5.24559e+14 874.955 1.46206e+13 1.46206e+13
    -0.236694 -5.24559e+14 -5.24559e+14 -3175.11 -5.41029e+13 -5.41029e+13
    -0.236694 -4.10567e+14 -4.10567e+14 3175.11 5.75997e+13 5.75997e+13
    -0.236816 -4.3663e+12 -5.04635e+12 -874.955 4.31124e+12 3.59968e+12
    -0.236694 -5.24559e+14 -5.24559e+14 -2427.38 -4.1415e+13 -4.1415e+13
    -0.236694 -1.00047e+14 -1.00047e+14 -6477.44 1.06001e+14 1.06001e+14
    -0.183258 -3.77803e+13 -3.77803e+13 7263.87 4.32295e+13 4.32295e+13
    -0.182495 -1.72689e+13 -1.8488e+13 6392.14 1.49732e+13 1.35308e+13
    -0.182495 -4.06321e+14 -4.06321e+14 -4442.19 -7.58793e+13 -7.58793e+13
    -0.182281 -4.06321e+14 -4.06321e+14 -6679.1 -1.13912e+14 -1.13912e+14
    -0.182739 -7.95523e+12 -7.95523e+12 5159.37 9.16274e+12 9.16274e+12
    -0.182953 -1.29659e+12 -2.57903e+12 4287.64 1.35951e+12 2.26394e+12
    -0.182953 -4.06321e+14 -4.06321e+14 -4872.41 -8.31437e+13 -8.31437e+13
    -0.182739 -4.06321e+14 -4.06321e+14 -7109.32 -1.21177e+14 -1.21177e+14
    -0.100037 -2.22551e+14 -2.22551e+14 1965.56 3.33647e+13 3.33647e+13
    -0.100159 -2.22551e+14 -2.22551e+14 1382.43 2.34846e+13 2.34846e+13
    -0.100159 -2.22551e+14 -2.22551e+14 592.198 1.01367e+13 1.01367e+13
    -0.100159 -3.48622e+13 -3.48622e+13 -1642.55 3.11045e+13 3.11045e+13
    -0.100098 -1.41166e+14 -1.41166e+14 -196.05 6.92167e+13 6.92167e+13
    -0.100098 -5.32324e+12 -7.75995e+12 -779.181 1.6463e+13 1.11627e+13
    -0.100159 -2.22551e+14 -2.22551e+14 456.171 7.8694e+12 7.8694e+12
    -0.100037 -1.57664e+14 -1.57664e+14 -1778.58 -4.03867e+13 -4.03867e+13
    -0.183105 -4.06321e+14 -4.06321e+14 3840 6.53357e+13 6.53357e+13
    -0.183105 -2.27404e+13 -2.27404e+13 101.194 1.92157e+13 1.92157e+13
    -0.18335 -4.06321e+14 -4.06321e+14 1850.18 3.13023e+13 3.13023e+13
    -0.183228 -4.06321e+14 -4.06321e+14 -679.879 -1.16842e+13 -1.16842e+13
    -0.18335 -4.06321e+14 -4.06321e+14 2025.47 3.44973e+13 3.44973e+13
    -0.183228 -1.5283e+13 -1.5283e+13 -1713.34 2.05969e+13 2.05969e+13
    -0.18335 -4.06321e+14 -4.06321e+14 -1446.79 -2.46693e+13 -2.46693e+13
    -0.18335 -2.4531e+13 -2.4531e+13 -3976.85 3.17081e+13 3.17081e+13
    -0.234741 -2.03151e+14 -2.03151e+14 8599.42 1.72823e+14 1.72823e+14
    -0.234924 -2.67258e+12 -3.85221e+12 4786.85 2.44061e+12 3.77683e+12
    -0.235901 -5.24559e+14 -5.24559e+14 -3272.99 -5.55414e+13 -5.55414e+13
    -0.235718 -5.24559e+14 -5.24559e+14 -5328.54 -9.08357e+13 -9.08357e+13
    -0.234802 -1.74356e+14 -1.74356e+14 7284.48 8.81665e+13 8.81665e+13
    -0.234497 -4.89762e+12 -5.28952e+12 3471.91 2.89181e+12 2.33784e+12
    -0.235474 -5.24559e+14 -5.24559e+14 -6742.79 -1.14977e+14 -1.14977e+14
    -0.235779 -4.89889e+14 -4.89889e+14 -8798.33 -1.357e+14 -1.357e+14
    -0.182983 -3.57435e+13 -3.82667e+13 7109.32 4.4502e+13 4.57245e+13
    -0.182281 -1.52482e+12 -2.80829e+12 4872.41 1.22479e+12 3.19558e+12
    -0.183258 -4.06321e+14 -4.06321e+14 -4287.64 -7.32459e+13 -7.32459e+13
    -0.182495 -4.06321e+14 -4.06321e+14 -5159.37 -8.80182e+13 -8.80182e+13
    -0.182953 -3.24253e+13 -3.24253e+13 6679.1 3.9285e+13 3.9285e+13
    -0.183228 -3.8079e+12 -4.1126e+12 4442.19 3.45937e+12 4.17077e+12
    -0.182739 -4.06321e+14 -4.06321e+14 -6392.14 -1.09038e+14 -1.09038e+14
    -0.181976 -4.06321e+14 -4.06321e+14 -7263.87 -1.2381e+14 -1.2381e+14
    -0.18335 -4.06321e+14 -4.06321e+14 3976.85 6.76557e+13 6.76557e+13
    -0.183105 -4.06321e+14 -4.06321e+14 1446.79 2.46693e+13 2.46693e+13
    -0.18335 -4.06321e+14 -4.06321e+14 1713.34 2.89822e+13 2.89822e+13
    -0.18335 -1.12466e+14 -1.12466e+14 -2025.47 4.12166e+13 4.12166e+13
    -0.18335 -3.18024e+14 -3.18024e+14 679.879 6.915e+13 6.915e+13
    -0.183105 -4.11806e+12 -4.75945e+12 -1850.18 5.59054e+12 3.68106e+12
    -0.18335 -4.06321e+14 -4.06321e+14 -101.194 -1.8562e+12 -1.8562e+12
    -0.183105 -5.87864e+13 -5.87864e+13 -3840 1.05981e+12 1.05981e+12
    -0.100159 -2.22551e+14 -2.22551e+14 1778.58 3.0176e+13 3.0176e+13
    -0.100159 -5.80608e+12 -8.4638e+12 -456.171 2.37823e+13 2.0668e+13
    -0.100159 -2.22551e+14 -2.22551e+14 779.181 1.33254e+13 1.33254e+13
    -0.100159 -2.22551e+14 -2.22551e+14 196.05 3.44536e+12 3.44536e+12
    -0.100037 -2.22551e+14 -2.22551e+14 1642.55 2.79087e+13 2.79087e+13
    -0.100037 -1.00007e+14 -1.00007e+14 -592.198 3.39715e+13 3.39715e+13
    -0.100037 -2.22551e+14 -2.22551e+14 -1382.43 -2.34846e+13 -2.34846e+13
    -0.100159 -3.19631e+13 -3.19631e+13 -1965.56 -3.55489e+12 -3.55489e+12
    -0.233948 -2.03151e+14 -2.03151e+14 8798.33 1.60675e+14 1.60675e+14
    -0.234741 -9.81491e+13 -9.81491e+13 6742.79 7.85734e+13 7.85734e+13
    -0.235229 -5.24559e+14 -5.24559e+14 -3471.91 -5.8941e+13 -5.8941e+13
    -0.234924 -5.24559e+14 -5.24559e+14 -7284.48 -1.24265e+14 -1.24265e+14
    -0.234497 -3.84239e+13 -3.84239e+13 5328.54 4.01019e+13 4.01019e+13
    -0.234802 -1.76206e+12 -3.17025e+12 3272.99 1.66751e+12 1.85775e+12
    -0.234802 -5.24559e+14 -5.24559e+14 -4786.85 -8.15476e+13 -8.15476e+13
    -0.234985 -4.20535e+14 -4.20535e+14 -8599.42 -1.03826e+14 -1.03826e+14
    -0.163757 -7.67562e+12 -8.21746e+12 6653.13 8.38724e+12 8.83777e+12
    -0.163757 -2.30037e+12 -3.14678e+12 5636.6 2.06553e+12 2.52175e+12
    -0.163757 -3.63425e+14 -3.63425e+14 -4807.74 -8.20326e+13 -8.20326e+13
    -0.163757 -3.63425e+14 -3.63425e+14 -5824.27 -9.92689e+13 -9.92689e+13
    -0.163879 -6.06728e+12 -6.06728e+12 5824.27 7.65022e+12 7.65022e+12
    -0.163879 -1.80154e+12 -2.48611e+12 4807.74 1.77874e+12 1.82885e+12
    -0.163879 -3.63425e+14 -3.63425e+14 -5636.6 -9.60867e+13 -9.60867e+13
    -0.163391 -3.63425e+14 -3.63425e+14 -6653.13 -1.13323e+14 -1.13323e+14
    -0.163849 -3.63425e+14 -3.63425e+14 3843.28 6.54525e+13 6.54525e+13
    -0.163696 -3.63425e+14 -3.63425e+14 2572.72 4.37857e+13 4.37857e+13
    -0.163696 -3.63425e+14 -3.63425e+14 559.867 9.4029e+12 9.4029e+12
    -0.163849 -1.00593e+14 -1.00593e+14 -3020.51 1.55162e+14 1.55162e+14
    -0.163818 -1.80428e+14 -1.80428e+14 449.188 3.40127e+13 3.40127e+13
    -0.16391 -2.40807e+12 -4.05709e+12 -821.368 3.76588e+12 2.36543e+12
    -0.163788 -3.63425e+14 -3.63425e+14 -1.39359 -2.20694e+11 -2.20694e+11
    -0.16394 -2.06407e+14 -2.06407e+14 -3581.78 -2.24068e+13 -2.24068e+13
    -0.163696 -3.63425e+14 -3.63425e+14 3581.78 6.1022e+13 6.1022e+13
    -0.163849 -3.38743e+12 -4.93801e+12 1.39359 2.9234e+12 4.56934e+12
    -0.163849 -3.63425e+14 -3.63425e+14 821.368 1.38334e+13 1.38334e+13
    -0.163696 -3.63425e+14 -3.63425e+14 -449.188 -7.8334e+12 -7.8334e+12
    -0.163788 -3.63425e+14 -3.63425e+14 3020.51 5.13984e+13 5.13984e+13
    -0.163818 -3.40374e+13 -3.40374e+13 -559.867 4.53504e+13 4.53504e+13
    -0.163696 -3.63425e+14 -3.63425e+14 -2572.72 -4.37857e+13 -4.37857e+13
    -0.163788 -8.61317e+13 -8.61317e+13 -3843.28 1.1386e+14 1.1386e+14
    -0.270386 -2.34579e+14 -2.34579e+14 9676.85 2.14949e+14 2.14949e+14
    -0.271362 -2.29157e+13 -2.29157e+13 5665.36 2.05066e+13 2.05066e+13
    -0.271362 -6.05708e+14 -6.05708e+14 -2394.48 -4.05267e+13 -4.05267e+13
    -0.271362 -6.05708e+14 -6.05708e+14 -6405.97 -1.0925e+14 -1.0925e+14
    -0.27063 -1.57578e+14 -1.57578e+14 6405.97 1.70437e+14 1.70437e+14
    -0.271118 -3.14892e+12 -3.93057e+12 2394.48 2.41786e+12 2.88937e+12
    -0.271606 -6.05708e+14 -6.05708e+14 -5665.36 -9.65623e+13 -9.65623e+13
    -0.271606 -4.53497e+14 -4.53497e+14 -9676.85 -1.1242e+14 -1.1242e+14
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.171093 0.231093
    0.05 0.141857 0.261963
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
  }

 primEdgedata { 5
    12095 36222 9862
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    73889.6 130560 130560 130560 23523 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 17582.4 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 21743.9 19444.6 130560 29656 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 20772.4 20468.8
    73889.6 130560 130560 130560 25210.3 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 25343 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 31697.2 24845.2 130560 31749.5 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 22434.5 23656.8
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.171093 0.231093
    0.05 0.141857 0.261963
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
  }

 primBodydata { 5
    12095 36222 9862
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    73889.6 130560 130560 130560 23523 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 17582.4 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 21743.9 19444.6 130560 29656 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 20772.4 20468.8
    73889.6 130560 130560 130560 25210.3 130560 130560 130560 130560 130560 130560 130560 130560 33258.8 25343 130560 130560 36760.8 130560 130560 130560 130560 130560 130560 130560 130560 36137.8 130560 130560 130560 130560 130560 92493.8 33132.6 31697.2 24845.2 130560 31749.5 130560 31346 82814.9 27313.4 130560 130560 130560 130560 130560 130560 130560 130560 130560 121931 130560 104669 26398.9 24428.8 130560 130560 50563.2 130560 130560 43396.3 102188 27211.4 22434.5 23656.8
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.171093 0.231093
    0.05 0.141857 0.261963
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
    0.05 0.315429 0.315429
  }

 crop {0 0 2048 1556}
 "Adjust Lighting" 0
 "Hybrid Matte" 0
 "Fine Tuning" 0
 name Primatte24
 xpos -15039
 ypos 16278
}
Dot {
 name Dot253
 xpos -15008
 ypos 16330
}
push $N875cc00
Dot {
 name Dot237
 xpos -14815
 ypos 16047
}
Shuffle {
 in bg
 name Shuffle23
 label "\[value in]"
 xpos -14846
 ypos 16135
}
Merge2 {
 inputs 2
 name Merge40
 xpos -14846
 ypos 16329
}
push $N81956a0
Dot {
 name Dot406
 xpos -15138
 ypos 16845
}
set N87a5430 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.02810849808 0.2617386878 0.01890013926}
 screenGain 1
 screenBalance 0.635
 alphaBias {0.266284138 0.08988717198 0.02520133927}
 despillBias {0.5 0.5 0.7}
 gangBiases false
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.18
 lowGain 1.04
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet true
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight14
 xpos -15169
 ypos 17159
}
set N87b6c70 [stack 0]
push $N87a5430
Dot {
 name Dot250
 xpos -14948
 ypos 16845
}
Shuffle {
 in bg
 name Shuffle22
 label "\[value in]"
 xpos -14979
 ypos 16908
}
Merge2 {
 inputs 2
 name Merge39
 xpos -14979
 ypos 17159
}
push $N863efb0
Add {
 name Add1
 xpos -14890
 ypos 18071
}
Dot {
 name Dot414
 xpos -14859
 ypos 18123
}
set N8918630 [stack 0]
Dot {
 name Dot430
 xpos -14969
 ypos 18123
}
set N891c8f0 [stack 0]
Dot {
 name Dot431
 xpos -14998
 ypos 18152
}
push $N891c8f0
Dot {
 name Dot432
 xpos -14945
 ypos 18151
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.blue}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max
 xpos -15000
 ypos 18189
}
push $N8918630
ChannelMerge {
 inputs 2
 operation from
 B rgba.green
 name ChannelMerge1
 xpos -14890
 ypos 18183
}
Invert {
 name Invert8
 xpos -14890
 ypos 18233
}
Grade {
 channels alpha
 blackpoint 0.75
 whitepoint 0.98
 white_clamp true
 name Grade9
 xpos -14890
 ypos 18304
}
Dot {
 name Dot503
 xpos -14859
 ypos 18502
}
push $N86438e0
Dot {
 name Dot437
 xpos -14327
 ypos 17982
}
Dot {
 name Dot502
 xpos -14236
 ypos 17982
}
set N8962780 [stack 0]
Shuffle {
 in despill
 name Shuffle18
 label "\[value in]"
 xpos -14267
 ypos 18045
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy4
 xpos -14278
 ypos 18495
}
Premult {
 name Premult9
 xpos -14278
 ypos 18544
}
push $N8962780
Dot {
 name Dot501
 xpos -14090
 ypos 17982
}
Shuffle {
 in bg
 name Shuffle17
 label "\[value in]"
 xpos -14121
 ypos 18057
}
Merge2 {
 inputs 2
 name Merge31
 xpos -14121
 ypos 18544
}
push $N81a6780
Dot {
 name Dot519
 xpos -16056
 ypos 22620
}
Dot {
 name Dot480
 xpos -15108
 ypos 22620
}
Dot {
 name Dot481
 xpos -15108
 ypos 22821
}
set N89ad070 [stack 0]
Dot {
 name Dot482
 xpos -14971
 ypos 22821
}
set N89b13c0 [stack 0]
Shuffle {
 in cleanscreen
 name Shuffle21
 label "\[value in]"
 xpos -15002
 ypos 22858
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Intermediate Result"
 unPreMultiply false
 screenColour {0.02923347987 0.2677208185 0.01995465904}
 screenGain 1
 screenBalance 0.5
 alphaBias {0.4449999928 0.5450000167 0.5400000215}
 alphaBias_panelDropped true
 setKnobFlags {alphaBias_panelDropped +HIDDEN}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0.08
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 1
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 1
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight20
 xpos -15002
 ypos 22936
}
push $N89ad070
Group {
 name L_Despill_v12
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -15139
 ypos 23043
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set N8a60610 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set N8a68d80 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set N8a75660 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set N8a79970 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set N8a81fe0 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $N8a75660
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $N8a60610
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set N8ad1030 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set N8ae04d0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $N8ae04d0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $N8ae04d0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $N8ae04d0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $N8ae04d0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set N8b29480 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set N8b2d880 [stack 0]
push $N8ad1030
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set N8b3e580 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $N8b3e580
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $N8b3e580
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $N8b3e580
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $N8b3e580
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set N8b87890 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set N8b8bb90 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $N8b2d880
push $N8b8bb90
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set N8bc41b0 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set N8bc8420 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $N8bc8420
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set N8be10d0 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $N8be10d0
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $N8be10d0
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $N8be10d0
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $N8bc8420
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set N8c4fe70 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $N8c4fe70
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $N8c4fe70
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $N8c4fe70
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set N8cbeb90 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set N8cc64e0 [stack 0]
push $N8cc64e0
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $N8bc8420
push $N8cbeb90
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set N8cf5ed0 [stack 0]
push $N8bc41b0
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $N8bc8420
push $N8cf5ed0
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set N8d538d0 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set N8d60de0 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set N8d65050 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $N8d65050
push $N8a79970
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $N8d60de0
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set N8d93a00 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set N8da5000 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set N8da96b0 [stack 0]
push $N8da96b0
push $N8d538d0
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set N8da9320 [stack 0]
push $N8da9320
push $N8b29480
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $N8b87890
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black 0.0005
  white 0.98
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $N8d93a00
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set N8e523d0 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $N8da5000
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $N8a81fe0
push $N8e523d0
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $N8a68d80
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $N8a81fe0
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy3
 xpos -15002
 ypos 23037
}
Dot {
 name Dot493
 xpos -14963
 ypos 23141
}
set N8edb6b0 [stack 0]
Dot {
 name Dot487
 xpos -14872
 ypos 23141
}
set N8edacc0 [stack 0]
Dot {
 name Dot484
 xpos -14637
 ypos 23141
}
Dot {
 name Dot489
 xpos -14639
 ypos 23471
}
push $N89b13c0
Dot {
 name Dot488
 xpos -14799
 ypos 22821
}
Shuffle {
 in bg
 name Shuffle16
 label "\[value in]"
 xpos -14830
 ypos 22880
}
set N8ef06c0 [stack 0]
Dot {
 name Dot486
 xpos -14511
 ypos 22887
}
Merge2 {
 inputs 2
 name Merge28
 xpos -14542
 ypos 23470
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_043_fe_060/elements/E_043_fe_060_greenscreen_fg_training_v1/2184x1092/right/E_043_fe_060_greenscreen_fg_training_v1_right.####.dpx
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1001
 last 1091
 origfirst 1001
 origlast 1091
 origset true
 timecode 00:00:00:00
 name Read3
 xpos -16629
 ypos 11190
}
FrameHold {
 first_frame 1007
 name FrameHold27
 xpos -16629
 ypos 11291
}
push $N8188d40
Dot {
 name Dot240
 xpos -15161
 ypos 13839
}
Dot {
 name Dot401
 xpos -15161
 ypos 14068
}
set N8f1d9f0 [stack 0]
Keyer {
 operation "min keyer"
 range {0.03 0.09864018585 1 1}
 name Keyer8
 xpos -15192
 ypos 14231
}
Dot {
 name Dot522
 xpos -15161
 ypos 14799
}
push $N8f1d9f0
Dot {
 name Dot404
 xpos -14989
 ypos 14070
}
set N8f3a690 [stack 0]
Dot {
 name Dot504
 xpos -14420
 ypos 14073
}
set N8f3e9a0 [stack 0]
Shuffle {
 in despill
 name Shuffle19
 label "\[value in]"
 xpos -14451
 ypos 14149
}
Dot {
 name Dot520
 xpos -14420
 ypos 14418
}
set N8f4f760 [stack 0]
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy7
 xpos -14446
 ypos 14792
}
Sharpen {
 channels rgba
 name Sharpen1
 xpos -14446
 ypos 14852
 disable true
}
Premult {
 name Premult16
 xpos -14446
 ypos 14898
}
push $N8f3e9a0
Dot {
 name Dot523
 xpos -14343
 ypos 14073
}
set N8f735f0 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.03057406656 0.2765044272 0.01967777498}
 screenGain 1
 screenBalance 0.5
 alphaBias {0.495 0.5 0.5}
 alphaBias_panelDropped true
 setKnobFlags {alphaBias_panelDropped +HIDDEN}
 despillBias {0.366275847 0.170169428 0.07480822504}
 gangBiases false
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0.06
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.18
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight22
 xpos -14374
 ypos 14609
}
Dot {
 name Dot524
 xpos -14343
 ypos 14717
}
push $N8f3a690
Keyer {
 operation "max keyer"
 range {0.06062978208 0.2400507563 1 1}
 name Keyer13
 xpos -15020
 ypos 14226
}
Invert {
 name Invert12
 xpos -15020
 ypos 14295
}
Dot {
 name Dot506
 xpos -14989
 ypos 14468
}
push $N8f4f760
Dot {
 name Dot521
 xpos -14529
 ypos 14418
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy5
 xpos -14560
 ypos 14462
}
Premult {
 name Premult11
 xpos -14560
 ypos 14527
}
Multiply {
 channels rgba
 value 0.8
 name Multiply1
 xpos -14560
 ypos 14553
}
push $N8f735f0
Dot {
 name Dot505
 xpos -14274
 ypos 14073
}
Shuffle {
 in bg
 name Shuffle20
 label "\[value in]"
 xpos -14300
 ypos 14150
}
Merge2 {
 inputs 2
 name Merge33
 xpos -14300
 ypos 14553
}
Merge2 {
 inputs 2
 name Merge34
 xpos -14300
 ypos 14716
}
Merge2 {
 inputs 2
 name Merge29
 xpos -14300
 ypos 14898
}
push $N818d060
Dot {
 name Dot494
 xpos -14969
 ypos 15277
}
Dot {
 name Dot412
 xpos -14969
 ypos 15423
}
set N9067e30 [stack 0]
Dot {
 name Dot403
 xpos -15124
 ypos 15423
}
Dot {
 name Dot495
 xpos -15124
 ypos 15501
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0291162394 0.2670859396 0.01971882395}
 screenGain 1
 screenBalance 0.5
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 0
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 0
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight21
 xpos -15155
 ypos 15589
}
set N9086a80 [stack 0]
Dot {
 name Dot402
 xpos -15124
 ypos 15664
}
push $N9086a80
push $N9067e30
Shuffle {
 in bg
 name Shuffle14
 label "\[value in]"
 xpos -15000
 ypos 15494
}
AddMix {
 inputs 2
 premultiplied true
 nonlinear true
 lut {A {}
   B {curve 1 s0 t-2.200000048 0.1825870872 s-1.350000024 t0}}
 name AddMix2
 xpos -15000
 ypos 15589
}
Merge2 {
 inputs 2
 name Merge30
 xpos -15000
 ypos 15663
}
StickyNote {
 inputs 0
 name StickyNote79
 label "<align='left>Colour Difference Keyer\n\nClassic Keyer, produces very fine results. \nSimilar to Keylight's matte when keylight has interger numbers for the screen colour \ni.e. 0,1,0(RGB)\n\nThe add nodes can be used to create offsets to remove fg areas with too much spill that are not keying.\n\n..\n\n"
 note_font_size 15
 xpos -13940
 ypos 18026
}
StickyNote {
 inputs 0
 name StickyNote112
 label "  <align='left> Additive Keyer  (image blending)\n\nGood for super fine detail, but not for a solid key.\n\nNeeds a cleanplate & a clean screen to work well.\nOften better with despilled plates and in log.\n\nDo not use with stereo post convertion shots!\n\n"
 note_font_size 16
 xpos -14624
 ypos 19238
}
push $N819d8e0
Dot {
 name Dot438
 xpos -14972
 ypos 20032
}
Dot {
 name Dot458
 xpos -14972
 ypos 20249
}
set N9149790 [stack 0]
Shuffle {
 in bg
 name Shuffle6
 label "\[value in]"
 xpos -15102
 ypos 20242
}
Dot {
 name Dot470
 xpos -15406
 ypos 20249
}
Dot {
 name Dot448
 xpos -15401
 ypos 20859
}
set N91447b0 [stack 0]
Dot {
 name Dot449
 xpos -15523
 ypos 20859
}
Dot {
 name Dot450
 xpos -15523
 ypos 20968
}
push $N9149790
Shuffle {
 in cleanscreen
 name Shuffle8
 label "\[value in]"
 xpos -15003
 ypos 20305
}
set N916bd20 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.01999999955 0.4099999964 0.01099999994}
 screenColour_panelDropped true
 setKnobFlags {screenColour_panelDropped +HIDDEN}
 screenGain 1
 screenBalance 0.5
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 1
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 1
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight17
 xpos -15003
 ypos 20408
}
Dot {
 name Dot456
 xpos -14972
 ypos 20480
}
set N92035e0 [stack 0]
Dot {
 name Dot475
 xpos -14966
 ypos 20770
}
set N9166c50 [stack 0]
Grade {
 channels alpha
 white 1.04
 gamma 0.415
 name Grade12
 xpos -15212
 ypos 20763
}
FilterErode {
 size 10
 filter gaussian
 name FilterErode4
 xpos -15212
 ypos 20832
}
Dot {
 name Dot451
 xpos -15182
 ypos 20904
}
push $N91447b0
Blur {
 inputs 1+1
 size 500
 name Blur1
 xpos -15435
 ypos 20897
}
Merge2 {
 inputs 2
 operation min
 bbox B
 name Merge5
 xpos -15435
 ypos 20967
}
push $N916bd20
Dot {
 name Dot453
 xpos -15214
 ypos 20312
}
Dot {
 name Dot455
 xpos -15214
 ypos 20546
}
push $N92035e0
Dot {
 name Dot457
 xpos -15070
 ypos 20480
}
Merge2 {
 inputs 2
 operation minus
 bbox B
 name Merge9
 xpos -15101
 ypos 20545
}
Saturation {
 saturation 0
 name Saturation2
 xpos -15101
 ypos 20611
}
push $N9149790
Shuffle {
 in cleanplate
 name Shuffle7
 label "\[value in]"
 xpos -14796
 ypos 20242
}
Dot {
 name Dot452
 xpos -14764
 ypos 20426
}
Saturation {
 saturation 0
 name Saturation1
 xpos -14795
 ypos 20707
}
Merge2 {
 inputs 2
 operation divide
 bbox B
 name Merge10
 xpos -15101
 ypos 20707
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge11
 xpos -15101
 ypos 20967
}
Dot {
 name Dot474
 xpos -15070
 ypos 21050
}
push $N9166c50
Merge2 {
 inputs 2
 operation plus
 bbox B
 name Merge12
 xpos -14997
 ypos 21049
}
StickyNote {
 inputs 0
 name StickyNote111
 label " <align='left> Despill Difference / Dilate keyer (image blending / hue Difference)\n\n\nGood for super fine detail\n\nNeeds a cleanplate & a clean screen to work well.\n\nDo not use with stereo post convertion shots!\n\n.\n"
 note_font_size 15
 xpos -14603
 ypos 20157
}
StickyNote {
 inputs 0
 name StickyNote114
 label "  <align='left>  BG mix keyer (image blending)\n\nDo not use with stereo post convertion shots!\n\nIMO the most effective way of keying super fine detail like long motion blur in mid-range colour.\n\n.."
 note_font_size 15
 xpos -14341
 ypos 22900
}
CheckerBoard2 {
 inputs 0
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 color0 0.05
 color1 1
 color2 0.1
 color3 0.5
 centerlinecolor {0 0 0 1}
 name CheckerBoard2
 xpos -11138
 ypos 11747
}
Dot {
 name Dot446
 xpos -11107
 ypos 11934
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_v1_sequence/elements/E_comp_keying_v1_mid_BS_v1/2048x1556/E_comp_keying_v1_mid_BS_v1.####.dpx
 format "2048 1556 0 0 2048 1556 2 "
 proxy /jobs/training/comp/comp_keying_v1_sequence/elements/E_comp_keying_v1_mid_BS_v1/2048x1556/E_comp_keying_v1_mid_BS_v1.####.dpx
 proxy_format "2048 1556 0 0 2048 1556 2 "
 first 1400
 last 1541
 origfirst 1400
 origlast 1541
 origset true
 timecode 00:00:00:00
 edge_code "02 96 16 4505 6697 08"
 name E_comp_keying_v1_mid_BS_v1_2
 label N/A
 xpos -10790
 ypos 11154
 addUserKnob {20 Hub}
 addUserKnob {6 approvedVersionsOnly l "Show Approved Only" -STARTLINE}
 addUserKnob {6 sortLayersByDate l "Sort Layers by Date" +STARTLINE}
 addUserKnob {4 user_filter l "Filter by user:" M {"Show all" sam-ba}}
 addUserKnob {26 ""}
 addUserKnob {4 scene M {MPC_for_starters Nuke3dCom Nuke_at_MPC build comp compositing_film_grain_01 compositing_stereo_01 compositing_stereo_02 compositing_training lighting_core3 roto}}
 scene comp
 addUserKnob {4 shot M {comp_advanced_grading_v1_sequence comp_keying_v1_sequence comp_stereo_v1_sequence}}
 shot comp_keying_v1_sequence
 addUserKnob {4 layer M {E_comp_keying_v1_mid_BG E_comp_keying_v1_mid_BS E_comp_keying_v1_simple_BG E_comp_keying_v1_simple_FG_Degrain E_comp_keying_v1_simple_GS}}
 layer E_comp_keying_v1_mid_BS
 addUserKnob {4 layerVersion l version M {1}}
 addUserKnob {4 pass M {N/A}}
 addUserKnob {6 lockPass l "Lock Pass" -STARTLINE}
 addUserKnob {26 views l "views " T (mono)}
 addUserKnob {26 ""}
 addUserKnob {32 updt l " Check for Updates " -STARTLINE T "python -exec \"import mpc.nuke.hubNuke.hubNukeReadNode as hubNukeReadNode; hubNukeReadNode.refreshNode(nuke.thisNode())\""}
 addUserKnob {4 elementClip l Resolution M {}}
 addUserKnob {4 layerFilter M {}}
}
Denoise2 {
 useGPUIfAvailable false
 amount 0.54
 "Noise Analysis" 1
 lockNoiseAnalysis true
 analysisFrame 1109
 "Tune Frequencies" 1
 highAmount 2.75
 mediumAmount 1.45
 lowAmount 1.5
 needsAnalyzing false
 profileCurve {profile {curve x0.1000000015 0 x0.1333521456 0 x0.1778279394 0 x0.2371373773 0 x0.3162277639 0 x0.4216965139 0 x0.5623413324 0 x0.7498942018 0 x1 0}}
 serializeKnob "1.90723 0.477813 0.331661
0.00981882 0.0170181 0.00900525
0.00981882 0.0170181 0.00900525
0.00708034 0.0138926 0.00733139
0 0 0
0.0057019 0.00721627 0.00667501
0.0057019 0.00721627 0.00667501
0.00251989 0.00485291 0.00258475
0 0 0
0.00172831 0.00313558 0.00222265
0.00172831 0.00313558 0.00222265
0.000960217 0.00242418 0.00146993
0 0 0
0.000281719 0.000700498 0.000471977
0.000281719 0.000700498 0.000471977
0.000145934 0.000457025 0.000398122
0 0 0 0 0 0 0 0 0 
12166951806205697434"
 name Denoise19
 xpos -10751
 ypos 11353
}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 bg
 name ShuffleCopy5
 xpos -10751
 ypos 11933
}
Dot {
 name Dot447
 xpos -10720
 ypos 12163
}
set N92f9f00 [stack 0]
Dot {
 name Dot500
 xpos -11192
 ypos 12163
}
set N92fe200 [stack 0]
Dot {
 name Dot516
 xpos -11311
 ypos 12163
}
set N9302520 [stack 0]
Dot {
 name Dot517
 xpos -11447
 ypos 12163
}
set N92f8fc0 [stack 0]
Dot {
 name Dot525
 xpos -11660
 ypos 12163
}
Dot {
 name Dot526
 xpos -11660
 ypos 12558
}
set N9309c40 [stack 0]
Constant {
 inputs 0
 channels rgb
 color {0.06800572574 0.1861181408 2.410644293 0}
 name REF_COLOUR3
 xpos -11477
 ypos 12415
}
Dot {
 name Dot527
 xpos -11446
 ypos 12497
}
push $N9302520
IBKColourV3 {
 name IBKColourV3_1
 xpos -11342
 ypos 12212
 Size 77.5
 off {0.008 -5e-05 -0.028}
 off_panelDropped true
 mult {1 1 0.36}
 mult_panelDropped true
 erode 0.32
 multi 2.06
}
set N931eb80 [stack 0]
push $N92f8fc0
IBKGizmoV3 {
 inputs 2
 name IBKGizmoV3_7
 selected false
 xpos -11476
 ypos 12212
 st pick
 colour {0.06150043011 0.1760751456 2.366373301}
 red_weight 0.8
 blue_green_weight 0.695
 lm_enable true
 level 0.79
 autolevels true
 ss false
 ublu true
}
Dot {
 name Dot528
 xpos -11445
 ypos 12290
}
push $N931eb80
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy9
 xpos -11348
 ypos 12283
}
Grade {
 channels alpha
 blackpoint 0.13
 whitepoint 1.12
 white_clamp true
 name Grade14
 xpos -11348
 ypos 12328
}
push $N92fe200
Group {
 inputs 2
 name ColorDilatePF19
 knobChanged "\ntn = nuke.thisNode()\ntk = nuke.thisKnob()\n\nfullList =  tn\['fullList'].value().strip(\"\[']\").split(\"', '\")\nnodeList = fullList\[0], fullList\[1], fullList\[2], fullList\[3], fullList\[4], fullList\[5], fullList\[6]\npreviousLoopNum = tn\['previousLoopNum'].getValue()\n\ngrowTexture = tn\['growTexture'].getValue()\nqualityVal = int( tn\['quality'].getValue() )\n\n\n##### DEFINE VALUE CHANGES ##################\n\ndef valChange():\n    qualityBias = tn\['qualityBias'].getValue()\n    blurCenter = tn\['blurCenter'].getValue()\n    bcDistribution = tn\['bcDistribution'].getValue()\n    for i in range (0, qualityVal):\n        blurVal = nuke.toNode(fullList\[i*len(nodeList)])\n        erodeVal = nuke.toNode(fullList\[i*len(nodeList)+3])\n        blurCenterVal = nuke.toNode(fullList\[i*len(nodeList)+5])\n        if isinstance(growTexture, float) == True:\n            blurValSize = (growTexture/qualityVal*(i+1)*(1-qualityBias)) + (growTexture/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2)))\n            blurVal\['size'].setValue( blurValSize )\n            erodeVal\['size'].setValue(blurVal\['size'].getValue()/2)\n            blurCenterVal\['size'].setValue( ( blurValSize*(1-bcDistribution) +  (blurValSize*(bcDistribution*(pow(i+1, 2)/pow(qualityVal, 2)))) ) * blurCenter )\n        else:\n            blurVal\['size'].setValue(\[ (growTexture\[0]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[0]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) , (growTexture\[1]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[1]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) ])\n            erodeVal\['size'].setValue(\[blurVal\['size'].getValue()\[0]/2,blurVal\['size'].getValue()\[1]/2])\n            blurCenterVal\['size'].setValue(\[ (growTexture\[0]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[0]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) , (growTexture\[1]/qualityVal*(i+1)*(1-qualityBias)) + (growTexture\[1]/qualityVal*(i+1)) * (qualityBias*(pow(i+1, 2)/pow(qualityVal, 2))) ])\n\ndef filterChange():\n    filters = int( tn\['filter'].getValue() )\n    filterQuality = int( tn\['filterQuality'].getValue() )\n    crop = int( tn\['crop'].getValue() )\n    for i in range (0, qualityVal):\n        blurVal = nuke.toNode(fullList\[i*len(nodeList)])\n        blurVal\['filter'].setValue( filters )\n        blurVal\['quality'].setValue( filterQuality )\n        blurVal\['crop'].setValue( crop )\n        blurCenterVal = nuke.toNode(fullList\[i*len(nodeList)])\n        blurCenterVal\['filter'].setValue( filters )\n        blurCenterVal\['quality'].setValue( filterQuality )\n        blurCenterVal\['crop'].setValue( crop )\n\n\n##### CREATE THE NODES ###################\n\nif tk.name()=='quality':\n    if qualityVal < 1:\n        qualityVal = 1\n    elif qualityVal >100:\n        qualityVal = 100\n    tn\['quality'].setValue( qualityVal )\n    \n\n    if qualityVal != previousLoopNum:\n\n\n        inputDep = nuke.dependencies(\[nuke.toNode('Unpremult1')], nuke.INPUTS)\n        resultOver = nuke.toNode( inputDep\[0].name() )\n\n        difference = qualityVal-previousLoopNum\n        if difference > 0:\n            for i in range (1, int(difference+1)):\n                \n                blur = nuke.nodes.Blur ()\n                blur\['channels'].setValue('rgba')\n                blur\['maskChannelInput'].setValue('none')\n                blur.setInput (0, nuke.toNode('Switch2'))\n                \n                unpremult = nuke.nodes.Unpremult ()\n                unpremult\['channels'].setValue('rgb')\n                unpremult\['alpha'].setValue('rgba.alpha')\n                unpremult\['invert'].setValue(0)\n                unpremult.setInput (0, blur)\n                \n                expression = nuke.nodes.Expression(expr3 = 'a==0?0:1')\n                expression.setInput (0, unpremult)\n                \n                erode = nuke.nodes.FilterErode ()\n                erode\['channels'].setValue( 'rgba.alpha' )\n                erode\['filter'].setValue( 'gaussian' )\n                erode.setInput (0, expression)\n                \n                premult = nuke.nodes.Premult ()\n                premult\['channels'].setValue( 'rgb' )\n                premult\['alpha'].setValue( 'rgba.alpha' )\n                premult.setInput (0, erode)\n\n                blurCenter = nuke.nodes.Blur ()\n                blurCenter\['channels'].setValue('rgba')\n                blurCenter\['maskChannelInput'].setValue('none')\n                blurCenter.setInput (0, premult)\n\n                mergeOver = nuke.nodes.Merge2 ()\n                mergeOver\['operation'].setValue( 'over' )\n                mergeOver\['sRGB'].setValue( 0 )\n                mergeOver\['screen_alpha'].setValue( 0 )\n                mergeOver\['bbox'].setValue( 'union' )\n                mergeOver\['Achannels'].setValue( 'rgba' )\n                mergeOver\['Bchannels'].setValue( 'rgba' )\n                mergeOver\['output'].setValue( 'rgba' )\n                mergeOver\['also_merge'].setValue( 'none' )\n                mergeOver.setInput (0, blurCenter)\n                mergeOver.setInput (1, resultOver)\n                \n                \n                resultOver = mergeOver\n                \n                \n                nodeList = blur.name(), unpremult.name(), expression.name(), erode.name(), premult.name(), blurCenter.name(), resultOver.name()\n                fullList.extend(nodeList)\n\n\n##### DELETE THE NODES ##################################\n\n        else:\n            fullList.reverse()\n            for i in range (int(qualityVal), int(previousLoopNum)):\n                for i in range (0, len(nodeList)):\n                    nuke.delete(nuke.toNode(fullList\[0]))\n                    del fullList\[0]\n                resultOver = nuke.toNode(fullList\[0])\n                resultExpression = nuke.toNode(fullList\[3])\n            fullList.reverse()\n\n        nuke.toNode('Unpremult1').setInput(0, resultOver)\n        valChange()\n        filterChange()\n                \n        previousLoopNum = qualityVal\n        \n        tn\['previousLoopNum'].setValue( int(previousLoopNum) )\n        tn\['fullList'].setValue( str(fullList) )\n\n\n\n##### CHANGE EXISTING VALUES #####################\n\nif tk.name()=='growTexture':\n    valChange()\n    \nif tk.name()=='qualityBias':\n    valChange()\n\nif tk.name()=='blurCenter':\n    valChange()\n\nif tk.name()=='bcDistribution':\n    valChange()\n    \nif tk.name()=='filter':\n    filterChange()\n    \nif tk.name()=='filterQuality':\n    filterChange()\n    \nif tk.name()=='crop':\n    filterChange()\n\n\n"
 note_font "Bitstream Vera Sans"
 xpos -11223
 ypos 12334
 addUserKnob {20 User l fColourDilate}
 addUserKnob {14 growTexture l "Grow Texture" R 0 100}
 growTexture 100
 addUserKnob {14 erodeMatte l "Erode Matte" t "Dilate or erode the matte to adjust the grow start paint" R -100 100}
 erodeMatte -71
 addUserKnob {7 expandMatte l "Expand Matte" t "Expand or compress the matte to adjust the grow start point" R -0.99999 0.99999}
 expandMatte -0.91
 addUserKnob {7 quality l Iterations t "The number of iterations Colour Dilate will go through.  More is slower.  Max steps is 100" R 1 20}
 quality 10
 addUserKnob {7 qualityBias l Distribution t "0 is a linear distribution.  1 is exponential distribution.\nExponential is smoother with low quality.\nLinear is better with high quality."}
 qualityBias 1
 addUserKnob {26 ""}
 addUserKnob {7 blurCenter l "Blur Center" t "Soften central area where opposite dilates meet creating a hard line.  Is a multiple of Grow Texture." R 0 5}
 blurCenter 3.9
 addUserKnob {7 bcDistribution l "BC Distribution" t "0 blurs a direct multiple of Grow Texture. 1 blurs exponentially more towards the center."}
 addUserKnob {26 ""}
 addUserKnob {4 filter l Filter t "filter\n" M {box triangle quadratic gaussian ""}}
 filter gaussian
 addUserKnob {3 filterQuality l " " -STARTLINE}
 filterQuality 15
 addUserKnob {6 crop l "crop to format" -STARTLINE}
 crop true
 addUserKnob {4 matteOutput l "Matte Output" M {rgb.alpha matte "dilated matte" "dilated area" "grain matte" ""}}
 matteOutput "dilated matte"
 addUserKnob {26 blank l "" -STARTLINE T "      "}
 addUserKnob {6 invertMatte l "invert Matte" -STARTLINE}
 addUserKnob {26 blank2 l "" -STARTLINE T "      "}
 addUserKnob {6 rgbIsPremult l "RGB is Premult?" -STARTLINE}
 addUserKnob {1 colorDilate l INVISIBLE t "Keep me hidden" +INVISIBLE}
 addUserKnob {3 previousLoopNum l INVISIBLE +INVISIBLE}
 previousLoopNum 10
 addUserKnob {1 fullList l INVISIBLE +INVISIBLE}
 fullList "\['Blur1', 'Unpremult2', 'Expression1', 'FilterErode2', 'Premult1', 'BlurCenter', 'Merge2', 'Blur2', 'Unpremult3', 'Expression2', 'FilterErode3', 'Premult2', 'Blur3', 'Merge5', 'Blur4', 'Unpremult4', 'Expression3', 'FilterErode4', 'Premult3', 'Blur5', 'Merge6', 'Blur6', 'Unpremult5', 'Expression4', 'FilterErode5', 'Premult4', 'Blur7', 'Merge7', 'Blur8', 'Unpremult6', 'Expression5', 'FilterErode6', 'Premult5', 'Blur9', 'Merge8', 'Blur10', 'Unpremult7', 'Expression6', 'FilterErode7', 'Premult6', 'Blur11', 'Merge9', 'Blur12', 'Unpremult8', 'Expression7', 'FilterErode8', 'Premult7', 'Blur13', 'Merge10', 'Blur14', 'Unpremult9', 'Expression9', 'FilterErode9', 'Premult8', 'Blur15', 'Merge11', 'Blur16', 'Unpremult10', 'Expression10', 'FilterErode10', 'Premult9', 'Blur17', 'Merge12', 'Blur18', 'Unpremult11', 'Expression11', 'FilterErode11', 'Premult10', 'Blur19', 'Merge13']"
}
 Input {
  inputs 0
  name InputMask
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -665
  number 1
 }
set N94954e0 [stack 0]
 AddChannels {
  channels alpha
  name AddChannels2
  note_font "Bitstream Vera Sans"
  xpos 365
  ypos 1125
 }
 Dot {
  name Dot3
  note_font "Bitstream Vera Sans"
  xpos 399
  ypos 1183
 }
 Input {
  inputs 0
  name InputRGB
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -531
 }
set N94c8770 [stack 0]
 AddChannels {
  channels alpha
  name AddChannels1
  note_font "Bitstream Vera Sans"
  xpos 348
  ypos 949
 }
 Dot {
  name Dot2
  note_font "Bitstream Vera Sans"
  xpos 382
  ypos 1078
 }
push $N94954e0
 FilterErode {
  channels alpha
  size {{invertMatte==0?erodeMatte.w:-erodeMatte.w i} {invertMatte==0?erodeMatte.h:-erodeMatte.h i}}
  name FilterErode1
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -621
 }
 Invert {
  channels alpha
  mix {{invertMatte i}}
  name Invert2
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -563
 }
 Grade {
  channels alpha
  blackpoint {{"clamp(expandMatte, 0, 1)" i}}
  whitepoint {{"clamp(1+expandMatte, 0, 1)" i}}
  white_clamp true
  name Grade1
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -505
 }
 Grade {
  channels alpha
  whitepoint 0.5
  black_clamp false
  white_clamp true
  name Grade6
  note_font "Bitstream Vera Sans"
  xpos 803
  ypos -345
 }
 Dot {
  name Dot1
  note_font "Bitstream Vera Sans"
  xpos 837
  ypos -287
 }
set N950b590 [stack 0]
push $N94c8770
 AddChannels {
  channels alpha
  name AddChannels3
  note_font "Bitstream Vera Sans"
  xpos 1120
  ypos -444
 }
push $N94c8770
 Shuffle {
  alpha white
  name Shuffle1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -458
 }
 Crop {
  box {{InputRGB.bbox.x i x1001 542} {InputRGB.bbox.y i} {InputRGB.bbox.r i} {InputRGB.bbox.t i}}
  name Crop3
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -414
 }
 Switch {
  inputs 2
  which {{rgbIsPremult i}}
  name Switch1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -370
 }
 Dot {
  name Dot5
  note_font "Bitstream Vera Sans"
  xpos 1047
  ypos -326
 }
set N95336c0 [stack 0]
 Merge2 {
  inputs 2
  operation stencil
  bbox intersection
  name Merge1
  note_font "Bitstream Vera Sans"
  xpos 1013
  ypos -292
 }
push $N950b590
 Dot {
  name Dot4
  note_font "Bitstream Vera Sans"
  xpos 837
  ypos -253
 }
push $N95336c0
 Dot {
  name Dot6
  note_font "Bitstream Vera Sans"
  xpos 946
  ypos -326
 }
 Merge2 {
  inputs 2
  operation stencil
  bbox B
  name Merge3
  note_font "Bitstream Vera Sans"
  xpos 912
  ypos -258
 }
 Dot {
  name Dot7
  note_font "Bitstream Vera Sans"
  xpos 946
  ypos -192
 }
 Switch {
  inputs 2
  which {{invertMatte i}}
  name Switch2
  note_font "Bitstream Vera Sans"
  xpos 1002
  ypos -196
 }
set N95605b0 [stack 0]
push $N95605b0
 Blur {
  channels rgba
  size 0.1
  name Blur1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos -26
 }
 Unpremult {
  name Unpremult2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 18
 }
 Expression {
  expr3 a==0?0:1
  name Expression1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 62
 }
 FilterErode {
  channels alpha
  size 0.05
  filter gaussian
  name FilterErode2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 106
 }
 Premult {
  name Premult1
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 164
 }
 Blur {
  channels rgba
  size 0.39
  name BlurCenter
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 222
 }
 Merge2 {
  inputs 2
  name Merge2
  note_font "Bitstream Vera Sans"
  xpos 1336
  ypos 280
 }
push $N95605b0
 Blur {
  channels rgba
  size 0.8
  name Blur2
 }
 Unpremult {
  name Unpremult3
 }
 Expression {
  expr3 a==0?0:1
  name Expression2
 }
 FilterErode {
  channels alpha
  size 0.4
  filter gaussian
  name FilterErode3
 }
 Premult {
  name Premult2
 }
 Blur {
  channels rgba
  size 3.12
  name Blur3
 }
 Merge2 {
  inputs 2
  name Merge5
 }
push $N95605b0
 Blur {
  channels rgba
  size 2.7
  name Blur4
 }
 Unpremult {
  name Unpremult4
 }
 Expression {
  expr3 a==0?0:1
  name Expression3
 }
 FilterErode {
  channels alpha
  size 1.35
  filter gaussian
  name FilterErode4
 }
 Premult {
  name Premult3
 }
 Blur {
  channels rgba
  size 10.53
  name Blur5
 }
 Merge2 {
  inputs 2
  name Merge6
 }
push $N95605b0
 Blur {
  channels rgba
  size 6.4
  name Blur6
 }
 Unpremult {
  name Unpremult5
 }
 Expression {
  expr3 a==0?0:1
  name Expression4
 }
 FilterErode {
  channels alpha
  size 3.2
  filter gaussian
  name FilterErode5
 }
 Premult {
  name Premult4
 }
 Blur {
  channels rgba
  size 24.96
  name Blur7
 }
 Merge2 {
  inputs 2
  name Merge7
 }
push $N95605b0
 Blur {
  channels rgba
  size 12.5
  name Blur8
 }
 Unpremult {
  name Unpremult6
 }
 Expression {
  expr3 a==0?0:1
  name Expression5
 }
 FilterErode {
  channels alpha
  size 6.25
  filter gaussian
  name FilterErode6
 }
 Premult {
  name Premult5
 }
 Blur {
  channels rgba
  size 48.75
  name Blur9
 }
 Merge2 {
  inputs 2
  name Merge8
 }
push $N95605b0
 Blur {
  channels rgba
  size 21.6
  name Blur10
 }
 Unpremult {
  name Unpremult7
 }
 Expression {
  expr3 a==0?0:1
  name Expression6
 }
 FilterErode {
  channels alpha
  size 10.8
  filter gaussian
  name FilterErode7
 }
 Premult {
  name Premult6
 }
 Blur {
  channels rgba
  size 84.24
  name Blur11
 }
 Merge2 {
  inputs 2
  name Merge9
 }
push $N95605b0
 Blur {
  channels rgba
  size 34.3
  name Blur12
 }
 Unpremult {
  name Unpremult8
 }
 Expression {
  expr3 a==0?0:1
  name Expression7
 }
 FilterErode {
  channels alpha
  size 17.15
  filter gaussian
  name FilterErode8
 }
 Premult {
  name Premult7
 }
 Blur {
  channels rgba
  size 133.77
  name Blur13
 }
 Merge2 {
  inputs 2
  name Merge10
 }
push $N95605b0
 Blur {
  channels rgba
  size 51.2
  name Blur14
 }
 Unpremult {
  name Unpremult9
 }
 Expression {
  expr3 a==0?0:1
  name Expression9
 }
 FilterErode {
  channels alpha
  size 25.6
  filter gaussian
  name FilterErode9
 }
 Premult {
  name Premult8
 }
 Blur {
  channels rgba
  size 199.68
  name Blur15
 }
 Merge2 {
  inputs 2
  name Merge11
 }
push $N95605b0
 Blur {
  channels rgba
  size 72.9
  name Blur16
 }
 Unpremult {
  name Unpremult10
 }
 Expression {
  expr3 a==0?0:1
  name Expression10
 }
 FilterErode {
  channels alpha
  size 36.45
  filter gaussian
  name FilterErode10
 }
 Premult {
  name Premult9
 }
 Blur {
  channels rgba
  size 284.31
  name Blur17
 }
 Merge2 {
  inputs 2
  name Merge12
 }
push $N95605b0
 Blur {
  channels rgba
  size 100
  name Blur18
 }
 Unpremult {
  name Unpremult11
 }
 Expression {
  expr3 a==0?0:1
  name Expression11
 }
 FilterErode {
  channels alpha
  size 50
  filter gaussian
  name FilterErode11
 }
 Premult {
  name Premult10
 }
 Blur {
  channels rgba
  size 390
  name Blur19
 }
 Merge2 {
  inputs 2
  name Merge13
 }
 Unpremult {
  name Unpremult1
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 966
 }
 Dot {
  name Dot11
  xpos 258
  ypos 1020
 }
set N983da10 [stack 0]
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==0?1:0 i}}
  name Copy2
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1068
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==1?1:0}}
  name Copy1
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1173
 }
 Dot {
  name Dot8
  xpos 258
  ypos 1227
 }
set N9836670 [stack 0]
 Dot {
  name Dot9
  xpos 453
  ypos 1227
 }
 Expression {
  expr3 a<=0.000001?0:1
  name Expression12
  note_font "Bitstream Vera Sans"
  xpos 419
  ypos 1261
 }
 Dot {
  name Dot10
  xpos 453
  ypos 1303
 }
push $N983da10
 Dot {
  name Dot13
  xpos 521
  ypos 1020
 }
 Dot {
  name Dot12
  xpos 521
  ypos 1205
 }
push $N94c8770
 Merge2 {
  inputs 2
  operation difference
  bbox B
  name Merge14
  xpos 563
  ypos 1201
 }
 Keyer {
  operation "luminance key"
  range {0 1e-05 1 1}
  name Keyer1
  xpos 563
  ypos 1243
 }
 Merge2 {
  inputs 2
  operation mask
  bbox B
  name Merge15
  xpos 563
  ypos 1299
 }
 Dot {
  name Dot14
  xpos 597
  ypos 1341
 }
push $N9836670
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  mix {{matteOutput==4?1:0 i}}
  name Copy3
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1331
 }
set N9875470 [stack 0]
 Expression {
  expr3 a<=0.000001?0:1
  mix {{matteOutput==3?1:0}}
  name Expression8
  note_font "Bitstream Vera Sans"
  xpos 224
  ypos 1418
 }
push $N94c8770
 Merge2 {
  inputs 2
  operation copy
  bbox B
  name Merge4
  xpos 932
  ypos 1418
 }
 Output {
  name Output1
  note_font "Bitstream Vera Sans"
  xpos 932
  ypos 1579
 }
push $N94c8770
push $N9875470
 Viewer {
  inputs 2
  input_process false
  name Viewer1
  xpos 336
  ypos 1225
 }
end_group
Blur {
 channels rgba
 size 9.2
 name Blur4
 xpos -11223
 ypos 12370
}
Dot {
 name Dot529
 xpos -11197
 ypos 12408
}
set N98f4f30 [stack 0]
Dot {
 name Dot530
 xpos -11339
 ypos 12408
}
Merge2 {
 inputs 2
 operation divide
 bbox B
 name Merge36
 xpos -11370
 ypos 12496
}
Merge2 {
 inputs 2
 operation multiply
 name Multiply2
 xpos -11370
 ypos 12557
}
Dot {
 name Dot531
 xpos -11339
 ypos 12671
}
Dot {
 name Dot532
 label "simple\ncleanscreen"
 xpos -11280
 ypos 12671
}
StickyNote {
 inputs 0
 name StickyNote117
 label "green difference"
 xpos -9528
 ypos 18036
}
StickyNote {
 inputs 0
 name StickyNote118
 label "blue difference"
 xpos -9266
 ypos 18034
}
push $N9309c40
Group {
 name L_Despill_v14
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -11691
 ypos 12804
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 ScreenColor Blue
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1.3
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set N993dbc0 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set N99462f0 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set N9952c60 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set N9956f20 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set N995f590 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $N9952c60
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $N993dbc0
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set N99ae600 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set N99bdaa0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $N99bdaa0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $N99bdaa0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $N99bdaa0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $N99bdaa0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set N9a06a50 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set N9a0ae50 [stack 0]
push $N99ae600
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set N9a1bb50 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $N9a1bb50
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $N9a1bb50
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $N9a1bb50
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $N9a1bb50
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set N9a64e60 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set N9a69160 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $N9a0ae50
push $N9a69160
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set N9aa1780 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set N9aa59f0 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $N9aa59f0
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set N9abe6a0 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $N9abe6a0
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $N9abe6a0
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $N9abe6a0
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $N9aa59f0
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set N9b2d420 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $N9b2d420
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $N9b2d420
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $N9b2d420
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set N9b9c150 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set N9ba3aa0 [stack 0]
push $N9ba3aa0
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $N9aa59f0
push $N9b9c150
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set N9bd34a0 [stack 0]
push $N9aa1780
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $N9aa59f0
push $N9bd34a0
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set N9c30ea0 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set N9c3e370 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set N9c42630 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $N9c42630
push $N9956f20
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $N9c3e370
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set N9c70ff0 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set N9c82600 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set N9c86cc0 [stack 0]
push $N9c86cc0
push $N9c30ea0
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set N9c86930 [stack 0]
push $N9c86930
push $N9a06a50
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $N9a64e60
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black 0.0005
  white 0.98
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $N9c70ff0
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set N9d2fa10 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $N9c82600
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $N995f590
push $N9d2fa10
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $N99462f0
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $N995f590
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
push $N98f4f30
Dot {
 name Dot533
 xpos -11197
 ypos 12540
}
set N9dadf70 [stack 0]
push $N9dadf70
push $N92f9f00
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 cleanplate
 name ShuffleCopy6
 xpos -10745
 ypos 12539
}
Dot {
 name Dot534
 xpos -10714
 ypos 12617
}
set N9dbe870 [stack 0]
Group {
 inputs 2
 name PxF_ScreenClean6
 xpos -11228
 ypos 12616
 addUserKnob {20 User}
 addUserKnob {4 screen_type l ScreenType t "Select the color of\nthe screen you wish\nto clean." M {Red Green Blue "" ""}}
 screen_type Green
 addUserKnob {18 screen_color l ScreenColor}
 screen_color {0.02971651219 0.2766803801 0.02091316506}
 addUserKnob {6 screen_color_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 screen_color_panelDropped true
 addUserKnob {26 ""}
 addUserKnob {26 t l "" t "PxF_ScreenClean.\nInput 1 = Plate.\nInput 2 = Clean Plate.\nUse ScreenClean to erase\nimperfections in a green/blue/red\nscreen using a clean plate." -STARTLINE T "PxF_ScreenClean 2.0.2 - (c) 2012 - Xavier Bourque - www.pixelfudger.com"}
}
 Input {
  inputs 0
  name mask
  xpos 419
  ypos 274
  number 2
 }
 Input {
  inputs 0
  name plate
  xpos 203
  ypos -448
 }
 Dot {
  name Dot1
  xpos 209
  ypos -347
 }
set N9dd3410 [stack 0]
 Dot {
  name Dot2
  xpos -64
  ypos -202
 }
 Dot {
  name Dot3
  xpos -57
  ypos 214
 }
set N9ddba00 [stack 0]
push $N9ddba00
push $N9dd3410
 Shuffle {
  red blue
  green blue
  alpha black
  name Blue
  xpos 203
  ypos -187
 }
set N9ddfd80 [stack 0]
push $N9dd3410
 Shuffle {
  red green
  blue green
  alpha black
  name Green
  xpos 112
  ypos -179
 }
set N9ded280 [stack 0]
push $N9dd3410
 Shuffle {
  green red
  blue red
  alpha black
  name Red
  xpos 17
  ypos -180
 }
set N9dfa790 [stack 0]
 Switch {
  inputs 3
  which {{screen_type i x1 0}}
  name High
  xpos 17
  ypos -101
 }
push $N9ded280
push $N9dfa790
 Switch {
  inputs 2
  which {{"screen_type == 0 ? 1 : screen_type == 1 ? 0 : 0" i x1 0}}
  name LowA
  xpos 148
  ypos -110
 }
push $N9ddfd80
push $N9ded280
push 0
 Switch {
  inputs 3
  which {{"screen_type == 0 ? 2 : screen_type == 1 ? 2 : 1" i x1 1}}
  name LowB
  xpos 261
  ypos -106
 }
 Merge2 {
  inputs 2
  operation max
  name Merge1
  xpos 218
  ypos -57
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge2
  selected true
  xpos 118
  ypos -20
 }
 Input {
  inputs 0
  name clean_plate
  xpos 462
  ypos -437
  number 1
 }
 Dot {
  name Dot4
  xpos 530
  ypos -235
 }
set N9e3a7e0 [stack 0]
 Shuffle {
  red blue
  green blue
  alpha black
  name Blue1
  xpos 570
  ypos -194
 }
set N9e3eaa0 [stack 0]
push $N9e3a7e0
 Shuffle {
  red green
  blue green
  alpha black
  name Green1
  xpos 481
  ypos -195
 }
set N9e4c020 [stack 0]
push $N9e3a7e0
 Shuffle {
  green red
  blue red
  alpha black
  name Red1
  xpos 382
  ypos -194
 }
set N9e59510 [stack 0]
 Switch {
  inputs 3
  which {{screen_type i x1 0}}
  name High1
  xpos 400
  ypos -131
 }
push $N9e4c020
push $N9e59510
 Switch {
  inputs 2
  which {{"screen_type == 0 ? 1 : screen_type == 1 ? 0 : 0" i}}
  name LowA1
  xpos 498
  ypos -131
 }
push $N9e3eaa0
push $N9e4c020
push 0
 Switch {
  inputs 3
  which {{"screen_type == 0 ? 2 : screen_type == 1 ? 2 : 1" i}}
  name LowB1
  xpos 592
  ypos -128
 }
 Merge2 {
  inputs 2
  operation max
  name Merge3
  xpos 532
  ypos -73
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge4
  xpos 417
  ypos -16
 }
 Merge2 {
  inputs 2
  operation divide
  name Merge5
  xpos 309
  ypos 91
 }
 Clamp {
  name Clamp1
  xpos 309
  ypos 114
 }
push $N9e3a7e0
 Dot {
  name Dot5
  xpos 720
  ypos -198
 }
push $N9dd3410
 Dot {
  name Dot7
  xpos 845
  ypos -231
 }
 ColorCorrect {
  gain 0
  offset {{screen_color.r i} {screen_color.g i} {screen_color.b i} {1 i}}
  name ColorCorrect1
  xpos 811
  ypos -159
  postage_stamp true
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge6
  xpos 686
  ypos -25
 }
 Dot {
  name Dot6
  xpos 688
  ypos 165
 }
 Merge2 {
  inputs 2
  operation multiply
  name Merge7
  xpos 309
  ypos 168
 }
 Merge2 {
  inputs 2
  operation minus
  name Merge8
  xpos 309
  ypos 210
 }
 Keymix {
  inputs 3
  invertMask true
  bbox B
  name Keymix1
  xpos 309
  ypos 299
  disable {{"\[exists parent.input2] ? 0 : 1" i x1 0}}
 }
 Output {
  name Output1
  xpos 309
  ypos 348
 }
end_group
Dot {
 name Dot535
 xpos -11197
 ypos 12671
}
push $N9dbe870
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 cleanscreen
 name ShuffleCopy7
 xpos -10745
 ypos 12670
}
ShuffleCopy {
 inputs 2
 alpha alpha2
 black red
 white green
 red2 blue
 out2 despill
 name ShuffleCopy8
 xpos -10741
 ypos 12804
}
Dot {
 name Dot536
 xpos -10710
 ypos 12837
}
set N9f261b0 [stack 0]
Dot {
 name Dot537
 xpos -10693
 ypos 13853
}
set N9f2a470 [stack 0]
Dot {
 name Dot538
 xpos -10693
 ypos 15260
}
set N9f25090 [stack 0]
Dot {
 name Dot539
 xpos -10693
 ypos 16061
}
set N9f32b10 [stack 0]
Dot {
 name Dot540
 xpos -10693
 ypos 16859
}
set N9f36e40 [stack 0]
Dot {
 name Dot541
 xpos -10693
 ypos 17833
}
set N9f3b160 [stack 0]
Dot {
 name Dot542
 xpos -10693
 ypos 19127
}
set N9f3f480 [stack 0]
Dot {
 name Dot543
 xpos -10693
 ypos 20046
}
set N9f319a0 [stack 0]
Dot {
 name Dot544
 xpos -10693
 ypos 21503
}
set N9f47af0 [stack 0]
Dot {
 name Dot545
 xpos -9793
 ypos 21503
}
Dot {
 name Dot546
 xpos -9793
 ypos 21715
}
set N9f46950 [stack 0]
Shuffle {
 in cleanscreen
 name Shuffle13
 label "\[value in]"
 xpos -9833
 ypos 21753
}
Dot {
 name Dot547
 xpos -9793
 ypos 21800
}
set N9f61a40 [stack 0]
Dot {
 name Dot548
 xpos -9922
 ypos 21800
}
Shuffle {
 in despill
 name Shuffle24
 label "\[value in]"
 xpos -9953
 ypos 22042
}
Dot {
 name Dot549
 xpos -9922
 ypos 22137
}
push $N9f61a40
Dot {
 name Dot553
 xpos -9692
 ypos 21800
}
Dot {
 name Dot550
 xpos -9613
 ypos 21849
}
set N9f763b0 [stack 0]
Dot {
 name Dot551
 xpos -9723
 ypos 21849
}
set N9f83f10 [stack 0]
Dot {
 name Dot552
 xpos -9752
 ypos 21878
}
push $N9f83f10
Dot {
 name Dot633
 xpos -9699
 ypos 21877
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.green}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max2
 xpos -9754
 ypos 21915
}
push $N9f763b0
ChannelMerge {
 inputs 2
 operation minus
 B rgba.blue
 name ChannelMerge4
 xpos -9644
 ypos 21909
}
Grade {
 channels alpha
 blackpoint -3
 name Grade24
 xpos -9686
 ypos 22039
}
Group {
 inputs 2
 name InverseOKeyer1
 label "\n"
 xpos -9693
 ypos 22136
 addUserKnob {20 InverseOverKeyer l "Inverse Over Keyer"}
 addUserKnob {26 textArea l "1) select screen  "}
 addUserKnob {41 cropScreen l "crop screen" T MASTER.cropScreen}
 addUserKnob {41 frameHold l "frame hold" T MASTER.frameHold}
 addUserKnob {22 pySetFrame l " set this frame " -STARTLINE T "f=nuke.frame()\ng=nuke.thisNode()\ng.knob('frameHold').setValue(f)"}
 addUserKnob {26 text02 l "2) match bars setup   "}
 addUserKnob {41 setupMode l "setup mode" T MASTER.setupMode}
 addUserKnob {41 KeyDensity l "key density" T MASTER.KeyDensity}
 addUserKnob {26 ""}
 addUserKnob {26 test02 l fixMatteBlacks: T " "}
 addUserKnob {41 fixMatteBlacks l "" -STARTLINE T MASTER.fixMatteBlacks}
 addUserKnob {26 ""}
 addUserKnob {41 maskChannel l mask T Keymix2.maskChannel}
 addUserKnob {41 invertMask l invert -STARTLINE T Keymix2.invertMask}
 addUserKnob {41 mix T MASTER.mix}
 addUserKnob {20 Info}
 addUserKnob {26 title l +++ T " OPEN NUKE GITHUB TOOLSET +++"}
 addUserKnob {22 documentation l " Documentation / Feedback " T "import webbrowser\nwebbrowser.open(\"http://opennuke.github.io/inverse0ver_nk/\")" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {26 version l version: T "0.1 Stable"}
 addUserKnob {26 created l created: T "24/06/14 by <a href=\\'http://movingimagearts.com'> Rafal Kaniewski</a>"}
 addUserKnob {26 modified l "modified: " T " "}
 addUserKnob {26 source l source: T "<a href='https://github.com/vfxwiki/Inverse0ver.nk'> github.com/vfxwiki/Inverse0ver.nk</a>"}
 addUserKnob {26 licence l licence: T "<a href=\"https://github.com/openNuke/toolset/blob/master/LICENCE\">READ ME</a>"}
}
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x71c67100
  label key
  note_font_size 42
  xpos -508
  ypos -804
  bdwidth 2948
  bdheight 2860
 }
 Input {
  inputs 0
  name key
  xpos 675
  ypos -928
 }
 Clamp {
  channels rgba
  minimum {{MASTER.fixInfNans}}
  name Clamp5
  xpos 675
  ypos -667
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle10
  xpos 675
  ypos -641
 }
 Grade {
  channels rgba
  blackpoint {0.08146618307 0.08146618307 0.08146618307 0.08146618307}
  whitepoint {0.9875434637 0.9875434637 0.9875434637 0.9875434637}
  gamma 1.02
  white_clamp true
  name Grade1
  xpos 654
  ypos -537
  disable true
 }
 Dot {
  name Dot22
  xpos 703
  ypos -433
 }
 Dot {
  name Dot44
  xpos 703
  ypos -238
 }
set N9ff60a0 [stack 0]
 Dot {
  name Dot16
  xpos 703
  ypos -26
 }
 Dot {
  name Dot4
  xpos 676
  ypos -26
 }
set N9ffe6f0 [stack 0]
 Dot {
  name Dot3
  xpos 566
  ypos -26
 }
set Na002a40 [stack 0]
 FrameHold {
  first_frame {{MASTER.frameHold}}
  name FrameHold3
  xpos 532
  ypos 52
 }
 Crop {
  box {{parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen}}
  name Crop7
  xpos 532
  ypos 113
 }
 Blur {
  channels rgba
  size 100
  filter box
  quality 25
  name Blur4
  xpos 563
  ypos 167
 }
 Crop {
  box {{parent.Crop7.box.x+((parent.Crop7.box.r-parent.Crop7.box.x)*0.5) x1012 -27} {int(parent.Crop7.box.y+((parent.Crop7.box.t-parent.Crop7.box.y)*0.5))} {int(parent.Crop7.box.x+((parent.Crop7.box.r-parent.Crop7.box.x)*0.5)+1)} {int(int(parent.Crop7.box.y+((parent.Crop7.box.t-parent.Crop7.box.y)*0.5)+1))}}
  reformat true
  crop false
  name Crop8
  xpos 532
  ypos 218
 }
 Input {
  inputs 0
  name despill
  xpos 1340
  ypos -938
  number 1
 }
 Shuffle {
  alpha black
  name Shuffle2
  label "\[value in]-->\[value out]"
  xpos 1340
  ypos -684
 }
 Dot {
  name Dot31
  xpos 1364
  ypos -498
 }
 Dot {
  name Dot1
  xpos 1364
  ypos -100
 }
set Na040080 [stack 0]
 Dot {
  name Dot10
  xpos 1252
  ypos -100
 }
set Na0443f0 [stack 0]
 Dot {
  name Dot14
  xpos 1129
  ypos -100
 }
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle7
  label "\[value in]-->\[value out]"
  xpos 1095
  ypos 273
 }
set Na04ca30 [stack 0]
 Merge2 {
  inputs 2
  bbox B
  name Merge10
  xpos 532
  ypos 279
 }
set Na059fb0 [stack 0]
push $Na059fb0
push $N9ffe6f0
 Merge2 {
  inputs 2
  operation min
  name Min2
  xpos 642
  ypos 325
 }
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 532
  ypos 407
 }
push $Na002a40
 Dot {
  name Dot2
  xpos 464
  ypos -26
 }
 Merge2 {
  inputs 2
  operation multiply
  name Merge9
  xpos 430
  ypos 452
  disable {{!MASTER.fixMatteBlacks x1029 1}}
 }
 Grade {
  channels rgba
  black {{-MASTER.minimum}}
  black_clamp false
  name Grade3
  xpos 430
  ypos 548
 }
set Na0931e0 [stack 0]
 Grade {
  channels alpha
  gamma {{parent.MASTER.KeyDensity x1002 1.26 x1027 0.99}}
  black_clamp false
  name GradeDensity
  xpos 427
  ypos 625
 }
set Na0a26d0 [stack 0]
 Grade {
  channels rgba
  black {{-MASTER.minimum}}
  black_clamp false
  name Grade2
  xpos 430
  ypos 699
  disable true
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle9
  xpos 430
  ypos 725
 }
 Clamp {
  name Clamp3
  xpos 428
  ypos 748
  disable true
 }
set Na0ce650 [stack 0]
 Dot {
  name Dot9
  xpos 952
  ypos 755
 }
 Dot {
  name Dot12
  xpos 1090
  ypos 755
 }
push $Na0443f0
 FrameHold {
  first_frame {{FrameHold.first_frame}}
  name FrameHold2
  xpos 1218
  ypos 452
 }
 Crop {
  box {{parent.Crop1.box} {parent.Crop1.box} {parent.Crop1.box} {parent.Crop1.box}}
  reformat true
  crop false
  name Crop2
  xpos 1218
  ypos 500
 }
 Blur {
  channels rgba
  size 100
  filter box
  name Blur1
  xpos 1218
  ypos 568
 }
 Crop {
  box {{int(width/2)} {int(height/2)} {int(width/2)+1} {int(height/2)+1}}
  reformat true
  crop false
  name Crop6
  xpos 1218
  ypos 622
 }
push $Na040080
 Dot {
  name Dot20
  xpos 1364
  ypos 417
 }
set Na106ff0 [stack 0]
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle6
  label "\[value in]-->\[value out]"
  xpos 1328
  ypos 537
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge3
  xpos 1328
  ypos 622
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  from1 -rgba.alpha
  to1 -rgba.blue
  name Copy1
  xpos 1328
  ypos 746
 }
set Na125ea0 [stack 0]
 Dot {
  name Dot21
  xpos 1544
  ypos 755
 }
 Input {
  inputs 0
  name mask
  xpos -154
  ypos -747
  number 2
 }
 Clamp {
  name Clamp7
  xpos -154
  ypos -721
 }
 Invert {
  name Invert3
  xpos -154
  ypos -683
 }
 Dot {
  name Dot15
  xpos -120
  ypos 1892
 }
push $N9ff60a0
 Dot {
  name Dot6
  xpos 330
  ypos -238
 }
 Dot {
  name Dot13
  xpos 330
  ypos 1296
 }
set Na158a90 [stack 0]
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle12
  xpos 74
  ypos 1600
 }
 Grid {
  number {6 0}
  size {{width/2/number}}
  color {0.5 0.5 0.5 1}
  name Grid1
  xpos 74
  ypos 1659
 }
push $Na0931e0
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle15
  label "\[value in]-->\[value out]"
  xpos 184
  ypos 1530
 }
 Add {
  value 0.5
  name Add1
  xpos 184
  ypos 1587
 }
 Clamp {
  minimum 0.5
  MinClampTo {1 0 0 0}
  MinClampTo_enable true
  name Clamp2
  xpos 214
  ypos 1661
 }
 Merge2 {
  inputs 2
  name Merge11
  label "blacks match"
  xpos 194
  ypos 1760
 }
 Shuffle {
  alpha black
  name Shuffle16
  xpos 328
  ypos 1745
 }
push $Na158a90
 Shuffle {
  red black
  green black
  blue black
  alpha black
  name Shuffle1
  xpos 296
  ypos 1546
 }
 Grid {
  number {6 0}
  size {{width/2/number}}
  color {0.5 {color.r} {color.r} 1}
  name Grid2
  xpos 296
  ypos 1611
 }
 Grade {
  channels rgba
  black {{MASTER.minimum}}
  black_clamp false
  name Grade4
  xpos 440
  ypos 1588
  disable true
 }
 Add {
  value -0.5
  name Add3
  xpos 641
  ypos 1644
  disable true
 }
push $Na0a26d0
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle14
  xpos 574
  ypos 644
 }
 Dot {
  name Dot11
  xpos 858
  ypos 652
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle13
  label "\[value in]-->\[value out]"
  xpos 850
  ypos 1465
 }
 Add {
  value {{parent.Add3.value}}
  name Add2
  xpos 850
  ypos 1524
  disable true
 }
 Merge2 {
  inputs 2
  name Merge1
  label "Density match"
  xpos 850
  ypos 1622
 }
 Shuffle {
  green red
  blue red
  alpha black
  name Shuffle3
  xpos 990
  ypos 1598
 }
push $Na106ff0
 Dot {
  name Dot19
  xpos 1495
  ypos 417
 }
 Dot {
  name Dot18
  xpos 1495
  ypos 1206
 }
push $Na0ce650
 FrameHold {
  first_frame {{MASTER.frameHold}}
  name FrameHold
  xpos 428
  ypos 804
 }
 Crop {
  box {{parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen} {parent.MASTER.cropScreen}}
  name Crop1
  xpos 428
  ypos 855
 }
 Blur {
  channels rgba
  size 100
  filter box
  quality 25
  name Blur3
  xpos 428
  ypos 897
 }
 Crop {
  box {{parent.Crop1.box.x+((parent.Crop1.box.r-parent.Crop1.box.x)*0.5) x1012 -27} {int(parent.Crop1.box.y+((parent.Crop1.box.t-parent.Crop1.box.y)*0.5))} {int(parent.Crop1.box.x+((parent.Crop1.box.r-parent.Crop1.box.x)*0.5)+1)} {int(int(parent.Crop1.box.y+((parent.Crop1.box.t-parent.Crop1.box.y)*0.5)+1))}}
  reformat true
  crop false
  name Crop3
  xpos 428
  ypos 938
 }
 Dot {
  name Dot17
  xpos 462
  ypos 1087
 }
push $Na04ca30
 Merge2 {
  inputs 2
  bbox B
  name Merge4
  xpos 1095
  ypos 1094
 }
push $Na125ea0
 Shuffle {
  out inverseOver
  name Shuffle5
  label "\[value in]-->\[value out]"
  xpos 1328
  ypos 1040
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 inverseOver.alpha
  name Copy3
  xpos 1328
  ypos 1088
 }
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  name Copy2
  xpos 1328
  ypos 1185
 }
 Multiply {
  channels {-inverseOver.red -inverseOver.green -inverseOver.blue inverseOver.alpha}
  value {{MASTER.mix}}
  name Multiply1
  xpos 1333
  ypos 1443
 }
 Multiply {
  channels alpha
  value {{MASTER.mix}}
  name Multiply2
  xpos 1333
  ypos 1479
 }
 Switch {
  inputs 3
  which {{MASTER.setupMode x1021 0}}
  name Switch1
  xpos 1328
  ypos 1598
 }
set Na2a3120 [stack 0]
 Shuffle {
  in inverseOver
  name Shuffle11
  label "\[value in]-->\[value out]"
  xpos 1194
  ypos 1771
 }
 Dot {
  name Dot7
  xpos 1242
  ypos 1847
 }
push $Na2a3120
 Keymix {
  inputs 3
  channels rgba
  maskChannel -rgba.alpha
  name Keymix2
  xpos 1328
  ypos 1891
  disable {{maskChannel?none:1 x1013 1}}
 }
set Na2bb650 [stack 0]
 Output {
  name Output2
  xpos 1328
  ypos 2156
 }
 NoOp {
  inputs 0
  name MASTER
  xpos 1752
  ypos 1608
  addUserKnob {20 User}
  addUserKnob {26 ""}
  addUserKnob {15 cropScreen l "crop screen"}
  cropScreen {998.5 868.5 1183.5 997.5}
  addUserKnob {3 frameHold l "frame hold"}
  frameHold 1109
  addUserKnob {26 ""}
  addUserKnob {4 setupMode l "setup mode" M {off "key density" minimum "" ""}}
  addUserKnob {7 KeyDensity l "key density" R 0.01 4}
  KeyDensity 1.8
  addUserKnob {7 minimum R 0 2}
  addUserKnob {26 ""}
  addUserKnob {26 test02 l fixMatteBlacks: T " "}
  addUserKnob {6 fixMatteBlacks l "" -STARTLINE}
  addUserKnob {7 fixInfNans R 0 0.01}
  addUserKnob {26 ""}
  addUserKnob {7 mix}
  mix 1
 }
push $Na2bb650
 Viewer {
  viewerProcess rec709
  input_process false
  name Viewer1
  selected true
  xpos 27
  ypos 1051
 }
end_group
set N9fb7af0 [stack 0]
Premult {
 name Premult17
 xpos -9693
 ypos 22194
}
push $N9fb7af0
push $N9f46950
Shuffle {
 in bg
 name Shuffle25
 label "\[value in]"
 xpos -9563
 ypos 21708
}
Dot {
 name Dot634
 xpos -9532
 ypos 22017
}
Group {
 inputs 2
 name InverseOver1
 xpos -9563
 ypos 22136
 addUserKnob {20 inverseOver l "Inverse Over"}
 addUserKnob {41 in l "invOver input channel" T Shuffle1.in}
 addUserKnob {20 Info}
 addUserKnob {26 credit l "" +STARTLINE +INVISIBLE T "The idea of using this for keying and the name goes to Thomas Dyn (credit retained in node please)\n\nAlthough since discovering this technique someone else have also shown me this same technique from thier toolbox used in shake(pre-nuke) - they called it the 'holy matte' trick."}
 addUserKnob {26 title l +++ T " OPEN NUKE GITHUB TOOLSET +++"}
 addUserKnob {22 documentation l " Documentation / Feedback " T "import webbrowser\nwebbrowser.open(\"http://opennuke.github.io/inverse0ver_nk/\")" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {26 version l version: T "0.1 Stable"}
 addUserKnob {26 created l created: T "24/06/14 by <a href=\\'http://movingimagearts.com'> Rafal Kaniewski</a>"}
 addUserKnob {26 modified l "modified: " T " "}
 addUserKnob {26 source l source: T "<a href='https://github.com/vfxwiki/Inverse0ver.nk'> github.com/vfxwiki/Inverse0ver.nk</a>"}
 addUserKnob {26 licence l licence: T "<a href=\"https://github.com/openNuke/toolset/blob/master/LICENCE\">READ ME</a>"}
}
 Input {
  inputs 0
  name InvOver
  xpos 262
  ypos -144
  number 1
 }
 Shuffle {
  in inverseOver
  name Shuffle1
  label "\[value in]-->\[value out]"
  xpos 262
  ypos -11
 }
 Premult {
  name Premult1
  xpos 262
  ypos 68
 }
set Na31df30 [stack 0]
 Invert {
  name Invert1
  xpos 262
  ypos 99
 }
set Na324b10 [stack 0]
 Shuffle {
  red white
  green white
  blue white
  alpha white
  name Shuffle2
  label "\[value in]-->\[value out]"
  xpos 152
  ypos 99
 }
 Dot {
  name Dot1
  selected true
  xpos 186
  ypos 199
 }
push $Na324b10
 Merge2 {
  inputs 2
  operation divide
  name Merge1
  xpos 255
  ypos 196
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle3
  label "\[value in]-->\[value out]"
  xpos 255
  ypos 323
 }
 Input {
  inputs 0
  name bg
  xpos 386
  ypos -131
 }
set Na35aae0 [stack 0]
 Dot {
  name Dot3
  xpos 420
  ypos 186
 }
push $Na31df30
 Dot {
  name Dot2
  xpos 521
  ypos 71
 }
 Merge2 {
  inputs 2
  operation minus
  bbox A
  name Merge2
  xpos 487
  ypos 183
 }
 Dot {
  name Dot5
  xpos 521
  ypos 276
 }
 Dot {
  name Dot6
  xpos 118
  ypos 276
 }
 Dot {
  name Dot7
  xpos 121
  ypos 433
 }
 Merge2 {
  inputs 2
  operation multiply
  bbox B
  name Merge3
  xpos 255
  ypos 430
 }
 Remove {
  channels inverseOver
  name Remove1
  xpos 255
  ypos 487
 }
push $Na35aae0
 Dot {
  name Dot4
  xpos 692
  ypos -72
 }
 Copy {
  inputs 2
  from0 rgba.red
  to0 rgba.red
  from1 rgba.green
  to1 rgba.green
  from2 rgba.blue
  to2 rgba.blue
  channels all
  bbox B
  name Copy1
  xpos 649
  ypos 459
 }
 Output {
  name Output2
  xpos 649
  ypos 752
 }
end_group
Merge2 {
 inputs 2
 name Merge52
 xpos -9563
 ypos 22194
}
set Na3a91f0 [stack 0]
Viewer {
 center_fstop 0
 input_process false
 name Viewer1
 xpos -9366
 ypos 22342
}
StickyNote {
 inputs 0
 name StickyNote119
 label "    PLATE IN   "
 note_font_size 41
 xpos -10836
 ypos 11564
}
StickyNote {
 inputs 0
 name StickyNote120
 label "   BG IN    "
 note_font_size 41
 xpos -11197
 ypos 11831
}
StickyNote {
 inputs 0
 name StickyNote121
 label "<align='left>Primatte (3d Colourspace Keyer)\n\nVery good for either producing a \n1) quick high contrast matte with no fine detail (lots of operation picks)\nor a\n2)  very fine matte of a small selection area (one pick only)\n\n."
 note_font_size 15
 xpos -9365
 ypos 16071
}
StickyNote {
 inputs 0
 name StickyNote122
 label " <align='left>IBKGizmo (Hue Difference Keyer)\n\nOne of the best keyers in nuke for fine detail, it handles a wide range of values well.\n\n1) It often works better with the screen type selected as a colour rather than picked.\n\n2) Use the weights to add fine detail.\n\n3) Use the Luminace match  and auto levels to scale the matte\n\nSometimes this produces too good a matte that harders too far out of the edge, \nso you need to back off on the weighting. Another issue it that it starts to key \nthe grain, using the auto-levels tick-box or degraing are option.\n\n\n\n\n\n\n\n"
 note_font_size 15
 xpos -9224
 ypos 13032
}
StickyNote {
 inputs 0
 name StickyNote123
 label "<<< clean screen here"
 xpos -10642
 ypos 12534
}
StickyNote {
 inputs 0
 name StickyNote129
 label "<<< clean plate here"
 xpos -10638
 ypos 12671
}
StickyNote {
 inputs 0
 name StickyNote130
 label "<<< despill here"
 xpos -10633
 ypos 12803
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_et2_282a_rr_146_sequence/elements/E_compositing_keying_et2_282a_rr_146_denoise_v1/2048x1556/E_compositing_keying_et2_282a_rr_146_denoise_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1162
 origfirst 1017
 origlast 1162
 origset true
 colorspace AlexaV3LogC
 timecode 19:11:28:01
 edge_code "02 19 42 9418 4426 05"
 name Read18
 xpos -11384
 ypos 11195
}
FrameHold {
 first_frame 2162
 name FrameHold35
 xpos -11384
 ypos 11307
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_138_er_170/elements/E_138_er_170_fg_01_case_study_vcaligned_v1/2184x1092/left/E_138_er_170_fg_01_case_study_vcaligned_v1_left.####.dpx
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 proxy /jobs/training/compositing/compositing_keying_jon-s_uap_138_er_170/elements/E_138_er_170_fg_01_case_study_vcaligned_v1/2184x1092/left/E_138_er_170_fg_01_case_study_vcaligned_v1_left.####.dpx
 proxy_format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1009
 last 1229
 origfirst 1009
 origlast 1229
 origset true
 timecode 14:41:25:18
 name E_138_er_170_fg_01_case_study_vcaligned_v1_13
 label N/A
 xpos -11142
 ypos 11204
 addUserKnob {20 Hub}
 addUserKnob {6 approvedVersionsOnly l "Show Approved Only" -STARTLINE}
 addUserKnob {6 sortLayersByDate l "Sort Layers by Date" +STARTLINE}
 addUserKnob {4 user_filter l "Filter by user:" M {"Show all"}}
 addUserKnob {26 ""}
 addUserKnob {4 scene M {Library_elements MPC_for_starters Nuke3dCom Nuke_at_MPC animation bangComms build comp compositing compositing_film_grain_01 compositing_stereo_01 compositing_stereo_02 compositing_training fx lighting lighting_core3 lookdev prep prodTech_01 rnd roto rotoAnim}}
 scene compositing
 addUserKnob {4 shot M {comp_stereo_v4_sequence compositing_MPC_for_starters compositing_advanced_grading_v1_sequence compositing_grain_v1_sequence compositing_keying_jon-s_uap_138_er_170 compositing_keying_uap_112_af_095_sequence compositing_keying_v1_sequence compositing_nuke3d_v1_sequence compositing_stereo_v4_sequence}}
 shot compositing_keying_jon-s_uap_138_er_170
 addUserKnob {4 layer M {E_138_er_170_fg_01_case_study_vcaligned O_138_er_170}}
 addUserKnob {4 layerVersion l version M {1}}
 addUserKnob {4 pass M {N/A}}
 addUserKnob {6 lockPass l "Lock Pass" -STARTLINE}
 addUserKnob {26 views l "views " T "right, left"}
 addUserKnob {26 ""}
 addUserKnob {32 updt l " Check for Updates " -STARTLINE T "python -exec \"import mpc.nuke.hubNuke.hubNukeReadNode as hubNukeReadNode; hubNukeReadNode.refreshNode(nuke.thisNode())\""}
 addUserKnob {4 elementClip l Resolution M {}}
 addUserKnob {4 layerFilter M {}}
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_043_fe_060/elements/E_043_fe_060_bg_training_precomp_v1/2184x1092/right/E_043_fe_060_bg_training_precomp_v1_right.####.exr
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1001
 last 1091
 origfirst 1001
 origlast 1091
 origset true
 name Read19
 xpos -11271
 ypos 11732
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_dks_tbr_2235_sequence/elements/I_tbr2235_bg01_v1/2048x1556/I_tbr2235_bg01_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1001
 last 1074
 origfirst 1001
 origlast 1074
 origset true
 timecode 06:07:42:03
 edge_code "02 19 04 0190 7673 13"
 name Read22
 xpos -11404
 ypos 11739
}
StickyNote {
 inputs 0
 name StickyNote136
 label "<align='left>LUMA SLICE (Luma keyer)\n\nThis method is good for dark motion blur\n or for adding detail to specular in hair\n\n1) luma key the fg that is darker and then brighter than the screen.\n\n2) now use your keyer of choice to key only the rquired  mid-range slice.\n\nA subtle sharpen on the highlights can sometimes help pop the top end through.\n\nSometimes this produces too good a matte that harders too far out of the edge, \nso we need to mult down before overing..\n\n.\n\n"
 note_font_size 15
 xpos -8820
 ypos 14466
}
StickyNote {
 inputs 0
 name StickyNote138
 label "<align='left>KEYLIGHT (Colour Difference Keyer)\n\nOne of nukes best keyers.\n\n1) Pick the Screen Colour and then Alpha Bias to adjust the despill.  Pick \nskin-tone for the Alpha or Despil Bias this will often give good results.\n2) Alpha Bias can also reduce unwanted transparency but may create jaggies with a seperate Despill Bias colour.\n3) Tuning (mid tones at 0.18) and increacing shadow gain can help edge despill and matte contrast\n\nKeylight does not deal with wide ranges very well, if there are bight highlights pull the matte seperatly in log.\n\nIf you are need superfine detail / thin matte, set the screen colour so one one channel is at 1.0 \nand the others are at 0.0\n\nKeylight can do a good despil but sometimes a little heavy handed producing artifacts or colour casts.\n\tTweaking the screen balance and despil bias can help, otherwise do the despil seperatly from the matte,\n\n\n,\n\n\n\n\n"
 note_font_size 20
 xpos -9352
 ypos 16837
}
push $N9f3b160
Dot {
 name Dot554
 xpos -9635
 ypos 17833
}
Dot {
 name Dot555
 xpos -9635
 ypos 17996
}
Dot {
 name Dot556
 xpos -9496
 ypos 17996
}
set Na453a10 [stack 0]
Add {
 name Add4
 xpos -9527
 ypos 18085
}
Dot {
 name Dot568
 xpos -9496
 ypos 18137
}
set Na460b40 [stack 0]
Dot {
 name Dot569
 xpos -9606
 ypos 18137
}
set Na466240 [stack 0]
Dot {
 name Dot570
 xpos -9635
 ypos 18166
}
push $Na466240
Dot {
 name Dot571
 xpos -9582
 ypos 18165
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.blue}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max5
 xpos -9637
 ypos 18203
}
push $Na460b40
ChannelMerge {
 inputs 2
 operation from
 B rgba.green
 name ChannelMerge6
 xpos -9527
 ypos 18197
}
Invert {
 name Invert10
 xpos -9527
 ypos 18247
}
Grade {
 channels alpha
 blackpoint 0.75
 whitepoint 0.98
 white_clamp true
 name Grade17
 xpos -9527
 ypos 18318
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_jon-s_uap_043_fe_060/elements/E_043_fe_060_greenscreen_fg_training_v1/2184x1092/right/E_043_fe_060_greenscreen_fg_training_v1_right.####.dpx
 format "2184 1092 0 0 2184 1092 1 UAP_SuperRed"
 first 1001
 last 1091
 origfirst 1001
 origlast 1091
 origset true
 timecode 00:00:00:00
 name Read23
 xpos -11266
 ypos 11204
}
FrameHold {
 first_frame 1007
 name FrameHold45
 xpos -11266
 ypos 11305
}
StickyNote {
 inputs 0
 name StickyNote141
 label "<align='left>Colour Difference Keyer\n\nClassic Keyer, produces very fine results. \nSimilar to Keylight's matte when keylight has interger numbers for the screen colour \ni.e. 0,1,0(RGB)\n\nThe add nodes can be used to create offsets to remove fg areas with too much spill that are not keying.\n\n..\n\n"
 note_font_size 15
 xpos -8577
 ypos 18040
}
StickyNote {
 inputs 0
 name StickyNote142
 label "  <align='left> Additive Keyer  (image blending)\n\nGood for super fine detail, but not for a solid key.\n\nNeeds a cleanplate & a clean screen to work well.\nOften better with despilled plates and in log.\n\nDo not use with stereo post convertion shots!\n\n"
 note_font_size 16
 xpos -9261
 ypos 19252
}
push $N9f36e40
Dot {
 name Dot566
 xpos -9775
 ypos 16859
}
set Na4c2450 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0005257461453 0.02030814998 1.780056834}
 screenGain 1
 screenBalance 0.635
 alphaBias {0.09288834035 0.04016793519 0.04807836562}
 despillBias {0.5 0.5 0.6999999881}
 gangBiases false
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.18
 lowGain 1.26
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet true
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight16
 xpos -9806
 ypos 17173
}
set Na4c6730 [stack 0]
push $Na3a91f0
Viewer {
 inputs 2
 center_fstop 0
 colour_sample_bbox {0.1875624955 0.2388554811 0.2344374955 0.3101445436}
 input_process false
 translate {0.1655000001 0.4550000131}
 rotate -78.19433738
 name Viewer4
 xpos -9269
 ypos 22341
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_dks_tbr_2235_sequence/elements/I_tbr2235_fg01_v1/2048x1556/I_tbr2235_fg01_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1001
 last 1074
 origfirst 1001
 origlast 1074
 origset true
 timecode 04:13:26:02
 edge_code "02 19 04 0304 4255 11"
 name Read16
 xpos -10906
 ypos 11217
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_keying_et2_282a_rr_146_sequence/elements/E_compositing_keying_et2_282a_rr_146_BG_v1/2048x1556/E_compositing_keying_et2_282a_rr_146_BG_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1162
 origfirst 1017
 origlast 1162
 origset true
 colorspace AlexaV3LogC
 timecode 00:00:00:00
 name Read20
 xpos -11556
 ypos 11727
}
push $N8184a90
Dot {
 name Dot511
 xpos -14945
 ypos 12791
}
Dot {
 name Dot187
 xpos -14945
 ypos 13037
}
set Na68dfe0 [stack 0]
Shuffle {
 in cleanplate
 alpha white
 name Shuffle1
 label "\[value in]"
 xpos -15172
 ypos 13030
}
Dot {
 name Dot241
 xpos -15141
 ypos 13202
}
push $Na68dfe0
IBKGizmoV3 {
 inputs 2
 name IBKGizmoV3_2
 selected false
 xpos -14976
 ypos 13201
 st C-green
 colour {0.02906456403 0.2683116794 0.01955979504}
 red_weight 1
 blue_green_weight 0.795
 lm_enable true
 level 0.935
 luma 1
 ll_enable true
 autolevels true
 ss false
}
push $Na68dfe0
Shuffle {
 in despill
 alpha white
 name Shuffle5
 label "\[value in]"
 xpos -14817
 ypos 13030
}
set Na6f5340 [stack 0]
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy8
 xpos -14817
 ypos 13195
}
Premult {
 name Premult4
 xpos -14817
 ypos 13246
}
push $Na6f5340
Shuffle {
 in bg
 alpha white
 name Shuffle4
 label "\[value in]"
 xpos -14686
 ypos 13030
}
Merge2 {
 inputs 2
 name Merge4
 xpos -14686
 ypos 13246
}
push $N75550c0
Dot {
 name Dot476
 xpos -14936
 ypos 19113
}
Dot {
 name Dot443
 xpos -14936
 ypos 19212
}
set Na733230 [stack 0]
Dot {
 name Dot439
 xpos -15056
 ypos 19212
}
set Na737560 [stack 0]
Dot {
 name Dot440
 xpos -15139
 ypos 19212
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.02862658165 0.2687293589 0.01972103119}
 screenGain 1
 screenBalance 0.5
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 0
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 0
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight23
 xpos -15170
 ypos 19481
}
push $Na733230
Group {
 name L_Despill_v9
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -14967
 ypos 19334
 disable true
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set Na7e4030 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set Na7ec7a0 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set Na7f9090 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set Na7fd380 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set Na8059f0 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $Na7f9090
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $Na7e4030
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set Na854a40 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set Na863ee0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $Na863ee0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $Na863ee0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $Na863ee0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $Na863ee0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set Na8ace90 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set Na8b1290 [stack 0]
push $Na854a40
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set Na8c1f90 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $Na8c1f90
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $Na8c1f90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $Na8c1f90
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $Na8c1f90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set Na90b2a0 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set Na90f5a0 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $Na8b1290
push $Na90f5a0
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set Na947bd0 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set Na94be40 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $Na94be40
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set Na964af0 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $Na964af0
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $Na964af0
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $Na964af0
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $Na94be40
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set Na9d3870 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $Na9d3870
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $Na9d3870
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $Na9d3870
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set Naa425a0 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set Naa49ef0 [stack 0]
push $Naa49ef0
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $Na94be40
push $Naa425a0
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set Naa798e0 [stack 0]
push $Na947bd0
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $Na94be40
push $Naa798e0
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set Naad72e0 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set Naae47f0 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set Naae8a60 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $Naae8a60
push $Na7fd380
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $Naae47f0
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set Nab17430 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set Nab28a30 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set Nab2d0e0 [stack 0]
push $Nab2d0e0
push $Naad72e0
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set Nab2cd50 [stack 0]
push $Nab2cd50
push $Na8ace90
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $Na90b2a0
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $Nab17430
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set Nabd5e10 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $Nab28a30
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $Na8059f0
push $Nabd5e10
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $Na7ec7a0
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $Na8059f0
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
Log2Lin {
 operation lin2log
 name Log2Lin2
 xpos -14967
 ypos 19360
}
push $Na733230
Shuffle {
 in bg
 name Shuffle9
 label "\[value in]"
 xpos -14802
 ypos 19205
}
Dot {
 name Dot477
 xpos -14771
 ypos 19306
}
Log2Lin {
 operation lin2log
 name Log2Lin1
 xpos -14802
 ypos 19330
}
push $Na737560
Shuffle {
 in cleanplate
 name Shuffle2
 label "\[value in]"
 xpos -15087
 ypos 19268
}
Group {
 name L_Despill_v10
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -15087
 ypos 19333
 disable true
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set Nac9e740 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set Naca6f00 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set Nacb3820 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set Nacb7ae0 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set Nacc0100 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $Nacb3820
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $Nac9e740
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set Nad0f1c0 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set Nad1e660 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $Nad1e660
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $Nad1e660
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $Nad1e660
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $Nad1e660
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set Nad67630 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set Nad6ba30 [stack 0]
push $Nad0f1c0
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set Nad7c730 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $Nad7c730
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $Nad7c730
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $Nad7c730
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $Nad7c730
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set Nadc5a40 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set Nadc9d40 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $Nad6ba30
push $Nadc9d40
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set Nae02360 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set Nae065d0 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $Nae065d0
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set Nae1f270 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $Nae1f270
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $Nae1f270
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $Nae1f270
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $Nae065d0
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set Nae8dfb0 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $Nae8dfb0
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $Nae8dfb0
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $Nae8dfb0
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set Naefcd30 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set Naf04680 [stack 0]
push $Naf04680
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $Nae065d0
push $Naefcd30
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set Naf34070 [stack 0]
push $Nae02360
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $Nae065d0
push $Naf34070
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set Naf91a40 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set Naf9ef60 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set Nafa31d0 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $Nafa31d0
push $Nacb7ae0
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $Naf9ef60
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set Nafd1b80 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set Nafe31a0 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set Nafe7860 [stack 0]
push $Nafe7860
push $Naf91a40
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set Nafe74d0 [stack 0]
push $Nafe74d0
push $Nad67630
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $Nadc5a40
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black 0.0005
  white 0.98
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $Nafd1b80
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set Nb0905b0 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $Nafe31a0
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $Nacc0100
push $Nb0905b0
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $Naca6f00
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $Nacc0100
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
Log2Lin {
 operation lin2log
 name Log2Lin3
 xpos -15087
 ypos 19359
}
Dot {
 name Dot478
 xpos -15056
 ypos 19405
}
Group {
 inputs 3
 name AdditiveKeyer1
 xpos -14802
 ypos 19404
 addUserKnob {20 User}
 addUserKnob {41 kb_mix_l l "Light: add/mult mode" T mMultiply_l.mix}
 addUserKnob {41 Kb_mix_d l "Dark: add/mult mode" T mMultiply_d.mix}
 addUserKnob {41 kb_grade_l l "Lights: grade(mult)" T Grade_l.multiply}
 addUserKnob {41 kb_grade_d l "Darks: grade(mult)" T Grade_d.multiply}
 addUserKnob {41 kb_satrtn l Saturation T Saturation.saturation}
}
 Input {
  inputs 0
  name BG
  selected true
  xpos 290
  ypos -153
  number 1
 }
set Nb127a10 [stack 0]
 Dot {
  name Dot1
  xpos 321
  ypos -69
 }
set Nb12be40 [stack 0]
 Colorspace {
  colorspace_out HSL
  name Colorspace
  label HSL
  xpos 244
 }
 Shuffle {
  red blue
  green blue
  name Shuffle
  label "Luminace only"
  xpos 244
  ypos 50
 }
set Nb143090 [stack 0]
 Input {
  inputs 0
  name FG
  xpos -30
  ypos -162
  number 2
 }
 Input {
  inputs 0
  name REF
  xpos 122
  ypos -153
 }
 Merge2 {
  inputs 2
  operation minus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Merge1
  xpos 50
  ypos -102
 }
 Saturation {
  saturation 0.032
  name Saturation
  xpos 50
  ypos -52
 }
set Nb165d90 [stack 0]
 Clamp {
  channels rgb
  maximum 1000
  name Clamp_l
  label "more than zero\n"
  xpos -34
  ypos 1
 }
 Merge2 {
  inputs 2
  operation multiply
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.515
  name mMultiply_l
  label light
  xpos -34
  ypos 50
 }
 Grade {
  multiply 2.05
  black_clamp false
  name Grade_l
  xpos -34
  ypos 153
 }
push $Nb143090
push $Nb165d90
 Clamp {
  channels rgb
  minimum -10000
  maximum 0
  name Clamp_d
  label "less than zero\n"
  xpos 111
  ypos -1
 }
 Merge2 {
  inputs 2
  operation multiply
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.56
  name mMultiply_d
  label darks
  xpos 111
  ypos 50
 }
 Grade {
  multiply 1.75
  black_clamp false
  name Grade_d
  xpos 122
  ypos 143
 }
 Merge2 {
  inputs 2
  operation plus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Plus2
  xpos 39
  ypos 223
 }
push $Nb12be40
 Merge2 {
  inputs 2
  operation plus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Plus3
  xpos 290
  ypos 250
 }
 Output {
  name Output1
  xpos 290
  ypos 314
 }
push $Nb127a10
 Viewer {
  center_fstop 0
  input_process false
  name Viewer1
  xpos -86
  ypos -116
 }
end_group
Log2Lin {
 name Log2Lin4
 xpos -14802
 ypos 19430
}
Merge2 {
 inputs 2
 name Merge35
 xpos -14802
 ypos 19481
}
Read {
 inputs 0
 file /jobs/training/compositing/compositing_multi_layer_e2_300_cg_030_sequence/elements/E_e2_300_cg_030_smoke_v1/2048x1556/E_e2_300_cg_030_smoke_v1.####.dpx
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 first 1017
 last 1092
 origfirst 1017
 origlast 1092
 origset true
 colorspace AlexaV3LogC
 timecode ff:ff:ff:ff
 name Read17
 xpos -10600
 ypos 11236
}
push $N9f32b10
Dot {
 name Dot562
 xpos -9794
 ypos 16061
}
set Nb126290 [stack 0]
Primatte3 {
 data { 5
    408 10012 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 57348.5 77003.6 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 49563.3 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 43952.8 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57440.1 84934.5 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 67516.4 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 58948.1 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    -0.100098 -2.22551e+14 -2.22551e+14 2081.04 3.53073e+13 3.53073e+13
    -0.100098 -2.22551e+14 -2.22551e+14 2067.68 3.50816e+13 3.50816e+13
    -0.100098 -2.22551e+14 -2.22551e+14 77.5437 1.17459e+12 1.17459e+12
    -0.100098 -2.22551e+14 -2.22551e+14 64.1805 9.48868e+11 9.48868e+11
    -0.0999756 -2.22551e+14 -2.22551e+14 -64.1805 -9.48888e+11 -9.48888e+11
    -0.0999756 -2.22551e+14 -2.22551e+14 -77.5437 -1.17461e+12 -1.17461e+12
    -0.100098 -2.22551e+14 -2.22551e+14 -2067.68 -3.50816e+13 -3.50816e+13
    -0.0998535 -2.22551e+14 -2.22551e+14 -2081.04 -3.53073e+13 -3.53073e+13
    -0.183228 -4.06321e+14 -4.06321e+14 2987.64 5.08276e+13 5.08276e+13
    -0.181641 -1.29419e+14 -1.29419e+14 11428.4 1.47914e+14 1.47914e+14
    -0.183594 -1.64958e+14 -1.64958e+14 9472.84 2.85253e+14 2.85253e+14
    -0.183472 -9.86942e+13 -1.08859e+14 872.835 1.41556e+14 1.65019e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -9448.65 -1.61226e+14 -1.61226e+14
    -0.183228 -4.06321e+14 -4.06321e+14 -1003.57 -1.71649e+13 -1.71649e+13
    -0.183472 -4.06321e+14 -4.06321e+14 -2856.9 -4.8608e+13 -4.8608e+13
    -0.182617 -4.06322e+14 -4.06322e+14 -11452.6 -1.95299e+14 -1.95299e+14
    -0.183594 -2.04616e+14 -2.04616e+14 11452.6 2.32981e+14 2.32981e+14
    -0.183228 -4.06321e+14 -4.06321e+14 2856.9 4.8608e+13 4.8608e+13
    -0.18335 -4.06321e+14 -4.06321e+14 1003.57 1.71649e+13 1.71649e+13
    -0.183594 -5.55328e+13 -7.44789e+13 9448.65 9.59394e+13 1.29102e+14
    -0.183472 -4.06321e+14 -4.06321e+14 -872.835 -1.49452e+13 -1.49452e+13
    -0.181641 -4.06321e+14 -4.06321e+14 -9472.84 -1.61636e+14 -1.61636e+14
    -0.182617 -4.06322e+14 -4.06322e+14 -11428.4 -1.94889e+14 -1.94889e+14
    -0.183472 -2.39646e+14 -2.64328e+14 -2987.64 2.43559e+12 -5.45189e+12
    -0.234375 -5.24559e+14 -5.24559e+14 11757.9 2.00544e+14 2.00544e+14
    -0.234375 -1.84968e+14 -1.84968e+14 11622.6 1.74376e+14 1.74376e+14
    -0.236328 -5.24559e+14 -5.24559e+14 10220.9 1.74142e+14 1.74142e+14
    -0.234375 -4.0545e+13 -5.43776e+13 10085.6 3.05264e+13 1.93825e+13
    -0.234375 -5.24559e+14 -5.24559e+14 -10085.6 -1.71824e+14 -1.71824e+14
    -0.234375 -5.24559e+14 -5.24559e+14 -10220.9 -1.74142e+14 -1.74142e+14
    -0.236328 -5.24559e+14 -5.24559e+14 -11622.6 -1.98226e+14 -1.98226e+14
    -0.234375 -5.24559e+14 -5.24559e+14 -11757.9 -2.00544e+14 -2.00544e+14
    -0.183472 -4.06321e+14 -4.06321e+14 3568.04 6.08061e+13 6.08061e+13
    -0.181641 -4.06321e+14 -4.06321e+14 8038.05 1.37201e+14 1.37201e+14
    -0.182129 -4.06322e+14 -4.06322e+14 4868.47 8.31433e+13 8.31433e+13
    -0.18335 -1.95693e+14 -2.15848e+14 277.115 1.46029e+13 2.66097e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -4844.9 -8.27338e+13 -8.27338e+13
    -0.18335 -4.06321e+14 -4.06321e+14 -357.845 -6.33857e+12 -6.33857e+12
    -0.183228 -4.06321e+14 -4.06321e+14 -3487.31 -5.94343e+13 -5.94343e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -8061.62 -1.37611e+14 -1.37611e+14
    -0.100098 -2.22551e+14 -2.22551e+14 1267.83 2.15931e+13 2.15931e+13
    -0.100098 -1.8688e+13 -2.54979e+13 6711.32 2.04795e+13 2.80928e+13
    -0.0996094 -3.96868e+13 -3.97502e+13 6402.88 4.19773e+13 4.19401e+13
    -0.100098 -2.22551e+14 -2.22551e+14 860.92 1.46631e+13 1.46631e+13
    -0.100586 -2.22551e+14 -2.22551e+14 -6389.77 -1.08828e+14 -1.08828e+14
    -0.100098 -2.22551e+14 -2.22551e+14 -942.612 -1.60541e+13 -1.60541e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -1186.14 -2.02021e+13 -2.02021e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -6724.43 -1.14593e+14 -1.14593e+14
    -0.183594 -4.06321e+14 -4.06321e+14 10793.3 1.83973e+14 1.83973e+14
    -0.182129 -2.26525e+14 -2.26525e+14 6687.68 2.457e+14 2.457e+14
    -0.183105 -4.06321e+14 -4.06321e+14 6237.47 1.06258e+14 1.06258e+14
    -0.182617 -2.89495e+13 -5.289e+13 10119.4 3.80345e+13 4.29174e+13
    -0.182129 -4.06321e+14 -4.06321e+14 -6107.35 -1.04038e+14 -1.04038e+14
    -0.181641 -4.06321e+14 -4.06321e+14 -10200.1 -1.73924e+14 -1.73924e+14
    -0.182617 -4.06322e+14 -4.06322e+14 -10712.7 -1.82601e+14 -1.82601e+14
    -0.182129 -4.06321e+14 -4.06321e+14 -6817.8 -1.16306e+14 -1.16306e+14
    -0.234375 -5.24559e+14 -5.24559e+14 12612.7 2.15166e+14 2.15166e+14
    -0.236816 -5.24559e+14 -5.24559e+14 6676.77 1.13693e+14 1.13693e+14
    -0.236816 -5.24559e+14 -5.24559e+14 3460.33 5.91235e+13 5.91235e+13
    -0.234375 -1.44203e+14 -1.93401e+14 9229.15 2.20422e+14 1.92615e+14
    -0.236816 -5.24559e+14 -5.24559e+14 -3323.71 -5.68052e+13 -5.68052e+13
    -0.236328 -5.24559e+14 -5.24559e+14 -9291.77 -1.58278e+14 -1.58278e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -12550 -2.1409e+14 -2.1409e+14
    -0.236816 -3.09382e+14 -3.41246e+14 -6813.39 1.48555e+14 1.09377e+14
    -0.182129 -4.06321e+14 -4.06321e+14 8061.62 1.37611e+14 1.37611e+14
    -0.183228 -4.06321e+14 -4.06321e+14 3487.31 5.94343e+13 5.94343e+13
    -0.183228 -4.06321e+14 -4.06321e+14 357.845 6.33859e+12 6.33859e+12
    -0.181641 -3.31799e+14 -3.31799e+14 4844.9 6.69894e+13 6.69894e+13
    -0.183228 -4.06321e+14 -4.06321e+14 -277.115 -4.96677e+12 -4.96677e+12
    -0.182617 -4.06321e+14 -4.06321e+14 -4868.47 -8.31433e+13 -8.31433e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -8038.05 -1.37201e+14 -1.37201e+14
    -0.183228 -2.39646e+14 -2.64328e+14 -3568.04 3.12287e+13 1.75997e+13
    -0.182129 -4.06321e+14 -4.06321e+14 6817.8 1.16306e+14 1.16306e+14
    -0.182617 -5.43905e+13 -7.40921e+13 10712.7 7.26358e+13 6.37932e+13
    -0.183594 -4.06321e+14 -4.06321e+14 10200.1 1.73924e+14 1.73924e+14
    -0.182129 -9.32903e+13 -9.32903e+13 6107.35 8.18839e+13 8.18839e+13
    -0.182617 -4.06322e+14 -4.06322e+14 -10119.4 -1.72553e+14 -1.72553e+14
    -0.182129 -4.06321e+14 -4.06321e+14 -6237.47 -1.06258e+14 -1.06258e+14
    -0.183105 -4.06321e+14 -4.06321e+14 -6687.68 -1.14087e+14 -1.14087e+14
    -0.181641 -4.06321e+14 -4.06321e+14 -10793.3 -1.83973e+14 -1.83973e+14
    -0.100098 -4.92281e+13 -4.93067e+13 6724.43 5.36139e+13 5.36526e+13
    -0.100098 -2.22551e+14 -2.22551e+14 1186.14 2.02021e+13 2.02021e+13
    -0.100098 -2.22551e+14 -2.22551e+14 942.612 1.60541e+13 1.60541e+13
    -0.0996094 -1.5066e+13 -2.0556e+13 6389.77 1.60375e+13 2.19686e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -860.92 -1.46631e+13 -1.46631e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -6402.88 -1.09054e+14 -1.09054e+14
    -0.100098 -2.22551e+14 -2.22551e+14 -6711.32 -1.14367e+14 -1.14367e+14
    -0.100098 -2.22551e+14 -2.22551e+14 -1267.83 -2.15931e+13 -2.15931e+13
    -0.236328 -5.24559e+14 -5.24559e+14 6813.39 1.16011e+14 1.16011e+14
    -0.235352 -3.31781e+14 -3.31781e+14 12550 2.3508e+14 2.3508e+14
    -0.234375 -5.24559e+14 -5.24559e+14 9291.77 1.58278e+14 1.58278e+14
    -0.236816 -1.04045e+14 -1.14761e+14 3323.71 4.71282e+13 7.2354e+13
    -0.235352 -5.24559e+14 -5.24559e+14 -9229.15 -1.57202e+14 -1.57202e+14
    -0.236816 -5.24559e+14 -5.24559e+14 -3460.33 -5.91235e+13 -5.91235e+13
    -0.236816 -5.24559e+14 -5.24559e+14 -6676.77 -1.13693e+14 -1.13693e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -12612.7 -2.15166e+14 -2.15166e+14
    -0.163574 -3.63425e+14 -3.63425e+14 4339.19 7.39857e+13 7.39857e+13
    -0.164062 -3.63425e+14 -3.63425e+14 4305.15 7.34043e+13 7.34043e+13
    -0.163818 -3.63425e+14 -3.63425e+14 1159.1 1.99881e+13 1.99881e+13
    -0.163818 -2.9677e+14 -2.9677e+14 1125.07 8.00604e+13 8.00604e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -1125.07 -1.94067e+13 -1.94067e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -1159.1 -1.99881e+13 -1.99881e+13
    -0.163574 -3.63425e+14 -3.63425e+14 -4305.15 -7.34043e+13 -7.34043e+13
    -0.163574 -3.63425e+14 -3.63425e+14 -4339.19 -7.39857e+13 -7.39857e+13
    -0.164062 -3.63425e+14 -3.63425e+14 3224.17 5.49303e+13 5.49303e+13
    -0.164062 -4.39434e+13 -5.98607e+13 10770.7 5.31942e+13 6.35532e+13
    -0.163086 -1.47543e+14 -1.47543e+14 9964.03 1.39949e+14 1.39949e+14
    -0.164062 -1.4967e+14 -1.4967e+14 2257.17 1.83248e+14 1.83248e+14
    -0.164062 -3.63425e+14 -3.63425e+14 -9929.74 -1.693e+14 -1.693e+14
    -0.163818 -3.63425e+14 -3.63425e+14 -2386.77 -4.06625e+13 -4.06625e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -3094.57 -5.27299e+13 -5.27299e+13
    -0.162109 -3.63425e+14 -3.63425e+14 -10805 -1.84149e+14 -1.84149e+14
    -0.164062 -1.83014e+14 -1.83014e+14 10805 1.73927e+14 1.73927e+14
    -0.163818 -3.63425e+14 -3.63425e+14 3094.57 5.27299e+13 5.27299e+13
    -0.164062 -3.63425e+14 -3.63425e+14 2386.77 4.06625e+13 4.06625e+13
    -0.163086 -1.88558e+13 -3.4449e+13 9929.74 1.9152e+13 3.29036e+13
    -0.164062 -3.63425e+14 -3.63425e+14 -2257.17 -3.8462e+13 -3.8462e+13
    -0.164062 -3.63425e+14 -3.63425e+14 -9964.03 -1.69881e+14 -1.69881e+14
    -0.163086 -3.63425e+14 -3.63425e+14 -10770.7 -1.83568e+14 -1.83568e+14
    -0.163818 -3.63425e+14 -3.63425e+14 -3224.17 -5.49303e+13 -5.49303e+13
    -0.271484 -6.05708e+14 -6.05708e+14 12649.9 2.15787e+14 2.15787e+14
    -0.271484 -3.83108e+14 -3.83108e+14 12514.6 3.30261e+14 3.30261e+14
    -0.271484 -6.05708e+14 -6.05708e+14 9328.81 1.58899e+14 1.58899e+14
    -0.271484 -6.85751e+13 -9.19707e+13 9193.49 1.15994e+14 8.80857e+13
    -0.271484 -6.05708e+14 -6.05708e+14 -9193.49 -1.56581e+14 -1.56581e+14
    -0.271484 -6.05708e+14 -6.05708e+14 -9328.81 -1.58899e+14 -1.58899e+14
    -0.271484 -6.05708e+14 -6.05708e+14 -12514.6 -2.13469e+14 -2.13469e+14
    -0.271484 -6.05708e+14 -6.05708e+14 -12649.9 -2.15787e+14 -2.15787e+14
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.747544 0.807544
    0.05 0.745837 0.745837
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.746488 0.746488
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
  }

 primEdgedata { 5
    408 10012 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 57348.5 77003.6 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 49563.3 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 43952.8 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57440.1 84934.5 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 67516.4 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 58948.1 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.747544 0.807544
    0.05 0.745837 0.745837
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.746488 0.746488
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
  }

 primBodydata { 5
    408 10012 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 57348.5 77003.6 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 49563.3 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 43952.8 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57440.1 84934.5 130560 130560 130560 72787.3 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 53004.7 130560 130560 130560 130560 130560 67516.4 130560 130560 130560 130560 130560 130560 130560 130560 65747.7 130560 130560 130560 130560 130560 58948.1 106614 53768.9 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82578.7 130560 130560 130560 130560 130560 130560 130560 130560 130560
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.747544 0.807544
    0.05 0.745837 0.745837
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
    0.05 0.746488 0.746488
    0.05 0.758695 0.758695
    0.05 0.758695 0.758695
  }

 crop {0 0 2048 1556}
 "Adjust Lighting" 0
 "Hybrid Matte" 0
 "Fine Tuning" 0
 name Primatte29
 xpos -9825
 ypos 16334
}
StickyNote {
 inputs 0
 name StickyNote144
 label "<align='left>  Invert Over Keyer \n\nGood keyer for fine detail, and wide colour ranges in both the FG and BG. \nEdges also resolve well with light changes (like explosions)\n\nRequires cleanscreen\n\nIt works differently from other keyers. It uses a very thin matte, \nbut compensates for lack of black by adjusting the BG plate before the normal over\n\nCan be used in stereo conversion shots.\n\n."
 note_font_size 15
 xpos -9427
 ypos 21708
}
StickyNote {
 inputs 0
 name StickyNote113
 label "<align='left>  Invert Over Keyer \n\nGood keyer for fine detail, and wide colour ranges in both the FG and BG. \nEdges also resolve well with light changes (like explosions)\n\nRequires cleanscreen\n\nIt works differently from other keyers. It uses a very thin matte, \nbut compensates for lack of black by adjusting the BG plate before the normal over\n\nCan be used in stereo conversion shots.\n\n."
 note_font_size 15
 xpos -14795
 ypos 21696
}
StickyNote {
 inputs 0
 name StickyNote145
 label "  <align='left>  BG mix keyer (image blending)\n\nDo not use with stereo post convertion shots!\n\nIMO the most effective way of keying super fine detail i.e fast motion blur in mid-range colour.\n\n.."
 note_font_size 15
 xpos -8979
 ypos 22923
}
push $N9f261b0
Dot {
 name Dot600
 xpos -9582
 ypos 12805
}
Dot {
 name Dot601
 xpos -9582
 ypos 13051
}
set Nb2edd80 [stack 0]
Shuffle {
 in cleanplate
 alpha white
 name Shuffle35
 label "\[value in]"
 xpos -9809
 ypos 13044
}
Dot {
 name Dot602
 xpos -9778
 ypos 13216
}
push $Nb2edd80
IBKGizmoV3 {
 inputs 2
 name IBKGizmoV3_8
 selected false
 xpos -9613
 ypos 13215
 st pick
 colour {0.06742787361 0.1842750609 2.402996063}
 red_weight 0.89
 blue_green_weight 0.835
 lm_enable true
 level 0.795
 luma 0.995
 ll_enable true
 ss false
}
push $Nb2edd80
Shuffle {
 in despill
 alpha white
 name Shuffle36
 label "\[value in]"
 xpos -9454
 ypos 13044
}
set Nb355060 [stack 0]
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy13
 xpos -9454
 ypos 13209
}
Premult {
 name Premult22
 xpos -9454
 ypos 13260
}
push $Nb355060
Shuffle {
 in bg
 alpha white
 name Shuffle37
 label "\[value in]"
 xpos -9323
 ypos 13044
}
Merge2 {
 inputs 2
 name Merge65
 xpos -9310
 ypos 13260
}
push $N9f2a470
Dot {
 name Dot603
 xpos -9798
 ypos 13853
}
Dot {
 name Dot604
 xpos -9798
 ypos 14082
}
set Nb392f70 [stack 0]
Keyer {
 operation "min keyer"
 range {0 0.2425191283 1 1}
 name Keyer2
 xpos -9829
 ypos 14277
}
Dot {
 name Dot605
 xpos -9798
 ypos 14813
}
push $Nb392f70
Dot {
 name Dot606
 xpos -9626
 ypos 14082
}
set Nb3a3f00 [stack 0]
Dot {
 name Dot607
 xpos -9057
 ypos 14087
}
set Nb3a81c0 [stack 0]
Shuffle {
 in despill
 name Shuffle38
 label "\[value in]"
 xpos -9088
 ypos 14164
}
Dot {
 name Dot608
 xpos -9057
 ypos 14432
}
set Nb3b9a30 [stack 0]
Dot {
 name Dot610
 xpos -9057
 ypos 14731
}
Unpremult {
 name Unpremult1
 xpos -9083
 ypos 14755
 disable true
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy14
 xpos -9083
 ypos 14806
}
Premult {
 name Premult23
 xpos -9083
 ypos 14855
}
Sharpen {
 channels rgba
 name Sharpen2
 xpos -9083
 ypos 14912
}
push $Nb3a81c0
Dot {
 name Dot609
 xpos -8980
 ypos 14087
}
set Nb3e72d0 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.000457085087 0.02048024908 1.795974255}
 screenGain 1
 screenBalance 0.95
 alphaBias 0.5
 despillBias 0.5
 gangBiases false
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0.06
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.18
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight36
 xpos -9011
 ypos 14638
}
push $Nb3a3f00
Keyer {
 operation "max keyer"
 range {0.2400507563 1.3 1 1}
 name Keyer3
 xpos -9657
 ypos 14256
}
Invert {
 name Invert13
 xpos -9657
 ypos 14309
}
Dot {
 name Dot611
 xpos -9626
 ypos 14482
}
push $Nb3b9a30
Dot {
 name Dot612
 xpos -9166
 ypos 14432
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy15
 xpos -9197
 ypos 14476
}
Premult {
 name Premult24
 xpos -9197
 ypos 14541
}
Multiply {
 channels rgba
 value 0.8
 name Multiply3
 xpos -9197
 ypos 14567
}
push $Nb3e72d0
Dot {
 name Dot613
 xpos -8911
 ypos 14087
}
Shuffle {
 in bg
 name Shuffle39
 label "\[value in]"
 xpos -8937
 ypos 14164
}
Merge2 {
 inputs 2
 name Merge66
 xpos -8937
 ypos 14567
}
Merge2 {
 inputs 2
 name Merge77
 xpos -8937
 ypos 14730
}
Merge2 {
 inputs 2
 name Merge78
 xpos -8937
 ypos 14912
}
push $Nb126290
Dot {
 name Dot563
 xpos -9645
 ypos 16061
}
set Nb4e3ac0 [stack 0]
Primatte3 {
 data { 5
    427 10009 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 3500.45 1 1 1 1 1 1 1 1 1 1406.27 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1066.05 1 1 1 1550.91 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 56354.6 76969 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 28286.3 130560 130560 130560 130560 130560 130560 130560 130560 26427.1 130560 130560 130560 130560 130560 43931.7 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57312.6 84863.1 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 28286.3 130560 130560 130560 130560 130560 130560 130560 130560 26427.1 130560 130560 130560 130560 130560 49645 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    -540672 -2.22551e+14 -2.22551e+14 1.1248e+11 3.53075e+13 3.53075e+13
    -376832 -2.22551e+14 -2.22551e+14 7.73144e+10 3.50713e+13 3.50713e+13
    -0.100098 -2.22551e+14 -2.22551e+14 78.155 1.18496e+12 1.18496e+12
    -0.0999756 -2.22551e+14 -2.22551e+14 64.1695 9.48725e+11 9.48725e+11
    -548864 -2.22551e+14 -2.22551e+14 -1.12476e+11 -9.48746e+11 -9.48746e+11
    -368640 -2.22551e+14 -2.22551e+14 -7.7313e+10 -1.18498e+12 -1.18498e+12
    -0.0999756 -2.22551e+14 -2.22551e+14 -2067.07 -3.50712e+13 -3.50712e+13
    -0.10022 -2.22551e+14 -2.22551e+14 -2081.06 -3.53075e+13 -3.53075e+13
    -0.183472 -4.06321e+14 -4.06321e+14 2990.38 5.08743e+13 5.08743e+13
    -0.183594 -5.20337e+13 -5.20337e+13 11427.5 1.63647e+14 1.63647e+14
    -0.182617 -1.64906e+14 -1.64906e+14 9473.7 2.85222e+14 2.85222e+14
    -0.18335 -9.87207e+13 -1.08846e+14 870.088 1.41344e+14 1.64689e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -9448.38 -1.61222e+14 -1.61222e+14
    -258 -4.06321e+14 -4.06321e+14 -1.88393e+07 -1.72216e+13 -1.72216e+13
    -0.183228 -4.06321e+14 -4.06321e+14 -2853.56 -4.85513e+13 -4.85513e+13
    -0.182617 -4.06322e+14 -4.06322e+14 -11452.9 -1.95303e+14 -1.95303e+14
    -0.183594 -8.22449e+13 -8.22449e+13 11452.9 2.5578e+14 2.5578e+14
    -258 -4.06321e+14 -4.06321e+14 1.03345e+07 4.85513e+13 4.85513e+13
    -0.18335 -4.06321e+14 -4.06321e+14 1006.91 1.72216e+13 1.72216e+13
    -0.183594 -5.54887e+13 -6.2705e+13 9448.38 9.58784e+13 1.08519e+14
    -0.18335 -4.06321e+14 -4.06321e+14 -870.088 -1.48986e+13 -1.48986e+13
    -0.183594 -4.06321e+14 -4.06321e+14 -9473.7 -1.61651e+14 -1.61651e+14
    -0.181641 -4.06322e+14 -4.06322e+14 -11427.5 -1.94875e+14 -1.94875e+14
    -0.183228 -2.39539e+14 -2.64106e+14 -2990.38 2.46772e+12 -5.38963e+12
    -0.235352 -5.24559e+14 -5.24559e+14 11760.8 2.00594e+14 2.00594e+14
    -0.235352 -1.85196e+14 -1.85196e+14 11619.2 1.74461e+14 1.74461e+14
    -0.235352 -5.24559e+14 -5.24559e+14 10224.3 1.742e+14 1.742e+14
    -0.235352 -4.05935e+13 -4.58726e+13 10082.6 3.06066e+13 2.63522e+13
    -0.235352 -5.24559e+14 -5.24559e+14 -10082.6 -1.71774e+14 -1.71774e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -10224.3 -1.742e+14 -1.742e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -11619.2 -1.98168e+14 -1.98168e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -11760.8 -2.00594e+14 -2.00594e+14
    -284 -4.06321e+14 -4.06321e+14 3.05605e+07 6.08299e+13 6.08299e+13
    -0.181641 -4.06321e+14 -4.06321e+14 8037.02 1.37184e+14 1.37184e+14
    -0.181641 -4.06321e+14 -4.06321e+14 4869.49 8.3161e+13 8.3161e+13
    -0.183228 -1.95474e+14 -2.15522e+14 275.716 1.46827e+13 2.66513e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -4844.83 -8.27325e+13 -8.27325e+13
    -274432 -4.06321e+14 -4.06321e+14 -4.38992e+10 -6.37867e+12 -6.37867e+12
    -0.183228 -4.06321e+14 -4.06321e+14 -3484.95 -5.93942e+13 -5.93942e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -8061.69 -1.37612e+14 -1.37612e+14
    -0.100098 -2.22551e+14 -2.22551e+14 1269.68 2.16246e+13 2.16246e+13
    -0.100098 -4.21265e+12 -4.28426e+12 6710.97 7.59438e+12 7.67673e+12
    -0.0996094 -3.89867e+13 -3.96495e+13 6403.24 4.23399e+13 4.19509e+13
    -0.100098 -2.22551e+14 -2.22551e+14 859.067 1.46316e+13 1.46316e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -6389.52 -1.08824e+14 -1.08824e+14
    -0.100098 -2.22551e+14 -2.22551e+14 -944.563 -1.60873e+13 -1.60873e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -1184.19 -2.01689e+13 -2.01689e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -6724.69 -1.14597e+14 -1.14597e+14
    -0.182617 -4.06321e+14 -4.06321e+14 10795.1 1.84003e+14 1.84003e+14
    -0.182617 -2.26742e+14 -2.26742e+14 6684.56 2.45533e+14 2.45533e+14
    -0.182617 -4.06321e+14 -4.06321e+14 6240.58 1.06311e+14 1.06311e+14
    -0.183594 -1.65297e+13 -1.86794e+13 10117.6 5.1857e+13 5.98007e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -6104.41 -1.03988e+14 -1.03988e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -10202 -1.73958e+14 -1.73958e+14
    -0.182617 -4.06322e+14 -4.06322e+14 -10710.7 -1.82567e+14 -1.82567e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -6820.74 -1.16357e+14 -1.16357e+14
    -0.235352 -5.24559e+14 -5.24559e+14 12613.6 2.15182e+14 2.15182e+14
    -332 -5.24559e+14 -5.24559e+14 5.31756e+07 1.13631e+14 1.13631e+14
    -0.236816 -5.24559e+14 -5.24559e+14 3464.02 5.9186e+13 5.9186e+13
    -0.234375 -1.44038e+14 -1.6277e+14 9228.18 2.2016e+14 2.09565e+14
    -0.236816 -5.24559e+14 -5.24559e+14 -3321.03 -5.67598e+13 -5.67598e+13
    -0.235352 -5.24559e+14 -5.24559e+14 -9293.73 -1.58312e+14 -1.58312e+14
    -0.236328 -5.24559e+14 -5.24559e+14 -12548.1 -2.14056e+14 -2.14056e+14
    -0.237305 -3.09243e+14 -3.40959e+14 -6816.07 1.4868e+14 1.09684e+14
    -0.182617 -4.06321e+14 -4.06321e+14 8061.69 1.37612e+14 1.37612e+14
    -274432 -4.06321e+14 -4.06321e+14 4.39046e+10 5.93942e+13 5.93942e+13
    -0.183228 -4.06321e+14 -4.06321e+14 360.206 6.37869e+12 6.37869e+12
    -0.181641 -3.31577e+14 -3.31577e+14 4844.83 6.69146e+13 6.69146e+13
    -286 -4.06321e+14 -4.06321e+14 -3.40664e+07 -4.94299e+12 -4.94299e+12
    -0.182617 -4.06321e+14 -4.06321e+14 -4869.49 -8.3161e+13 -8.3161e+13
    -0.182617 -4.06321e+14 -4.06321e+14 -8037.02 -1.37184e+14 -1.37184e+14
    -0.183228 -2.39539e+14 -2.64106e+14 -3569.44 3.12198e+13 1.76607e+13
    -0.182129 -4.06321e+14 -4.06321e+14 6820.74 1.16357e+14 1.16357e+14
    -0.182617 -3.10794e+13 -3.10794e+13 10710.7 8.32568e+13 8.32568e+13
    -0.183594 -4.06321e+14 -4.06321e+14 10202 1.73958e+14 1.73958e+14
    -0.182617 -9.34466e+13 -9.34466e+13 6104.41 8.18741e+13 8.18741e+13
    -0.182617 -4.06322e+14 -4.06322e+14 -10117.6 -1.72522e+14 -1.72522e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -6240.58 -1.06311e+14 -1.06311e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -6684.56 -1.14034e+14 -1.14034e+14
    -0.182617 -4.06321e+14 -4.06321e+14 -10795.1 -1.84003e+14 -1.84003e+14
    -0.0996094 -1.94442e+13 -1.97747e+13 6724.69 3.52984e+13 3.56977e+13
    -0.10022 -2.22551e+14 -2.22551e+14 1184.19 2.01689e+13 2.01689e+13
    -0.100098 -2.22551e+14 -2.22551e+14 944.563 1.60873e+13 1.60873e+13
    -0.0996094 -8.44662e+12 -8.5902e+12 6389.52 9.06652e+12 8.9739e+12
    -0.100098 -2.22551e+14 -2.22551e+14 -859.067 -1.46316e+13 -1.46316e+13
    -0.100098 -2.22551e+14 -2.22551e+14 -6403.24 -1.0906e+14 -1.0906e+14
    -0.100586 -2.22551e+14 -2.22551e+14 -6710.97 -1.14361e+14 -1.14361e+14
    -0.100098 -2.22551e+14 -2.22551e+14 -1269.68 -2.16246e+13 -2.16246e+13
    -0.236328 -5.24559e+14 -5.24559e+14 6816.07 1.16057e+14 1.16057e+14
    -0.234375 -3.31872e+14 -3.31872e+14 12548.1 2.3502e+14 2.3502e+14
    -0.235352 -5.24559e+14 -5.24559e+14 9293.73 1.58312e+14 1.58312e+14
    -0.236816 -1.04003e+14 -1.1467e+14 3321.03 4.68968e+13 7.19953e+13
    -0.235352 -5.24559e+14 -5.24559e+14 -9228.18 -1.57186e+14 -1.57186e+14
    -332 -5.24559e+14 -5.24559e+14 -5.31724e+07 -5.9186e+13 -5.9186e+13
    -0.236328 -5.24559e+14 -5.24559e+14 -6673.09 -1.13631e+14 -1.13631e+14
    -0.235352 -5.24559e+14 -5.24559e+14 -12613.6 -2.15182e+14 -2.15182e+14
    -252 -3.63425e+14 -3.63425e+14 4.39778e+07 7.39911e+13 7.39911e+13
    -176 -3.63425e+14 -3.63425e+14 3.03024e+07 7.33826e+13 7.33826e+13
    -0.163818 -3.63425e+14 -3.63425e+14 1160.37 2.00097e+13 2.00097e+13
    -0.163818 -2.96571e+14 -2.96571e+14 1124.75 8.02183e+13 8.02183e+13
    -252 -3.63425e+14 -3.63425e+14 -4.31725e+07 -1.94012e+13 -1.94012e+13
    -174 -3.63425e+14 -3.63425e+14 -2.95863e+07 -2.00097e+13 -2.00097e+13
    -0.16333 -3.63425e+14 -3.63425e+14 -4303.88 -7.33827e+13 -7.33827e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -4339.5 -7.39912e+13 -7.39912e+13
    -0.163818 -3.63425e+14 -3.63425e+14 3227.06 5.49794e+13 5.49794e+13
    -0.164062 -1.00831e+13 -1.00831e+13 10769.8 3.03096e+13 3.03096e+13
    -0.162109 -1.47496e+14 -1.47496e+14 9964.96 1.39878e+14 1.39878e+14
    -0.164062 -1.49778e+14 -1.49778e+14 2254.28 1.83184e+14 1.83184e+14
    -0.164062 -3.63425e+14 -3.63425e+14 -9929.07 -1.69289e+14 -1.69289e+14
    -0.163818 -3.63425e+14 -3.63425e+14 -2389.91 -4.07159e+13 -4.07159e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -3091.43 -5.26765e+13 -5.26765e+13
    -0.163086 -3.63425e+14 -3.63425e+14 -10805.7 -1.84161e+14 -1.84161e+14
    -0.164062 -7.35621e+13 -7.35621e+13 10805.7 1.67622e+14 1.67622e+14
    -0.163818 -3.63425e+14 -3.63425e+14 3091.43 5.26765e+13 5.26765e+13
    -0.163818 -3.63425e+14 -3.63425e+14 2389.91 4.07159e+13 4.07159e+13
    -0.163086 -1.07527e+13 -1.2151e+13 9929.07 2.31886e+13 2.8092e+13
    -0.163818 -3.63425e+14 -3.63425e+14 -2254.28 -3.84129e+13 -3.84129e+13
    -0.164062 -3.63425e+14 -3.63425e+14 -9964.96 -1.69897e+14 -1.69897e+14
    -0.163086 -3.63425e+14 -3.63425e+14 -10769.8 -1.83552e+14 -1.83552e+14
    -0.163818 -3.63425e+14 -3.63425e+14 -3227.06 -5.49794e+13 -5.49794e+13
    -0.272461 -6.05708e+14 -6.05708e+14 12652.6 2.15833e+14 2.15833e+14
    -0.270508 -3.83212e+14 -3.83212e+14 12511 3.3019e+14 3.3019e+14
    -0.270508 -6.05708e+14 -6.05708e+14 9332.46 1.58962e+14 1.58962e+14
    -0.270508 -6.85454e+13 -7.74596e+13 9190.84 1.16025e+14 1.05387e+14
    -0.272461 -6.05708e+14 -6.05708e+14 -9190.84 -1.56535e+14 -1.56535e+14
    -0.272461 -6.05708e+14 -6.05708e+14 -9332.46 -1.58962e+14 -1.58962e+14
    -0.270508 -6.05708e+14 -6.05708e+14 -12511 -2.13406e+14 -2.13406e+14
    -0.270508 -6.05708e+14 -6.05708e+14 -12652.6 -2.15833e+14 -2.15833e+14
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.297388 0.297388
    0.05 0.195346 0.195346
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.74645 0.74645
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
  }

 primEdgedata { 5
    427 10009 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 3500.45 1 1 1 1 1 1 1 1 1 1406.27 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1066.05 1 1 1 1550.91 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 56354.6 76969 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 49514.9 130560 130560 130560 130560 130560 130560 130560 130560 65750.1 130560 130560 130560 130560 130560 43931.7 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57312.6 84863.1 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 67739 130560 130560 130560 130560 130560 130560 130560 130560 65750.1 130560 130560 130560 130560 130560 58892.6 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.747384 0.807384
    0.05 0.745639 0.745639
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.74645 0.74645
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
  }

 primBodydata { 5
    427 10009 65535
    65552
    0 5
    30234 30234 30234 0
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    130560 130560 130560 130560 130560 56354.6 76969 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 28286.3 130560 130560 130560 130560 130560 130560 130560 130560 26427.1 130560 130560 130560 130560 130560 43931.7 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    130560 130560 130560 130560 130560 57312.6 84863.1 130560 130560 130560 72857.1 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 52987.9 130560 130560 130560 130560 130560 28286.3 130560 130560 130560 130560 130560 130560 130560 130560 26427.1 130560 130560 130560 130560 130560 49645 106543 53807.5 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 130560 82601.2 130560 130560 130560 130560 130560 130560 130560 130560 130560
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    0 0 0 0 0 0
    -1 -1 -1 -1
    -1 -1 999999 999999
    -1 -1 -1 -1
    0.05 0.297388 0.297388
    0.05 0.195346 0.195346
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
    0.05 0.74645 0.74645
    0.05 0.758564 0.758564
    0.05 0.758564 0.758564
  }

 crop {0 0 2048 1556}
 "Adjust Lighting" 0
 "Hybrid Matte" 0
 "Fine Tuning" 0
 name Primatte30
 xpos -9676
 ypos 16213
}
Dot {
 name Dot564
 xpos -9645
 ypos 16295
}
push $Nb4e3ac0
Dot {
 name Dot635
 xpos -9554
 ypos 16061
}
set Nb5d6d40 [stack 0]
Shuffle {
 in despill
 name Shuffle46
 label "\[value in]"
 xpos -9585
 ypos 16138
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy16
 xpos -9585
 ypos 16288
}
Dot {
 name Dot636
 xpos -9551
 ypos 16349
}
push $Nb5d6d40
Dot {
 name Dot565
 xpos -9452
 ypos 16061
}
Shuffle {
 in bg
 name Shuffle26
 label "\[value in]"
 xpos -9483
 ypos 16150
}
Merge2 {
 inputs 2
 name Merge53
 xpos -9483
 ypos 16348
}
push $Na4c6730
push $Na4c2450
Dot {
 name Dot567
 xpos -9585
 ypos 16859
}
Shuffle {
 in bg
 name Shuffle27
 label "\[value in]"
 xpos -9616
 ypos 16922
}
Merge2 {
 inputs 2
 name Merge54
 xpos -9616
 ypos 17173
}
push $Na453a10
Dot {
 name Dot557
 xpos -9237
 ypos 17996
}
set Nb635290 [stack 0]
Add {
 value {0 0 0.2 0}
 value_panelDropped true
 name Add3
 xpos -9268
 ypos 18092
}
Dot {
 name Dot558
 xpos -9237
 ypos 18142
}
set Nb626250 [stack 0]
Dot {
 name Dot559
 xpos -9347
 ypos 18142
}
set Nb647a70 [stack 0]
Dot {
 name Dot560
 xpos -9376
 ypos 18171
}
push $Nb647a70
Dot {
 name Dot561
 xpos -9323
 ypos 18170
}
Merge2 {
 inputs 2
 operation max
 Achannels {-rgba.red -rgba.green -rgba.blue rgba.red}
 Bchannels {-rgba.red -rgba.green -rgba.blue rgba.green}
 output {-rgba.red -rgba.green -rgba.blue rgba.alpha}
 name Max3
 xpos -9378
 ypos 18208
}
push $Nb626250
ChannelMerge {
 inputs 2
 operation minus
 B rgba.blue
 name ChannelMerge5
 xpos -9268
 ypos 18202
}
Grade {
 channels alpha
 blackpoint -1
 whitepoint 0.008
 multiply 1.34
 white_clamp true
 name Grade15
 xpos -9268
 ypos 18320
}
Dot {
 name Dot572
 xpos -9237
 ypos 18516
}
push $Nb635290
Dot {
 name Dot573
 xpos -8964
 ypos 17996
}
Dot {
 name Dot574
 xpos -8873
 ypos 17996
}
set Nb683ae0 [stack 0]
Shuffle {
 in despill
 name Shuffle28
 label "\[value in]"
 xpos -8904
 ypos 18059
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy10
 xpos -8915
 ypos 18509
}
Premult {
 name Premult19
 xpos -8915
 ypos 18558
}
push $Nb683ae0
Dot {
 name Dot575
 xpos -8727
 ypos 17996
}
Shuffle {
 in bg
 name Shuffle29
 label "\[value in]"
 xpos -8758
 ypos 18071
}
Merge2 {
 inputs 2
 name Merge55
 xpos -8758
 ypos 18558
}
StickyNote {
 inputs 0
 name StickyNote1
 label GREEN
 note_font_size 110
 xpos -16565
 ypos 10648
}
StickyNote {
 inputs 0
 name StickyNote2
 label BLUE
 note_font_size 110
 xpos -11144
 ypos 10656
}
StickyNote {
 inputs 0
 name StickyNote143
 label " <align='left> Despill Difference / Dilate keyer (image blending / hue Difference)\n\n\nGood for super fine detail\n\nNeeds a cleanplate & a clean screen to work well.\n\nDo not use with stereo post convertion shots!\n\n.\n"
 note_font_size 15
 xpos -9243
 ypos 20171
}
StickyNote {
 inputs 0
 name StickyNote116
 label "  <align='left> KEYING SELECTOR\n\nThis is not a tutorial. It is for selecting the best keyers for the job from a single input.\n\nIt assumes you will use your seperate keys and then combine them together and then do edge luma resolving.\n\nYou also need to degrain, create clean plates and clean-screens for the plate.\n\n\n.."
 note_font_size 30
 xpos -14554
 ypos 10577
}
push $N9f47af0
Dot {
 name Dot582
 xpos -10693
 ypos 22634
}
Dot {
 name Dot583
 xpos -9745
 ypos 22634
}
Dot {
 name Dot584
 xpos -9745
 ypos 22835
}
set Na57f7b0 [stack 0]
Dot {
 name Dot585
 xpos -9608
 ypos 22835
}
set Na579f20 [stack 0]
Shuffle {
 in cleanscreen
 name Shuffle32
 label "\[value in]"
 xpos -9639
 ypos 22872
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Intermediate Result"
 unPreMultiply false
 screenColour {0.0004866800155 0.02061132714 1.793873787}
 screenGain 1
 screenBalance 0.95
 alphaBias {0.4449999928 0.5450000167 0.5400000215}
 alphaBias_panelDropped true
 setKnobFlags {alphaBias_panelDropped +HIDDEN}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0.08
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 1
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 1
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight32
 xpos -9639
 ypos 22967
}
push $Na57f7b0
Shuffle {
 in despill
 name Shuffle45
 label "\[value in]"
 xpos -9776
 ypos 23042
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy11
 xpos -9639
 ypos 23042
}
Dot {
 name Dot588
 xpos -9600
 ypos 23155
}
set Na637cb0 [stack 0]
Dot {
 name Dot591
 xpos -9734
 ypos 23151
}
set Nc313c40 [stack 0]
Dot {
 name Dot586
 xpos -10025
 ypos 23151
}
Dot {
 name Dot587
 xpos -10025
 ypos 23458
}
Premult {
 name Premult20
 xpos -10056
 ypos 23525
}
push $Na637cb0
Dot {
 name Dot589
 xpos -9509
 ypos 23155
}
set Na63bfb0 [stack 0]
Grade {
 channels alpha
 blackpoint 0.095
 whitepoint 0.29
 gamma 3.9
 white_clamp true
 name Grade18
 xpos -9540
 ypos 23200
}
FilterErode {
 channels rgba
 size -8.5
 name FilterErode6
 xpos -9540
 ypos 23238
}
Blur {
 channels alpha
 size 3
 name Blur6
 xpos -9547
 ypos 23296
}
Dot {
 name Dot590
 xpos -9509
 ypos 23377
}
push $Nc313c40
push $Na57f7b0
Dot {
 name Dot592
 xpos -9898
 ypos 22835
}
Shuffle {
 in bg
 name Shuffle33
 label "\[value in]"
 xpos -9929
 ypos 22906
}
Dot {
 name Dot593
 xpos -9898
 ypos 23377
}
AddMix {
 inputs 2
 lut {A {curve x0.002573527396 0.4945273399 s0 t1.25 x1 0.9925372601}
   B {curve x0.0005514658988 1.00621891 s0 t-1.549999952 x1 0.1223881245 s-0.400000006}}
 name AddMix3
 xpos -9765
 ypos 23376
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy12
 xpos -9642
 ypos 23370
}
Premult {
 name Premult21
 xpos -9642
 ypos 23408
}
Dot {
 name Dot594
 xpos -9600
 ypos 23453
}
push $Na579f20
Dot {
 name Dot595
 xpos -9436
 ypos 22835
}
Shuffle {
 in bg
 name Shuffle34
 label "\[value in]"
 xpos -9467
 ypos 22894
}
set Na64cc30 [stack 0]
Dot {
 name Dot596
 xpos -9436
 ypos 23190
}
Merge2 {
 inputs 2
 name Merge59
 xpos -9467
 ypos 23452
}
Merge2 {
 inputs 2
 name Merge63
 xpos -9457
 ypos 23515
}
push $N9f25090
Dot {
 name Dot614
 xpos -9607
 ypos 15286
}
Dot {
 name Dot615
 xpos -9607
 ypos 15432
}
set Nb4e9a20 [stack 0]
Dot {
 name Dot616
 xpos -9762
 ypos 15432
}
Dot {
 name Dot617
 xpos -9762
 ypos 15510
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0004924224922 0.02032205649 1.778685451}
 screenGain 1
 screenBalance 0.95
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0.08
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 0
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight37
 xpos -9793
 ypos 15598
}
set Nb4f6380 [stack 0]
Dot {
 name Dot618
 xpos -9762
 ypos 15673
}
push $Nb4f6380
push $Nb4e9a20
Shuffle {
 in bg
 name Shuffle40
 label "\[value in]"
 xpos -9638
 ypos 15503
}
AddMix {
 inputs 2
 premultiplied true
 nonlinear true
 lut {A {}
   B {curve 1 s0 t-1.700000048 -0.003482580185 s-0.6000000238 t0}}
 name AddMix4
 xpos -9638
 ypos 15598
}
Merge2 {
 inputs 2
 name Merge79
 xpos -9638
 ypos 15672
}
StickyNote {
 inputs 0
 name StickyNote115
 label " <align='left> addmix (luma image blending)\n\nSimilar to a dark luma slice but more controlable. \n\nDo not use with stereo post convertion shots!\n\n."
 note_font_size 15
 xpos -14933
 ypos 15288
}
StickyNote {
 inputs 0
 name StickyNote137
 label " <align='left> addmix (luma image blending)\n\nSimilar to a dark luma slice but more controlable. \n\nDo not use with stereo post convertion shots!\n\n."
 note_font_size 15
 xpos -9566
 ypos 15295
}
push $N8edb6b0
Dot {
 name Dot490
 xpos -15097
 ypos 23137
}
set Nb256490 [stack 0]
Dot {
 name Dot498
 xpos -15367
 ypos 23122
}
Dot {
 name Dot499
 xpos -15379
 ypos 23454
}
Premult {
 name Premult5
 xpos -15410
 ypos 23478
}
push $N8edacc0
Grade {
 channels alpha
 blackpoint 0.095
 whitepoint 0.29
 gamma 3.9
 white_clamp true
 name Grade16
 xpos -14903
 ypos 23186
}
FilterErode {
 channels rgba
 size -1
 name FilterErode5
 xpos -14903
 ypos 23224
}
Blur {
 channels alpha
 size 3
 name Blur3
 xpos -14893
 ypos 23281
}
Dot {
 name Dot492
 xpos -14855
 ypos 23357
}
push $Nb256490
push $N89ad070
Dot {
 name Dot483
 xpos -15261
 ypos 22821
}
Shuffle {
 in bg
 name Shuffle15
 label "\[value in]"
 xpos -15292
 ypos 22892
}
Dot {
 name Dot485
 xpos -15261
 ypos 23342
}
AddMix {
 inputs 2
 premultiplied true
 nonlinear true
 lut {A {}
   B {curve 1 s0 t-2.700000048 0.08681601286 s-1.100000024 t0}}
 name AddMix1
 xpos -15128
 ypos 23341
}
Copy {
 inputs 2
 from0 rgba.alpha
 to0 rgba.alpha
 name Copy6
 xpos -15005
 ypos 23356
}
Premult {
 name Premult14
 xpos -15005
 ypos 23394
}
Dot {
 name Dot497
 xpos -14963
 ypos 23439
}
push $N8ef06c0
Dot {
 name Dot496
 xpos -14799
 ypos 23176
}
Merge2 {
 inputs 2
 name Merge26
 xpos -14820
 ypos 23427
}
Merge2 {
 inputs 2
 name Merge27
 xpos -14820
 ypos 23478
}
push $N9f319a0
Dot {
 name Dot619
 xpos -9612
 ypos 20046
}
Dot {
 name Dot620
 xpos -9612
 ypos 20263
}
set Nc1add80 [stack 0]
Shuffle {
 in bg
 name Shuffle41
 label "\[value in]"
 xpos -9742
 ypos 20256
}
Dot {
 name Dot621
 xpos -10046
 ypos 20263
}
Dot {
 name Dot622
 xpos -10041
 ypos 20873
}
set Nc1c3890 [stack 0]
Dot {
 name Dot623
 xpos -10163
 ypos 20873
}
Dot {
 name Dot624
 xpos -10163
 ypos 20982
}
push $Nc1add80
Shuffle {
 in cleanscreen
 name Shuffle42
 label "\[value in]"
 xpos -9643
 ypos 20319
}
set Nc1d02e0 [stack 0]
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0004840221663 0.0203586258 1.784753561}
 screenColour_panelDropped true
 setKnobFlags {screenColour_panelDropped +HIDDEN}
 screenGain 1
 screenBalance 0.95
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 1
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 1
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight38
 xpos -9643
 ypos 20424
}
Dot {
 name Dot625
 xpos -9612
 ypos 20494
}
set Nc265ad0 [stack 0]
Dot {
 name Dot626
 xpos -9606
 ypos 20784
}
set Nc26bbf0 [stack 0]
Grade {
 channels alpha
 white 1.04
 gamma 0.415
 name Grade23
 xpos -9852
 ypos 20777
}
FilterErode {
 size 10
 filter gaussian
 name FilterErode11
 xpos -9852
 ypos 20846
}
Dot {
 name Dot627
 xpos -9822
 ypos 20918
}
push $Nc1c3890
Blur {
 inputs 1+1
 size 500
 name Blur9
 xpos -10075
 ypos 20911
}
Merge2 {
 inputs 2
 operation min
 bbox B
 name Merge80
 xpos -10075
 ypos 20981
}
push $Nc1d02e0
Dot {
 name Dot628
 xpos -9854
 ypos 20326
}
Dot {
 name Dot629
 xpos -9854
 ypos 20560
}
push $Nc265ad0
Dot {
 name Dot630
 xpos -9710
 ypos 20494
}
Merge2 {
 inputs 2
 operation minus
 bbox B
 name Merge82
 xpos -9741
 ypos 20559
}
Saturation {
 saturation 0
 name Saturation5
 xpos -9741
 ypos 20625
}
push $Nc1add80
Shuffle {
 in cleanplate
 name Shuffle43
 label "\[value in]"
 xpos -9436
 ypos 20256
}
Dot {
 name Dot631
 xpos -9404
 ypos 20440
}
Saturation {
 saturation 0
 name Saturation6
 xpos -9435
 ypos 20721
}
Merge2 {
 inputs 2
 operation divide
 bbox B
 name Merge83
 xpos -9741
 ypos 20721
}
Merge2 {
 inputs 2
 operation multiply
 bbox B
 name Merge86
 xpos -9741
 ypos 20981
}
Dot {
 name Dot632
 xpos -9710
 ypos 21064
}
push $Nc26bbf0
Merge2 {
 inputs 2
 operation plus
 bbox B
 name Merge95
 xpos -9637
 ypos 21063
}
push $N9f61a40
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0005114796804 0.02077579126 1.807955623}
 screenGain 1
 screenBalance 0.95
 alphaBias {0.09391809255 0.0398109816 0.04057334363}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 0
 screenClipMin 0
 screenClipMax 1
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 1
 midPoint 0.18
 lowGain 0.905
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight39
 xpos -9824
 ypos 22287
}
push $Na3a91f0
Merge2 {
 inputs 2
 name Merge108
 xpos -9563
 ypos 22287
}
push $N87b6c70
push $N9f3f480
Dot {
 name Dot576
 xpos -9573
 ypos 19127
}
Dot {
 name Dot577
 xpos -9573
 ypos 19226
}
set Nb6c3ef0 [stack 0]
Dot {
 name Dot578
 xpos -9693
 ypos 19226
}
set Nb6ce370 [stack 0]
Dot {
 name Dot579
 xpos -9776
 ypos 19226
}
OFXuk.co.thefoundry.keylight.keylight_v201 {
 show "Final Result"
 unPreMultiply false
 screenColour {0.0004674459633 0.02045151405 1.789742351}
 screenGain 1
 screenBalance 0.95
 alphaBias {0.5 0.5 0.5}
 despillBias {0.5 0.5 0.5}
 gangBiases true
 preBlur 0
 "Screen Matte" 1
 screenClipMin 0
 screenClipMax 0.965
 screenClipRollback 0
 screenGrowShrink 0
 screenSoftness 0
 screenDespotBlack 0
 screenDespotWhite 0
 screenReplaceMethod "Soft Colour"
 screenReplaceColour {0.5 0.5 0.5}
 Tuning 0
 midPoint 0.5
 lowGain 1
 midGain 1
 highGain 1
 "Inside Mask" 0
 sourceAlphaHandling Ignore
 insideReplaceMethod "Soft Colour"
 insideReplaceColour {0.5 0.5 0.5}
 Crops 0
 SourceXMethod Colour
 SourceYMethod Colour
 SourceEdgeColour 0
 SourceCropL 0
 SourceCropR 1
 SourceCropB 0
 SourceCropT 1
 balanceSet false
 insideComponent None
 outsideComponent None
 cacheBreaker true
 name Keylight30
 xpos -9807
 ypos 19495
}
push $Nb6c3ef0
Group {
 name L_Despill_v16
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -9604
 ypos 19348
 disable true
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set Nb774e20 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set Nb77d590 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set Nb789eb0 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set Nb78e170 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set Nb7967f0 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $Nb789eb0
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $Nb774e20
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set Nb7e5850 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set Nb7f4cf0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $Nb7f4cf0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $Nb7f4cf0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $Nb7f4cf0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $Nb7f4cf0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set Nb83dc90 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set Nb842090 [stack 0]
push $Nb7e5850
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set Nb852d90 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $Nb852d90
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $Nb852d90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $Nb852d90
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $Nb852d90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set Nb89c0b0 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set Nb8a03b0 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $Nb842090
push $Nb8a03b0
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set Nb8d89d0 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set Nb8dcc00 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $Nb8dcc00
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set Nb8f5900 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $Nb8f5900
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $Nb8f5900
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $Nb8f5900
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $Nb8dcc00
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set Nb964690 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $Nb964690
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $Nb964690
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $Nb964690
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set Nb9d33b0 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set Nb9dad00 [stack 0]
push $Nb9dad00
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $Nb8dcc00
push $Nb9d33b0
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set Nba0a710 [stack 0]
push $Nb8d89d0
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $Nb8dcc00
push $Nba0a710
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set Nba680f0 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set Nba75600 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set Nba79870 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $Nba79870
push $Nb78e170
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $Nba75600
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set Nbaa8220 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set Nbab9820 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set Nbabdee0 [stack 0]
push $Nbabdee0
push $Nba680f0
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set Nbabdb50 [stack 0]
push $Nbabdb50
push $Nb83dc90
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $Nb89c0b0
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $Nbaa8220
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set Nbb66c20 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $Nbab9820
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $Nb7967f0
push $Nbb66c20
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $Nb77d590
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $Nb7967f0
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
Log2Lin {
 operation lin2log
 name Log2Lin5
 xpos -9604
 ypos 19374
}
push $Nb6c3ef0
Shuffle {
 in bg
 name Shuffle30
 label "\[value in]"
 xpos -9439
 ypos 19219
}
Dot {
 name Dot580
 xpos -9408
 ypos 19320
}
Log2Lin {
 operation lin2log
 name Log2Lin6
 xpos -9439
 ypos 19344
}
push $Nb6ce370
Shuffle {
 in cleanplate
 name Shuffle31
 label "\[value in]"
 xpos -9724
 ypos 19282
}
Group {
 name L_Despill_v17
 help "<b><u>L_Despill_v05</b></u>\n\n<b>“Despill Math” - </b>Allows you to choose one of several types of despill algorithms.\n<b>“Math Colorspace” - </b>Allows this math to be preformed in a Log or Linear colorspace.  Log usually returns a preferable result. \t\n<b>“Balance White” - </b>This applies a whitepoint hue offset to the input before the suppression and then the reverse after.  For example, if your greenscreen plate has an overall green cast, this setting will allow the green suppression to be focused just on the green screen itself and not suppress the entire plate. \n<b>“Balance Black” - </b>This does the same with the blackpoint. \n<b>“FineTune” - </b>Adjusts various offsets within each type of despill math equation. \n\n<b>“Spill Replace Tab”- </b>Full grade and saturation controls of the spill area.\n\n<b>“Spill Matte Tab”- </b>The area that gets spill suppressed returns a matte channel.  This is what is used to control the \"Spill Replace\" color correction nodes, and where if you choose, to bring in the BG.  Here we have added some controls and filters for this matte. \n<b>“Median Size” - </b>Applies a median filter to the spill matte. \n<b>“Spill Matte Clean” - </b>Applies an \"AlpahClean\" operation to the spill matte.\n<b>“Spill Matte Blur” - </b>Applies a blur filter to the spill matte.\n\n<b>“MultPlus Tab” - </b>here you have the choice to either multiply and add the BG to the FG, or to KeyMix. The color correction settings here are only for the MultPlus choice.  If you keymix its best to adjust the spill matte to achieve your results. \n\n<b>“FG Grade Tab” - </b>color correction controls here for the foreground without effecting the background. \n\n<i>(For any questions, comments or suggestions please email gizmos@luma-pictures.com)</i>"
 xpos -9724
 ypos 19347
 disable true
 addUserKnob {20 Despill}
 addUserKnob {4 ScreenColor l "Screen Color" M {Green Red Blue}}
 addUserKnob {4 DespillMath l "Despill Math" -STARTLINE M {Average Average2 Max RedLimitsGreen BlueLimitsGreen "" "" ""}}
 addUserKnob {4 SpillMathColorspace l MathColorspace -STARTLINE M {Log Lin "" "" "" "" ""}}
 addUserKnob {7 BalanceWhite l "Balance White" R -2 4}
 BalanceWhite 1
 addUserKnob {7 BalanceBlack l "Balance Black" R -0.01 0.01}
 addUserKnob {7 FineTune l "Fine Tune" R -1 1}
 addUserKnob {26 ""}
 addUserKnob {41 bbox l "set bbox to " T MergeBBox.bbox}
 addUserKnob {7 mix}
 mix 1
 addUserKnob {26 ""}
 addUserKnob {22 Button l "     Luma Pictures     " T "import os\nimport sys\n\ntry:\n    import subprocess\n    def _run(cmd, shell, wait):\n        opener = subprocess.Popen(cmd, shell=shell)\n        if wait:\n            opener.wait()\n        return opener.pid\nexcept ImportError:\n    import popen2\n    def _run(cmd, shell, wait):\n        opener = popen2.Popen3(cmd)\n        if wait:\n            opener.wait()\n        return opener.pid\n\ndef _open(url, wait=0):\n    if sys.platform == \"darwin\":\n        cmd = \[\"open\", url]\n    elif hasattr(os, \"startfile\"):\n        return os.startfile(url)\n    elif os.environ.has_key(\"KDE_FULL_SESSION\") or os.environ.has_key(\"KDE_MULTIHEAD\") or \\\n        os.environ.has_key(\"GNOME_DESKTOP_SESSION_ID\") or os.environ.has_key(\"GNOME_KEYRING_SOCKET\"):\n        cmd = \[\"xdg-open\", url]\n    else:\n        raise OSError, \"Desktop not supported.\"\n\n    return _run(cmd, 0, wait)\n\n_open('http://www.luma-pictures.com/tools/nuke/')" +STARTLINE}
 addUserKnob {20 SpillReplace l "Spill Replace"}
 addUserKnob {41 blackpoint_2 l blackpoint T SpillReplaceGrade.blackpoint}
 addUserKnob {41 whitepoint_2 l whitepoint T SpillReplaceGrade.whitepoint}
 addUserKnob {41 black l lift T SpillReplaceGrade.black}
 addUserKnob {41 white l gain T SpillReplaceGrade.white}
 addUserKnob {41 multiply T SpillReplaceGrade.multiply}
 addUserKnob {41 add l offset T SpillReplaceGrade.add}
 addUserKnob {41 gamma_2 l gamma T SpillReplaceGrade.gamma}
 addUserKnob {41 saturation T SpillReplaceSaturation.saturation}
 addUserKnob {4 ReplaceColorColorspace l Colorspace M {Log Lin}}
 addUserKnob {20 SpillMatte}
 addUserKnob {7 SpillMatteWhitepoint l whitepoint}
 SpillMatteWhitepoint 1
 addUserKnob {7 SpillMatteBlackpoint l blackpoint}
 addUserKnob {7 SpillMatteGamma l gamma R 0 4}
 SpillMatteGamma 1
 addUserKnob {26 ""}
 addUserKnob {41 disable_1 l disable -STARTLINE T SpillMatteMedian.disable}
 addUserKnob {41 size_1 l "Median Size" T SpillMatteMedian.size}
 addUserKnob {26 ""}
 addUserKnob {26 AlphaClean l "" +STARTLINE T "Spill Matte Clean   "}
 addUserKnob {6 SpillMatteAlphaClean_disable l disable -STARTLINE}
 SpillMatteAlphaClean_disable true
 addUserKnob {41 size T SpillMatteAlphaClean.size}
 addUserKnob {41 OrigEdgeAmount T SpillMatteAlphaClean.OrigEdgeAmount}
 addUserKnob {41 OrigEdgeWidth T SpillMatteAlphaClean.OrigEdgeWidth}
 addUserKnob {26 ""}
 addUserKnob {14 SpillMatteBlur l "Spill Matte Blur" R 0 100}
 addUserKnob {26 ""}
 addUserKnob {4 SpillMatteMathColorspace l "Math Colorspace" -STARTLINE M {Log Lin "Defined by Luminance from BG" "" "" ""}}
 SpillMatteMathColorspace "Defined by Luminance from BG"
 addUserKnob {20 MultPlus}
 addUserKnob {6 MultPlusMerge l "Multiply and Plus BG (vs. KeyMix)" +STARTLINE}
 MultPlusMerge true
 addUserKnob {41 blackpoint T BG_Grade.blackpoint}
 addUserKnob {41 whitepoint T BG_Grade.whitepoint}
 addUserKnob {41 gamma T BG_Grade.gamma}
 addUserKnob {41 saturation_1 l saturation T BG_Saturation.saturation}
 addUserKnob {41 black_clamp l "black clamp" T BG_Grade.black_clamp}
 addUserKnob {41 white_clamp l "white clamp" -STARTLINE T BG_Grade.white_clamp}
 addUserKnob {4 MultPlusColorspace l ColorSpace M {Log Lin "" "" "" ""}}
 addUserKnob {20 FGgrade l "FG Grade"}
 addUserKnob {41 blackpoint_1 l blackpoint T FGGrade.blackpoint}
 addUserKnob {41 whitepoint_1 l whitepoint T FGGrade.whitepoint}
 addUserKnob {41 black_1 l lift T FGGrade.black}
 addUserKnob {41 white_1 l gain T FGGrade.white}
 addUserKnob {41 multiply_1 l multiply T FGGrade.multiply}
 addUserKnob {41 add_1 l offset T FGGrade.add}
 addUserKnob {41 gamma_1 l gamma T FGGrade.gamma}
 addUserKnob {41 saturation_2 l saturation T FGSaturation.saturation}
}
 Input {
  inputs 0
  name FG
  xpos 179
  ypos -671
 }
 Dot {
  name Dot6
  xpos 213
  ypos -618
 }
set Nbc30de0 [stack 0]
 Dot {
  name Dot2
  xpos 984
  ypos -618
 }
 Dot {
  name Dot5
  xpos 984
  ypos 738
 }
set Nbc39560 [stack 0]
 Dot {
  name Dot27
  xpos 984
  ypos 882
 }
 Input {
  inputs 0
  name BG
  xpos 618
  ypos -683
  number 1
 }
 Dot {
  name Dot16
  xpos 655
  ypos -236
 }
set Nbc45e80 [stack 0]
 Dot {
  name Dot7
  xpos 655
  ypos -54
 }
set Nbc4a140 [stack 0]
 Dot {
  name Dot13
  xpos 765
  ypos -54
 }
 Dot {
  name Dot3
  xpos 764
  ypos 558
 }
set Nbc527b0 [stack 0]
 Dot {
  name Dot12
  xpos 819
  ypos 558
 }
 Merge2 {
  inputs 2
  name MergeBBox
  xpos 783
  ypos 877
 }
push $Nbc45e80
 Saturation {
  saturation 0
  name Monochrome
  xpos 508
  ypos -239
 }
 Shuffle {
  green red
  blue red
  alpha red
  name ShuffleLuma
  xpos 508
  ypos -203
 }
 Clamp {
  name ClampLuma
  xpos 508
  ypos -174
 }
 Dot {
  name Dot28
  xpos 544
  ypos -102
 }
push $Nbc30de0
 NoOp {
  name LumaDespillFGPixelAspect
  xpos 179
  ypos -573
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 .5
  name Swaparoonie
  xpos 179
  ypos -539
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceBlack i}}
  whitepoint {{parent.BalanceWhite i}}
  black_clamp false
  name BalanceGrade
  xpos 179
  ypos -510
 }
set Nbca1850 [stack 0]
 Dot {
  name Dot21
  xpos 270
  ypos -402
 }
set Nbcb0cf0 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen3
  xpos 234
  ypos -287
 }
push $Nbcb0cf0
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen3
  xpos 234
  ypos -311
 }
push $Nbcb0cf0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax3
  xpos 234
  ypos -335
 }
push $Nbcb0cf0
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage4
  xpos 234
  ypos -359
 }
push $Nbcb0cf0
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage5
  xpos 234
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch3
  xpos 234
  ypos -263
 }
 Dot {
  name Dot22
  xpos 270
  ypos -186
 }
set Nbcf9c90 [stack 0]
 Dot {
  name Dot17
  xpos 410
  ypos -186
 }
set Nbcfe040 [stack 0]
push $Nbca1850
 Log2Lin {
  operation lin2log
  black 0
  name Spill_Lin2Log
  xpos 124
  ypos -431
 }
 Dot {
  name Dot15
  xpos 160
  ypos -402
 }
set Nbd0ed90 [stack 0]
 Expression {
  expr1 g>b*(parent.FineTune+1)?b*(parent.FineTune+1):g
  expr3 g-b*(parent.FineTune+1)
  name DespilledGreenBlueLimitsGreen
  xpos 124
  ypos -287
 }
push $Nbd0ed90
 Expression {
  expr1 g>r*(parent.FineTune+1)?r*(parent.FineTune+1):g
  expr3 g-r*(parent.FineTune+1)
  name DespilledGreenRedLimitsGreen
  xpos 124
  ypos -311
 }
push $Nbd0ed90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? max((r * ((1- (parent.FineTune+.5)) * 2)),(b * (parent.FineTune+.5) *2)) : max((r * (parent.FineTune+.5) * 2)  ,  (b *(1- (parent.FineTune+.5)) *2) )),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenMax
  xpos 124
  ypos -335
 }
push $Nbd0ed90
 Expression {
  expr1 g>(b+r)/2*(parent.FineTune+1)?(b+r)/2*(parent.FineTune+1):g
  expr3 g-(r+b)*(parent.FineTune+1)/2
  name DespilledGreenAverage2
  xpos 124
  ypos -359
 }
push $Nbd0ed90
 Expression {
  temp_name3 spMatte
  temp_expr3 "clamp(g-(ScreenColor==2 ? ((r * ((1- (parent.FineTune+.5)) * 2))  +  (b * (parent.FineTune+.5) *2) )/2 : ((r * (parent.FineTune+.5) * 2)  +  (b *(1- (parent.FineTune+.5)) *2) )/2),0,1)"
  channel0 {rgba.red -rgba.green -rgba.blue -rgba.alpha}
  expr0 r
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "g - spMatte"
  channel2 {-rgba.red -rgba.green rgba.blue -rgba.alpha}
  expr2 b
  channel3 {-rgba.red -rgba.green -rgba.blue rgba.alpha}
  expr3 spMatte
  name DespilledGreenAverage
  xpos 124
  ypos -383
 }
 Switch {
  inputs 5
  which {{parent.DespillMath i}}
  name DespillMathSwitch
  xpos 124
  ypos -263
 }
 Dot {
  name Dot23
  xpos 160
  ypos -222
 }
set Nbd580a0 [stack 0]
 Dot {
  name Dot1
  xpos 325
  ypos -222
 }
set Nbd5c3a0 [stack 0]
 Dot {
  name Dot24
  xpos 489
  ypos -222
 }
 Keymix {
  inputs 3
  name Keymix1
  xpos 454
  ypos -114
 }
push $Nbcfe040
push $Nbd5c3a0
 Switch {
  inputs 3
  which {{SpillMatteMathColorspace i}}
  name Switch1
  xpos 290
  ypos -107
 }
 Grade {
  channels rgba
  blackpoint {{parent.SpillMatteBlackpoint i}}
  whitepoint {{parent.SpillMatteWhitepoint i}}
  gamma {{parent.SpillMatteGamma i}}
  name SpillMatteGrade
  xpos 289
  ypos -83
 }
 Median {
  channels alpha
  name SpillMatteMedian
  xpos 289
  ypos -54
  disable true
 }
 Group {
  name SpillMatteAlphaClean
  help "The alphaClean removes stray pixels from the alpha channel of your matte.\nThe effect is applied to the alpha channel only."
  xpos 289
  ypos -11
  disable {{parent.SpillMatteAlphaClean_disable i x1 1}}
  addUserKnob {20 AlphaClean}
  addUserKnob {7 size R 0 10}
  size 5
  addUserKnob {7 OrigEdgeAmount}
  OrigEdgeAmount 1
  addUserKnob {7 OrigEdgeWidth R 0 10}
  OrigEdgeWidth 5
  addUserKnob {6 ClampAlpha l "Clamp Alpha" +STARTLINE}
  ClampAlpha true
 }
  Input {
   inputs 0
   name Input1
   xpos 343
   ypos -719
  }
set Nbd949d0 [stack 0]
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i x1001 0}}
   name clampAlpha1
   xpos 343
   ypos -618
  }
set Nbd98c40 [stack 0]
  Blur {
   size {{parent.size i}}
   name Blur1
   label "\[value size]"
   xpos 515
   ypos -136
  }
push $Nbd98c40
  Invert {
   name Invert1
   xpos 218
   ypos -452
   disable {{"parent.size>=0 ? 1 : 0" i}}
  }
set Nbdb18f0 [stack 0]
  Blur {
   size {{parent.size i} {parent.size i}}
   name Blur7
   label "\[value size]"
   xpos 28
   ypos -332
  }
push $Nbdb18f0
  Blur {
   size {{parent.size*2 i} {parent.size*2 i}}
   name Blur8
   label "\[value size]"
   xpos 119
   ypos -329
  }
  Merge2 {
   inputs 2
   name Merge2
   xpos 74
   ypos -248
  }
push $Nbdb18f0
  Blur {
   size {{parent.size*4 i} {parent.size*4 i}}
   name Blur9
   label "\[value size]"
   xpos 218
   ypos -330
  }
  Merge2 {
   inputs 2
   name Merge3
   xpos 129
   ypos -203
  }
push $Nbdb18f0
  Blur {
   size {{parent.size*8 i} {parent.size*8 i}}
   name Blur10
   label "\[value size]"
   xpos 318
   ypos -328
  }
  Merge2 {
   inputs 2
   name Merge4
   xpos 192
   ypos -154
  }
  Invert {
   name Invert2
   xpos 192
   ypos -117
   disable {{"parent.size>=0 ? 1 : 0"}}
  }
  NoOp {
   name NoOp4
   tile_color 0xffd600ff
   label "positiv Expoblur"
   xpos 192
   ypos -55
  }
push $Nbd98c40
  Invert {
   name Invert4
   xpos -190
   ypos -545
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
set Nbe20670 [stack 0]
  Blur {
   size {{-parent.size i} {-parent.size i}}
   name Blur3
   label "\[value size]"
   xpos -369
   ypos -435
  }
push $Nbe20670
  Blur {
   size {{-parent.size*2 i} {-parent.size*2 i}}
   name Blur4
   label "\[value size]"
   xpos -265
   ypos -440
  }
  Merge2 {
   inputs 2
   name Merge7
   xpos -306
   ypos -361
  }
push $Nbe20670
  Blur {
   size {{-parent.size*4 i} {-parent.size*4 i}}
   name Blur5
   label "\[value size]"
   xpos -173
   ypos -439
  }
  Merge2 {
   inputs 2
   name Merge8
   xpos -243
   ypos -323
  }
push $Nbe20670
  Blur {
   size {{-parent.size*8 i} {-parent.size*8 i}}
   name Blur6
   label "\[value size]"
   xpos -85
   ypos -438
  }
  Merge2 {
   inputs 2
   name Merge9
   xpos -189
   ypos -279
  }
  Invert {
   name Invert5
   xpos -189
   ypos -234
   disable {{"parent.size<=0 ? 1 : 0" i}}
  }
  NoOp {
   name NoOp2
   tile_color 0xffd600ff
   label "negativ Expoblur"
   xpos -189
   ypos -169
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos 192
   ypos 22
  }
set Nbe8f390 [stack 0]
  Blur {
   size {{parent.OrigEdgeWidth i}}
   name Blur2
   label "\[value size]"
   xpos 491
   ypos 114
  }
set Nbe96ce0 [stack 0]
push $Nbe96ce0
  Merge2 {
   inputs 2
   operation xor
   name Merge1
   xpos 491
   ypos 164
  }
  Grade {
   channels all
   whitepoint 0.3
   name Grade1
   xpos 491
   ypos 200
  }
push $Nbd98c40
push $Nbe8f390
  Keymix {
   inputs 3
   mix {{parent.OrigEdgeAmount i}}
   name Keymix2
   xpos 398
   ypos 294
  }
  Clamp {
   channels alpha
   mix {{parent.ClampAlpha i}}
   name clampAlpha
   xpos 398
   ypos 438
  }
set Nbec66d0 [stack 0]
push $Nbd949d0
  Dot {
   name Dot2
   xpos 654
   ypos -546
  }
  Dot {
   name Dot1
   xpos 695
   ypos 403
  }
  ShuffleCopy {
   inputs 2
   name ChannelsPassThrough
   xpos 455
   ypos 565
  }
  Output {
   name Output1
   xpos 455
   ypos 638
  }
push $Nbd98c40
push $Nbec66d0
  Viewer {
   inputs 2
   input_process false
   name Viewer1
   xpos 100
   ypos 645
  }
 end_group
 Blur {
  size {{parent.SpillMatteBlur i}}
  name SpillMatteBlur
  label "\[value size]"
  xpos 289
  ypos 23
 }
 Clamp {
  name ClampSpillMatte
  xpos 289
  ypos 78
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name ShuffleSpillMatte
  xpos 289
  ypos 253
 }
set Nbf240b0 [stack 0]
 Dot {
  name Dot29
  xpos 325
  ypos 306
 }
set Nbf31590 [stack 0]
 Dot {
  name Dot18
  xpos 380
  ypos 306
 }
set Nbf35850 [stack 0]
 Dot {
  name Dot19
  xpos 379
  ypos 690
 }
push $Nbf35850
push $Nbc4a140
 Log2Lin {
  operation lin2log
  black 0
  name BG_Lin2Log
  xpos 618
  ypos 109
  disable {{parent.MultPlusColorspace i}}
 }
 Grade {
  blackpoint 0.35
  whitepoint 0.5
  black_clamp false
  name BG_Grade
  xpos 618
  ypos 133
 }
 Saturation {
  saturation 0.8
  name BG_Saturation
  xpos 618
  ypos 157
 }
 Merge2 {
  inputs 2
  operation multiply
  name MultipylMultPlus
  xpos 618
  ypos 303
 }
push $Nbf31590
 Dot {
  name Dot8
  xpos 325
  ypos 354
 }
set Nbf64200 [stack 0]
 Dot {
  name Dot4
  xpos 325
  ypos 414
 }
set Nbf75800 [stack 0]
 Invert {
  name InvertFGmatte
  xpos 124
  ypos 402
 }
set Nbf79ec0 [stack 0]
push $Nbf79ec0
push $Nbf240b0
 Dot {
  name Dot20
  xpos 160
  ypos 258
 }
set Nbf79b30 [stack 0]
push $Nbf79b30
push $Nbcf9c90
 Dot {
  name Dot26
  xpos 105
  ypos -186
 }
push $Nbd580a0
 Dot {
  name Dot25
  xpos 50
  ypos -222
 }
 Switch {
  inputs 2
  which {{parent.SpillMathColorspace i}}
  name Switch3
  xpos 14
  ypos -119
 }
 Log2Lin {
  black 0
  name Spill_Log2Lin
  xpos 14
  ypos -23
  disable {{parent.SpillMathColorspace i}}
 }
 Grade {
  channels {-rgba.red rgba.green -rgba.blue none}
  blackpoint {{parent.BalanceGrade.blackpoint i}}
  whitepoint {{parent.BalanceGrade.whitepoint i}}
  add {{parent.BalanceGrade.add i}}
  reverse true
  black_clamp false
  name BalanceBack
  xpos 14
  ypos 6
 }
 Expression {
  expr0 "ScreenColor==1? g : r"
  channel1 {-rgba.red rgba.green -rgba.blue -rgba.alpha}
  expr1 "ScreenColor==1 ? r : ScreenColor==0?g:b"
  expr2 "ScreenColor==2? g : b"
  expr3 a
  name Swaparoonie_Back
  xpos 14
  ypos 49
 }
 Log2Lin {
  operation lin2log
  black 0
  name SpillReplace_Lin2Log1
  xpos 14
  ypos 169
  disable {{parent.ReplaceColorColorspace i}}
 }
 Grade {
  inputs 1+1
  channels rgba
  black 0.0005
  white 0.98
  black_clamp false
  name SpillReplaceGrade
  xpos 14
  ypos 229
 }
 Saturation {
  inputs 1+1
  name SpillReplaceSaturation
  xpos 14
  ypos 277
 }
 Log2Lin {
  black 0
  name SpillReplace_Lin2Log2
  xpos 14
  ypos 301
  disable {{parent.ReplaceColorColorspace i}}
 }
push $Nbf64200
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  alpha alpha2
  name Shuffle_Spillmatte_to_Alpha
  xpos 14
  ypos 349
 }
 Dot {
  name Dot32
  xpos 50
  ypos 378
 }
 Grade {
  inputs 1+1
  black_clamp false
  name FGGrade
  xpos 14
  ypos 397
 }
 Saturation {
  inputs 1+1
  name FGSaturation
  xpos 14
  ypos 421
 }
 Dot {
  name Dot14
  xpos 49
  ypos 450
 }
 Dot {
  name Dot10
  xpos 489
  ypos 450
 }
set Nc022c20 [stack 0]
 Log2Lin {
  operation lin2log
  black 0
  name FGMultPlus_Lin2Log
  xpos 508
  ypos 481
  disable {{parent.MultPlusColorspace i}}
 }
 Merge2 {
  inputs 2
  operation plus
  name PlusMultPlus
  xpos 618
  ypos 529
 }
 Log2Lin {
  black 0
  name FGMultPlus_Log2Lin
  xpos 618
  ypos 589
  disable {{parent.MultPlusColorspace i}}
 }
 Dot {
  name Dot11
  xpos 654
  ypos 630
 }
push $Nbf75800
 Dot {
  name Dot9
  xpos 325
  ypos 554
 }
push $Nbc527b0
push $Nc022c20
 Keymix {
  inputs 3
  name BG_Keymix
  xpos 453
  ypos 546
 }
 Switch {
  inputs 2
  which {{parent.MultPlusMerge i}}
  name Switch2
  xpos 453
  ypos 625
 }
 ShuffleCopy {
  inputs 2
  name ShuffleCopy1
  xpos 453
  ypos 685
 }
push $Nbc39560
 Dissolve {
  inputs 2
  which {{parent.mix i}}
  name Dissolve1
  xpos 453
  ypos 726
 }
push $Nbc527b0
 Reformat {
  type "to box"
  box_width {{parent.LumaDespillFGPixelAspect.width i}}
  box_height {{parent.LumaDespillFGPixelAspect.height i}}
  box_fixed true
  box_pixel_aspect {{parent.LumaDespillFGPixelAspect.pixel_aspect i}}
  name Reformat1
  xpos 728
  ypos 817
 }
 ShuffleCopy {
  inputs 2
  red red
  green green
  blue blue
  name ChannelsPassThrough
  xpos 453
  ypos 817
 }
 CopyBBox {
  inputs 2
  name CopyBBoxBack
  xpos 453
  ypos 877
 }
 Output {
  name Output1
  xpos 453
  ypos 997
 }
end_group
Log2Lin {
 operation lin2log
 name Log2Lin7
 xpos -9724
 ypos 19373
}
Dot {
 name Dot581
 xpos -9693
 ypos 19419
}
Group {
 inputs 3
 name AdditiveKeyer2
 xpos -9439
 ypos 19418
 addUserKnob {20 User}
 addUserKnob {41 kb_mix_l l "Light: add/mult mode" T mMultiply_l.mix}
 addUserKnob {41 Kb_mix_d l "Dark: add/mult mode" T mMultiply_d.mix}
 addUserKnob {41 kb_grade_l l "Lights: grade(mult)" T Grade_l.multiply}
 addUserKnob {41 kb_grade_d l "Darks: grade(mult)" T Grade_d.multiply}
 addUserKnob {41 kb_satrtn l Saturation T Saturation.saturation}
}
 Input {
  inputs 0
  name BG
  selected true
  xpos 290
  ypos -153
  number 1
 }
set Nc0b88c0 [stack 0]
 Dot {
  name Dot1
  xpos 321
  ypos -69
 }
set Nc0bccf0 [stack 0]
 Colorspace {
  colorspace_out HSL
  name Colorspace
  label HSL
  xpos 244
 }
 Shuffle {
  red blue
  green blue
  name Shuffle
  label "Luminace only"
  xpos 244
  ypos 50
 }
set Nc0d33b0 [stack 0]
 Input {
  inputs 0
  name FG
  xpos -30
  ypos -162
  number 2
 }
 Input {
  inputs 0
  name REF
  xpos 122
  ypos -153
 }
 Merge2 {
  inputs 2
  operation minus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Merge1
  xpos 50
  ypos -102
 }
 Saturation {
  saturation 0.032
  name Saturation
  xpos 50
  ypos -52
 }
set Nc0f60b0 [stack 0]
 Clamp {
  channels rgb
  maximum 1000
  name Clamp_l
  label "more than zero\n"
  xpos -34
  ypos 1
 }
 Merge2 {
  inputs 2
  operation multiply
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.515
  name mMultiply_l
  label light
  xpos -34
  ypos 50
 }
 Grade {
  multiply 1.12
  black_clamp false
  name Grade_l
  xpos -34
  ypos 153
 }
push $Nc0d33b0
push $Nc0f60b0
 Clamp {
  channels rgb
  minimum -10000
  maximum 0
  name Clamp_d
  label "less than zero\n"
  xpos 111
  ypos -1
 }
 Merge2 {
  inputs 2
  operation multiply
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  mix 0.56
  name mMultiply_d
  label darks
  xpos 111
  ypos 50
 }
 Grade {
  multiply 1.75
  black_clamp false
  name Grade_d
  xpos 122
  ypos 143
 }
 Merge2 {
  inputs 2
  operation plus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Plus2
  xpos 39
  ypos 223
 }
push $Nc0bccf0
 Merge2 {
  inputs 2
  operation plus
  Achannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  Bchannels {rgba.red rgba.green rgba.blue -rgba.alpha}
  output {rgba.red rgba.green rgba.blue -rgba.alpha}
  name Plus3
  xpos 290
  ypos 250
 }
 Output {
  name Output1
  xpos 290
  ypos 314
 }
push $Nc0b88c0
 Viewer {
  center_fstop 0
  input_process false
  name Viewer1
  xpos -86
  ypos -116
 }
end_group
Log2Lin {
 name Log2Lin8
 xpos -9439
 ypos 19444
}
Merge2 {
 inputs 2
 name Merge56
 xpos -9439
 ypos 19495
}
Viewer {
 inputs 2
 frame 1
 center_fstop 0
 colour_sample_bbox {0.0478515625 0.0390625 0.150390625 0.08056640625}
 input_process false
 translate {0.1655000001 0.4550000131}
 rotate -78.19433738
 name Viewer3
 xpos -15038
 ypos 22319
}
push $Na63bfb0
Dot {
 name Dot597
 xpos -9274
 ypos 23155
}
Dot {
 name Dot598
 xpos -9276
 ypos 23485
}
push $Na64cc30
Dot {
 name Dot599
 xpos -9148
 ypos 22901
}
Merge2 {
 inputs 2
 name Merge64
 xpos -9179
 ypos 23484
}
Posterize {
 name Posterize1
 xpos -9179
 ypos 23510
}

---

